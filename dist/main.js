var Dz="@vercel/analytics",gz="1.6.1",Pz=()=>{if(window.va)return;window.va=function(...j){(window.vaq=window.vaq||[]).push(j)}};function T1(){return typeof window<"u"}function C1(){try{return"development"}catch(z){}return"production"}function Tz(z="auto"){if(z==="auto"){window.vam=C1();return}window.vam=z}function Cz(){return(T1()?window.vam:C1())||"production"}function F1(){return Cz()==="development"}function fz(z){if(z.scriptSrc)return z.scriptSrc;if(F1())return"https://va.vercel-scripts.com/v1/script.debug.js";if(z.basePath)return`${z.basePath}/insights/script.js`;return"/_vercel/insights/script.js"}function f1(z={debug:!0}){var j;if(!T1())return;if(Tz(z.mode),Pz(),z.beforeSend)(j=window.va)==null||j.call(window,"beforeSend",z.beforeSend);let A=fz(z);if(document.head.querySelector(`script[src*="${A}"]`))return;let S=document.createElement("script");if(S.src=A,S.defer=!0,S.dataset.sdkn=Dz+(z.framework?`/${z.framework}`:""),S.dataset.sdkv=gz,z.disableAutoTrack)S.dataset.disableAutoTrack="1";if(z.endpoint)S.dataset.endpoint=z.endpoint;else if(z.basePath)S.dataset.endpoint=`${z.basePath}/insights`;if(z.dsn)S.dataset.dsn=z.dsn;if(S.onerror=()=>{let E=F1()?"Please check if any ad blockers are enabled and try again.":"Be sure to enable Web Analytics for your project and deploy again. See https://vercel.com/docs/analytics/quickstart for more information.";console.log(`[Vercel Web Analytics] Failed to load script from ${A}. ${E}`)},F1()&&z.debug===!1)S.dataset.debug="false";document.head.appendChild(S)}class h1{state;listeners=new Set;constructor(z){this.state=z}getState(){return this.state}setState(z){this.state={...this.state,...z},this.listeners.forEach((j)=>j(this.state))}subscribe(z){return this.listeners.add(z),()=>this.listeners.delete(z)}}var b;function M1(z){return b=new h1(z),b}var hz={"":"today",today:"today",calendar:"calendar",duas:"duas",quran:"quran",settings:"settings"};class w1{listeners=new Set;current="today";init(){window.addEventListener("hashchange",()=>this.handleHash()),this.handleHash()}handleHash(){let z=window.location.hash.replace("#/","").replace("#",""),j=hz[z]||"today";if(j!==this.current)this.current=j,this.listeners.forEach((A)=>A(j))}navigate(z){window.location.hash=`#/${z==="today"?"":z}`}getCurrentRoute(){return this.current}onRouteChange(z){return this.listeners.add(z),()=>this.listeners.delete(z)}}var Y=new w1;var A1={city:"dhaka",cityDisplay:"Dhaka",methodId:1,methodName:"University of Islamic Sciences, Karachi",school:1,theme:"dark",timeFormat:"12h",lastSaved:""};var m1="Ramadan Taqwim",L1="https://api.aladhan.com/v1",n1="Bangladesh",c1=86400000,p1=1e4,M="ramadan-bd",w=2,K1="ramadan-bd-settings",Q1=9;function i1(){try{let z=localStorage.getItem(K1);if(!z)return{...A1};let j=JSON.parse(z);return{...A1,...j}}catch{return{...A1}}}function y1(z){z.lastSaved=new Date().toISOString(),localStorage.setItem(K1,JSON.stringify(z))}function P(z,j,A,S,E){return`aladhan:${z}:${j}:${A}:${S}:${E}`}var j1=null;function V1(){if(j1)return Promise.resolve(j1);return new Promise((z,j)=>{let A=indexedDB.open(M,w);A.onupgradeneeded=()=>{let S=A.result;if(!S.objectStoreNames.contains("monthTimings"))S.createObjectStore("monthTimings",{keyPath:"cacheKey"});if(!S.objectStoreNames.contains("duaFavorites"))S.createObjectStore("duaFavorites",{keyPath:"duaId"});if(!S.objectStoreNames.contains("quranProgress"))S.createObjectStore("quranProgress",{keyPath:"id"})},A.onsuccess=()=>{j1=A.result,z(j1)},A.onerror=()=>j(A.error)})}async function d1(z){try{let j=await V1();return new Promise((A,S)=>{let l=j.transaction("monthTimings","readonly").objectStore("monthTimings").get(z);l.onsuccess=()=>A(l.result||null),l.onerror=()=>S(l.error)})}catch{return null}}async function r1(z){try{let j=await V1();return new Promise((A,S)=>{let E=j.transaction("monthTimings","readwrite");E.objectStore("monthTimings").put(z),E.oncomplete=()=>A(),E.onerror=()=>S(E.error)})}catch{}}function s1(z){let j=new Date(z.fetchedAt).getTime();return Date.now()-j<c1}async function o1(){try{await V1()}catch{console.warn("IndexedDB unavailable — using in-memory only")}}async function x1(z){let j=null;for(let A=0;A<2;A++)try{let S=new AbortController,E=setTimeout(()=>S.abort(),p1),a=await fetch(z,{signal:S.signal});if(clearTimeout(E),!a.ok)throw Error(`HTTP ${a.status}: ${a.statusText}`);return await a.json()}catch(S){if(j=S,S.name!=="AbortError"&&!S.message?.includes("fetch"))throw S;if(A===0)await new Promise((E)=>setTimeout(E,1000))}throw j||Error("Fetch failed")}var Mz=86400000,wz={2026:{startGregorian:"19-02-2026",hijriYear:1447,dayCount:30}};function t1(z){let[j,A,S]=z.split("-").map(Number);return Math.floor(Date.UTC(S,A-1,j)/Mz)}function mz(z){let[,,j]=z.split("-").map(Number);return wz[j]||null}function nz(z){let j=mz(z.dateGregorian);if(!j)return z;let A=t1(z.dateGregorian),S=t1(j.startGregorian),E=A-S;if(E>=0&&E<j.dayCount){let a=E+1;return{...z,hijriMonth:Q1,hijriDay:a,hijriYear:j.hijriYear,hijriDisplay:`${a} Ramaḍān ${j.hijriYear}`,isRamadan:!0}}if(E===j.dayCount&&z.hijriMonth===10&&z.hijriDay>1){let a=z.hijriDay-1;return{...z,hijriDay:a,hijriYear:j.hijriYear,hijriDisplay:`${a} Shawwāl ${j.hijriYear}`,isRamadan:!1}}if(E===-1&&z.hijriMonth===Q1&&z.hijriDay===1)return{...z,hijriMonth:8,hijriDay:30,hijriYear:j.hijriYear,hijriDisplay:`30 Shaʿbān ${j.hijriYear}`,isRamadan:!1};return z}function u1(z){return z.map(nz)}function T(z){return z.replace(/\s*\(.*\)$/,"").trim()}function cz(z){let j=z.timings,A=z.date.hijri,S=z.date.gregorian,E=T(j.Fajr||""),a=[...A.holidays||[],...A.adjustedHolidays||[]],l={Fajr:E,Sunrise:T(j.Sunrise||""),Dhuhr:T(j.Dhuhr||""),Asr:T(j.Asr||""),Maghrib:T(j.Maghrib||""),Isha:T(j.Isha||""),SehriEnds:E,Iftar:T(j.Maghrib||"")};return{dateGregorian:S.date,dateReadable:z.date.readable,timestamp:parseInt(z.date.timestamp,10),weekday:S.weekday.en,hijriDisplay:`${A.day} ${A.month.en} ${A.year}`,hijriMonth:A.month.number,hijriDay:parseInt(A.day,10),hijriYear:parseInt(A.year,10),isRamadan:A.month.number===9,ramadanDay:A.month.number===9?parseInt(A.day,10):null,holidays:a,prayers:l}}function e1(z,j){let A=u1(z.map(cz));return{cacheKey:j,fetchedAt:new Date().toISOString(),days:A}}var S1=null;async function E1(){if(S1)return S1;let z=await x1(`${L1}/methods`);return S1=Object.values(z.data).filter((j)=>j.id!==99).map((j)=>({id:j.id,name:j.name})).sort((j,A)=>j.id-A.id),S1}async function zz(z){let{city:j,year:A,month:S,methodId:E,school:a}=z,l=new URL(`${L1}/calendarByCity/${A}/${S}`);l.searchParams.set("city",j),l.searchParams.set("country",n1),l.searchParams.set("method",String(E)),l.searchParams.set("school",String(a));let k=await x1(l.toString()),N=P(j.toLowerCase(),E,a,A,S);return e1(k.data,N)}function m(){let z=new Date,j=String(z.getDate()).padStart(2,"0"),A=String(z.getMonth()+1).padStart(2,"0"),S=z.getFullYear();return`${j}-${A}-${S}`}function G(){return new Date().getFullYear()}function _(){return new Date().getMonth()+1}function Az(z){return["","January","February","March","April","May","June","July","August","September","October","November","December"][z]||""}function jz(){return new Date().toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}function uz(z){return{...z,days:u1(z.days)}}async function r(z,j,A){let S=j??G(),E=A??_(),a=P(z.city,z.methodId,z.school,S,E),l=await d1(a);if(l){let k=uz(l);if(s1(l))return{data:k,source:"fresh-cache"};return pz(z,S,E),{data:k,source:"stale-cache"}}return a1(z,S,E)}async function a1(z,j,A){try{let S=await zz({city:z.cityDisplay,year:j,month:A,methodId:z.methodId,school:z.school}),E=uz(S);return await r1(E),{data:E,source:"network"}}catch(S){return{data:null,source:"error",error:S.message}}}function pz(z,j,A){a1(z,j,A).catch(()=>{})}async function Sz(z){let j=G(),A=_(),S=await r(z,j,A),E=null;if(A===2)E=await r(z,j,3);else if(A===3)E=await r(z,j,2);return{current:S,other:E}}class Ez{online=navigator.onLine;listeners=new Set;init(){window.addEventListener("online",()=>this.update(!0)),window.addEventListener("offline",()=>this.update(!1))}update(z){this.online=z,this.listeners.forEach((j)=>j(z))}isOnline(){return this.online}onChange(z){return this.listeners.add(z),()=>this.listeners.delete(z)}}var R=new Ez;function u(z,j,...A){let S=document.createElement(z);if(j)for(let[E,a]of Object.entries(j))if(E==="className")S.className=a;else if(E==="textContent")S.textContent=a;else if(E==="innerHTML")S.innerHTML=a;else S.setAttribute(E,a);for(let E of A)if(typeof E==="string")S.appendChild(document.createTextNode(E));else S.appendChild(E);return S}function Q(z,...j){z.innerHTML="";for(let A of j)z.appendChild(A)}var iz=[{route:"today",icon:"☪",label:"Today"},{route:"calendar",icon:"\uD83D\uDCC5",label:"Calendar"},{route:"duas",icon:"\uD83E\uDD32",label:"Duas"},{route:"quran",icon:"\uD83D\uDCD6",label:"Quran"},{route:"settings",icon:"⚙",label:"Settings"}];function az(){let z=u("nav",{className:"nav-bar",role:"navigation","aria-label":"Main navigation"});function j(){z.innerHTML="";let A=Y.getCurrentRoute();for(let S of iz){let E=u("button",{className:`nav-tab${S.route===A?" active":""}`,"aria-label":S.label,"aria-current":S.route===A?"page":""}),a=u("span",{className:"nav-icon","aria-hidden":"true"},S.icon),l=u("span",null,S.label);E.appendChild(a),E.appendChild(l),E.addEventListener("click",()=>Y.navigate(S.route)),z.appendChild(E)}}return j(),Y.onRouteChange(()=>j()),z}function lz(){let z=u("div",{className:"offline-banner",role:"alert"},"You are offline — showing cached data");function j(A){z.classList.toggle("show",!A)}return j(R.isOnline()),R.onChange(j),z}var v=["Fajr","Sunrise","Dhuhr","Asr","Maghrib","Isha"];function B(z){let[j,A]=z.split(":").map(Number);return j*60+A}function s(z){if(z<=0)return"0m 0s";let j=Math.floor(z/1000),A=Math.floor(j/3600),S=Math.floor(j%3600/60),E=j%60;if(A>0)return`${A}h ${S}m ${E}s`;if(S>0)return`${S}m ${E}s`;return`${E}s`}function yz(z){let[j,A]=z.split(":").map(Number),S=j>=12?"PM":"AM";return`${j%12||12}:${String(A).padStart(2,"0")} ${S}`}function X(z,j){if(j==="12h")return yz(z);return z}function l1(z,j){let A=new Date,S=A.getHours()*60+A.getMinutes(),E=A.getHours()*3600000+A.getMinutes()*60000+A.getSeconds()*1000;for(let a of v){let l=z.prayers[a],k=B(l);if(k>S){let q=k*60000-E,$=v.indexOf(a)-1,J,U;if($>=0)J=z.prayers[v[$]],U=B(J);else{J=j??z.prayers.Isha,U=B(J);let L=S+(1440-U),V=k+(1440-U),g=V>0?Math.min(1,Math.max(0,L/V)):0;return{name:a,time:l,prevTime:J,remainingMs:q,remainingDisplay:s(q),progress:g}}let H=k-U,K=S-U,O=H>0?Math.min(1,Math.max(0,K/H)):0;return{name:a,time:l,prevTime:J,remainingMs:q,remainingDisplay:s(q),progress:O}}}return null}function kz(z){let j=new Date,A=j.getHours()*60+j.getMinutes();return B(z)<=A}function qz(z,j){return j?.name===z}function k1(z,j){if(!z.isRamadan)return null;let A=new Date,S=A.getHours()*3600000+A.getMinutes()*60000+A.getSeconds()*1000,E=z.prayers.SehriEnds,a=z.prayers.Iftar,l=B(E)*60000,k=B(a)*60000;if(S<l){let N=l-S,q=j??z.prayers.Isha,$=B(q),J=B(E),U=Math.floor(S/60000),H=J+(1440-$),K=U+(1440-$),O=H>0?Math.min(1,Math.max(0,K/H)):0;return{label:"Sehri Ends In",targetTime:E,startTime:q,remainingMs:N,remainingDisplay:s(N),progress:O,type:"sehri"}}if(S<k){let N=k-S,q=k-l,$=S-l,J=q>0?Math.min(1,Math.max(0,$/q)):0;return{label:"Iftar In",targetTime:a,startTime:E,remainingMs:N,remainingDisplay:s(N),progress:J,type:"iftar"}}return null}function Nz(z){let j=u("div",{className:"hero-container"}),A=b.getState().settings.timeFormat,S=u("div",{className:"hero-card"});S.appendChild(u("div",{className:"hero-label"},"Sehri Ends")),S.appendChild(u("div",{className:"hero-time"},X(z.SehriEnds,A))),S.appendChild(u("div",{className:"hero-sublabel"},"(Fajr)"));let E=u("div",{className:"hero-card"});return E.appendChild(u("div",{className:"hero-label"},"Iftar")),E.appendChild(u("div",{className:"hero-time"},X(z.Iftar,A))),E.appendChild(u("div",{className:"hero-sublabel"},"(Maghrib)")),j.appendChild(S),j.appendChild(E),j}function W1(z,j,A){let S=u("section",{className:"countdown-hero","aria-live":"polite"}),E=b.getState().settings.timeFormat,a=A==="iftar"&&z,l=A==="next-prayer"&&j;if(a&&z){S.classList.add(z.type);let k=z.type==="sehri"?"\uD83C\uDF19":"\uD83C\uDF05",N=u("div",{className:"hero-cd-label"});N.innerHTML=`${k} <span class="hero-cd-type">${z.label}</span>`,S.appendChild(N),S.appendChild(u("div",{className:"hero-cd-time"},z.remainingDisplay)),S.appendChild(u("div",{className:"hero-cd-starts-at"},`Ends at ${X(z.targetTime,E)}`));let q=u("div",{className:"hero-cd-bar-wrap"}),$=u("div",{className:"hero-cd-bar"}),J=u("div",{className:`hero-cd-bar-fill ${z.type}`});J.style.width=`${Math.round(z.progress*100)}%`,$.appendChild(J),q.appendChild($);let U=u("div",{className:"hero-cd-bar-labels"});U.appendChild(u("span",null,X(z.startTime,E))),U.appendChild(u("span",null,X(z.targetTime,E))),q.appendChild(U),S.appendChild(q)}else if(l&&j){S.classList.add("next-prayer");let k=u("div",{className:"hero-cd-label"});k.innerHTML=`\uD83D\uDD4C <span class="hero-cd-type">Next: ${j.name}</span>`,S.appendChild(k),S.appendChild(u("div",{className:"hero-cd-time"},j.remainingDisplay)),S.appendChild(u("div",{className:"hero-cd-starts-at"},`Starts at ${X(j.time,E)}`));let N=u("div",{className:"hero-cd-bar-wrap"}),q=u("div",{className:"hero-cd-bar"}),$=u("div",{className:"hero-cd-bar-fill gold"});$.style.width=`${Math.round(j.progress*100)}%`,q.appendChild($),N.appendChild(q);let J=u("div",{className:"hero-cd-bar-labels"});J.appendChild(u("span",null,X(j.prevTime,E))),J.appendChild(u("span",null,X(j.time,E))),N.appendChild(J),S.appendChild(N)}else if(z){S.classList.add(z.type);let k=z.type==="sehri"?"\uD83C\uDF19":"\uD83C\uDF05";S.appendChild(u("div",{className:"hero-cd-label"},`${k} ${z.label}`)),S.appendChild(u("div",{className:"hero-cd-time"},z.remainingDisplay))}else if(j)S.classList.add("next-prayer"),S.appendChild(u("div",{className:"hero-cd-label"},`\uD83D\uDD4C Next: ${j.name}`)),S.appendChild(u("div",{className:"hero-cd-time"},j.remainingDisplay));else S.appendChild(u("div",{className:"hero-cd-label"},"All prayers completed for today"));if(z&&j){let k=u("div",{className:"hero-cd-toggle"}),N=u("button",{className:`toggle-pill${A==="iftar"?" active":""}`},"Iftar"),q=u("button",{className:`toggle-pill${A==="next-prayer"?" active":""}`},"Next Prayer");k.appendChild(N),k.appendChild(q),S.appendChild(k)}return S}function $z(z,j,A,S){let E=b.getState().settings.timeFormat;if(S==="iftar"&&j){z.className=`countdown-hero ${j.type}`;let a=z.querySelector(".hero-cd-type");if(a)a.textContent=j.label;let l=z.querySelector(".hero-cd-time");if(l)l.textContent=j.remainingDisplay;let k=z.querySelector(".hero-cd-starts-at");if(k)k.textContent=`Ends at ${X(j.targetTime,E)}`;let N=z.querySelector(".hero-cd-bar-fill");if(N)N.style.width=`${Math.round(j.progress*100)}%`,N.className=`hero-cd-bar-fill ${j.type}`;let q=z.querySelectorAll(".hero-cd-bar-labels span");if(q.length===2)q[0].textContent=X(j.startTime,E),q[1].textContent=X(j.targetTime,E)}else if(S==="next-prayer"&&A){z.className="countdown-hero next-prayer";let a=z.querySelector(".hero-cd-type");if(a)a.textContent=`Next: ${A.name}`;let l=z.querySelector(".hero-cd-time");if(l)l.textContent=A.remainingDisplay;let k=z.querySelector(".hero-cd-starts-at");if(k)k.textContent=`Starts at ${X(A.time,E)}`;let N=z.querySelector(".hero-cd-bar-fill");if(N)N.style.width=`${Math.round(A.progress*100)}%`,N.className="hero-cd-bar-fill gold";let q=z.querySelectorAll(".hero-cd-bar-labels span");if(q.length===2)q[0].textContent=X(A.prevTime,E),q[1].textContent=X(A.time,E)}else if(!j&&!A){let a=z.querySelector(".hero-cd-time");if(a)a.textContent="";let l=z.querySelector(".hero-cd-label");if(l)l.textContent="All prayers completed for today"}}function G1(z,j){let A=u("div",{className:"prayer-list"}),S=b.getState().settings.timeFormat;for(let E of v){let a=z.prayers[E],l=kz(a),k=qz(E,j),N=u("div",{className:`prayer-card${l&&!k?" past":""}${k?" now":""}`}),q=u("div",{className:"prayer-left"});if(l&&!k)q.appendChild(u("span",{className:"prayer-done-icon"},"✓"));if(q.appendChild(u("span",{className:"prayer-name"},E)),k)q.appendChild(u("span",{className:"prayer-now-badge"},"Now"));let $=u("span",{className:"prayer-time"},X(a,S));N.appendChild(q),N.appendChild($),A.appendChild(N)}return A}function Jz(z){let j=z.school===1?"Hanafi":"Shafi",A=`${z.cityDisplay} · ${z.methodName.split(",")[0]} · ${j}`;return u("div",{className:"transparency-footer"},A)}function o(){let z=u("div",null);z.appendChild(u("div",{className:"skeleton skeleton-line short",style:"height: 24px;"})),z.appendChild(u("div",{className:"skeleton skeleton-line",style:"height: 16px; width: 50%; margin-top: 8px;"}));let j=u("div",{className:"skeleton-hero"});j.appendChild(u("div",{className:"skeleton"})),j.appendChild(u("div",{className:"skeleton"})),z.appendChild(j),z.appendChild(u("div",{className:"skeleton skeleton-card",style:"height: 80px; margin-bottom: 16px;"}));for(let A=0;A<6;A++)z.appendChild(u("div",{className:"skeleton skeleton-card"}));return z}var C=null,n="iftar";function c(z){let j=b.getState(),[A,S,E]=z.dateGregorian.split("-").map(Number),a=new Date(E,S-1,A-1),l=`${String(a.getDate()).padStart(2,"0")}-${String(a.getMonth()+1).padStart(2,"0")}-${a.getFullYear()}`;for(let k of[j.currentMonthData,j.otherMonthData]){if(!k)continue;let N=k.days.find((q)=>q.dateGregorian===l);if(N)return N.prayers.Isha}return}function _1(z){let j=b.getState();if(C)clearInterval(C),C=null;if(j.isLoading&&!j.todayData){Q(z,o());return}if(j.error&&!j.todayData){let J=u("div",{className:"error-state"});J.appendChild(u("div",{className:"error-icon"},"⚠")),J.appendChild(u("div",{className:"error-message"},j.error));let U=u("button",{className:"btn-retry"},"Try Again");U.addEventListener("click",()=>{window.location.reload()}),J.appendChild(U),Q(z,J);return}let A=j.todayData;if(!A){Q(z,o());return}let S=j.settings,E=document.createDocumentFragment(),a=u("header",{className:"page-header"});a.appendChild(u("div",{className:"app-name"},`☪ ${m1}`)),a.appendChild(u("div",{className:"hijri-date"},A.hijriDisplay)),a.appendChild(u("div",{className:"greg-date"},jz())),E.appendChild(a),E.appendChild(Nz(A.prayers));let l=k1(A,c(A)),k=l1(A,c(A));if(!l)n="next-prayer";let N=W1(l,k,n);if(N.querySelectorAll(".toggle-pill").forEach((J)=>{J.addEventListener("click",()=>{n=J.textContent==="Iftar"?"iftar":"next-prayer";let U=W1(k1(A,c(A)),l1(A,c(A)),n);U.querySelectorAll(".toggle-pill").forEach((H)=>{H.addEventListener("click",()=>{n=H.textContent==="Iftar"?"iftar":"next-prayer",_1(z)})}),N.replaceWith(U)})}),E.appendChild(N),E.appendChild(G1(A,k)),A.isRamadan&&A.ramadanDay){let J=u("div",{className:"ramadan-counter"});J.innerHTML=`Day <strong>${A.ramadanDay}</strong> of Ramaḍān`,E.appendChild(J)}else if(A.isRamadan){let J=u("div",{className:"ramadan-counter"});J.innerHTML=`Day <strong>${A.hijriDay}</strong> of Ramaḍān`,E.appendChild(J)}E.appendChild(Jz(S)),Q(z,E);let $=z.querySelector(".countdown-hero");C=window.setInterval(()=>{let J=k1(A,c(A)),U=l1(A,c(A));if($)$z($,J,U,n);if(U?.name!==k?.name){let H=z.querySelector(".prayer-list");if(H){let K=G1(A,U);H.replaceWith(K)}}},1000)}function bz(){if(C)clearInterval(C),C=null}function Uz(){let z=b.getState(),j=m();if(z.currentMonthData){let A=z.currentMonthData.days.find((S)=>S.dateGregorian===j);if(A)return A}if(z.otherMonthData){let A=z.otherMonthData.days.find((S)=>S.dateGregorian===j);if(A)return A}return null}function Hz(z){let j=z.dateGregorian===m(),A=z.isRamadan,S=z.holidays.some((U)=>U.toLowerCase().includes("lailat")),E=z.holidays.some((U)=>U.toLowerCase().includes("eid")),a=b.getState().settings.timeFormat,l="day-row";if(j)l+=" today";if(!A)l+=" non-ramadan";let k=u("div",{className:l,id:j?"today-row":void 0}),N=u("div",{className:"day-row-header"});N.appendChild(u("span",{className:"day-row-date"},`${z.dateReadable} · ${z.weekday}`)),N.appendChild(u("span",{className:"day-row-hijri"},z.hijriDisplay)),k.appendChild(N);let q=u("div",{className:"day-row-times"}),$=u("span",{className:"day-row-iftar"});$.innerHTML=`Iftar <strong>${X(z.prayers.Iftar,a)}</strong>`;let J=u("span",{className:"day-row-sehri"});if(J.innerHTML=`Sehri ends <strong>${X(z.prayers.SehriEnds,a)}</strong>`,q.appendChild($),q.appendChild(J),k.appendChild(q),z.isRamadan&&z.ramadanDay)k.appendChild(u("span",{className:"day-row-ramadan-day"},`Day ${z.ramadanDay} of Ramaḍān`));if(j)k.appendChild(u("span",{className:"day-badge today-badge"},"TODAY"));if(S)k.appendChild(u("span",{className:"day-badge holiday-badge"},"⭐ Lailat-ul-Qadr"));if(E)k.appendChild(u("span",{className:"day-badge eid-badge"},"\uD83C\uDF89 Eid ul-Fitr"));return k}function Oz(z,j){let A=u("div",{className:"calendar-grid"}),S=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];for(let $ of S)A.appendChild(u("div",{className:"cal-grid-header"},$));if(z.length===0)return A;let E=z[0],[a,l,k]=E.dateGregorian.split("-").map(Number),N=new Date(k,l-1,a).getDay();for(let $=0;$<N;$++)A.appendChild(u("div",{className:"cal-grid-spacer"}));let q=m();for(let $ of z){let J=parseInt($.dateGregorian.split("-")[0],10),U=$.dateGregorian===q,H=$.isRamadan,K=$.holidays.length>0,O="cal-grid-cell";if(U)O+=" today";if(!H)O+=" non-ramadan";if(K)O+=" holiday";let L=u("button",{className:O,"aria-label":$.dateReadable});if(L.appendChild(u("span",{className:"cal-grid-day"},String(J))),$.isRamadan&&$.ramadanDay)L.appendChild(u("span",{className:"cal-grid-ramadan"},`R${$.ramadanDay}`));L.addEventListener("click",()=>j($)),A.appendChild(L)}return A}function Zz(z){Y1();let j=b.getState().settings.timeFormat,A=u("div",{className:"sheet-backdrop"});A.addEventListener("click",Y1);let S=u("div",{className:"day-details-sheet"});S.appendChild(u("div",{className:"sheet-handle"}));let E=u("div",{className:"sheet-header"});if(E.appendChild(u("div",{className:"sheet-title"},z.dateReadable)),E.appendChild(u("div",{className:"sheet-subtitle"},`${z.weekday} · ${z.hijriDisplay}`)),z.isRamadan&&z.ramadanDay)E.appendChild(u("div",{className:"sheet-ramadan-day"},`Day ${z.ramadanDay} of Ramaḍān`));if(S.appendChild(E),z.isRamadan){let k=u("div",{className:"sheet-hero"}),N=u("div",{className:"sheet-hero-card"});N.appendChild(u("div",{className:"sheet-hero-label"},"Sehri ends")),N.appendChild(u("div",{className:"sheet-hero-time"},X(z.prayers.SehriEnds,j))),k.appendChild(N);let q=u("div",{className:"sheet-hero-card iftar"});q.appendChild(u("div",{className:"sheet-hero-label"},"Iftar")),q.appendChild(u("div",{className:"sheet-hero-time"},X(z.prayers.Iftar,j))),k.appendChild(q),S.appendChild(k)}let a=u("div",{className:"sheet-prayer-list"});for(let k of v){let N=z.prayers[k],q=u("div",{className:"sheet-prayer-row"});q.appendChild(u("span",{className:"sheet-prayer-name"},k)),q.appendChild(u("span",{className:"sheet-prayer-time"},X(N,j))),a.appendChild(q)}if(S.appendChild(a),z.holidays.length>0){let k=u("div",{className:"sheet-holidays"});for(let N of z.holidays)k.appendChild(u("span",{className:"sheet-holiday-badge"},N));S.appendChild(k)}let l=u("button",{className:"sheet-close-btn"},"Close");l.addEventListener("click",Y1),S.appendChild(l),document.body.appendChild(A),document.body.appendChild(S),requestAnimationFrame(()=>{A.classList.add("show"),S.classList.add("show")})}function Y1(){let z=document.querySelector(".sheet-backdrop"),j=document.querySelector(".day-details-sheet");if(z)z.classList.remove("show"),setTimeout(()=>z.remove(),300);if(j)j.classList.remove("show"),setTimeout(()=>j.remove(),300)}var I=G(),x=_(),p="list";function D(z){let j=b.getState(),A=document.createDocumentFragment(),S=u("div",{className:"calendar-title-row"});S.appendChild(u("h1",{className:"page-title"},"Calendar"));let E=u("div",{className:"view-toggle"}),a=u("button",{className:`toggle-pill${p==="list"?" active":""}`,"aria-label":"List view"},"☰ List"),l=u("button",{className:`toggle-pill${p==="grid"?" active":""}`,"aria-label":"Grid view"},"▦ Grid");a.addEventListener("click",()=>{p="list",D(z)}),l.addEventListener("click",()=>{p="grid",D(z)}),E.appendChild(a),E.appendChild(l),S.appendChild(E),A.appendChild(S);let k=u("div",{className:"month-nav"}),N=u("button",{className:"month-nav-btn","aria-label":"Previous month"},"◀");N.addEventListener("click",()=>Xz(-1,z));let q=u("span",{className:"month-nav-title"},`${Az(x)} ${I}`),$=u("button",{className:"month-nav-btn","aria-label":"Next month"},"▶");$.addEventListener("click",()=>Xz(1,z)),k.appendChild(N),k.appendChild(q),k.appendChild($),A.appendChild(k);let J=I===G()&&x===_();if(!J){let H=u("div",{className:"calendar-actions"}),K=u("button",{className:"calendar-action-btn"},"\uD83D\uDCCD Jump to today");K.addEventListener("click",()=>{I=G(),x=_(),D(z),requestAnimationFrame(()=>{let L=z.querySelector("#today-row");if(L)L.scrollIntoView({behavior:"smooth",block:"center"})})});let O=u("button",{className:"calendar-action-btn"},"\uD83D\uDCC5 This month");O.addEventListener("click",()=>{I=G(),x=_(),D(z)}),H.appendChild(K),H.appendChild(O),A.appendChild(H)}let U=dz();if(!U){if(j.isLoading)A.appendChild(o());else{let H=u("div",{className:"error-state"});H.appendChild(u("div",{className:"error-message"},"Loading calendar data...")),A.appendChild(H),rz(z)}Q(z,A);return}if(p==="grid")A.appendChild(Oz(U.days,(H)=>{Zz(H)}));else for(let H of U.days)A.appendChild(Hz(H));if(Q(z,A),J&&p==="list")requestAnimationFrame(()=>{let H=z.querySelector("#today-row");if(H)H.scrollIntoView({behavior:"smooth",block:"center"})})}function dz(){let z=b.getState();if(z.currentMonthData){let j=z.currentMonthData.days[0];if(j){let[,A,S]=j.dateGregorian.split("-").map(Number);if(A===x&&S===I)return z.currentMonthData}}if(z.otherMonthData){let j=z.otherMonthData.days[0];if(j){let[,A,S]=j.dateGregorian.split("-").map(Number);if(A===x&&S===I)return z.otherMonthData}}return null}async function rz(z){let j=b.getState().settings;b.setState({isLoading:!0});let A=await r(j,I,x);if(A.data)b.setState({otherMonthData:A.data,isLoading:!1});else b.setState({isLoading:!1,error:A.error||"Failed to load calendar"});D(z)}function Xz(z,j){if(x+=z,x>12)x=1,I++;if(x<1)x=12,I--;D(j)}var B1=[{name:"Dhaka",normalized:"dhaka"},{name:"Chittagong",normalized:"chittagong"},{name:"Khulna",normalized:"khulna"},{name:"Rajshahi",normalized:"rajshahi"},{name:"Sylhet",normalized:"sylhet"},{name:"Rangpur",normalized:"rangpur"},{name:"Barisal",normalized:"barisal"},{name:"Mymensingh",normalized:"mymensingh"},{name:"Comilla",normalized:"comilla"},{name:"Gazipur",normalized:"gazipur"},{name:"Narayanganj",normalized:"narayanganj"},{name:"Cox's Bazar",normalized:"coxs bazar"},{name:"Jessore",normalized:"jessore"},{name:"Bogra",normalized:"bogra"},{name:"Dinajpur",normalized:"dinajpur"},{name:"Tangail",normalized:"tangail"},{name:"Noakhali",normalized:"noakhali"},{name:"Brahmanbaria",normalized:"brahmanbaria"},{name:"Narsingdi",normalized:"narsingdi"},{name:"Faridpur",normalized:"faridpur"},{name:"Pabna",normalized:"pabna"},{name:"Jamalpur",normalized:"jamalpur"},{name:"Kushtia",normalized:"kushtia"},{name:"Habiganj",normalized:"habiganj"},{name:"Moulvibazar",normalized:"moulvibazar"},{name:"Sunamganj",normalized:"sunamganj"},{name:"Netrokona",normalized:"netrokona"},{name:"Sherpur",normalized:"sherpur"},{name:"Kishoreganj",normalized:"kishoreganj"},{name:"Manikganj",normalized:"manikganj"},{name:"Munshiganj",normalized:"munshiganj"},{name:"Madaripur",normalized:"madaripur"},{name:"Gopalganj",normalized:"gopalganj"},{name:"Shariatpur",normalized:"shariatpur"},{name:"Rajbari",normalized:"rajbari"},{name:"Satkhira",normalized:"satkhira"},{name:"Bagerhat",normalized:"bagerhat"},{name:"Narail",normalized:"narail"},{name:"Magura",normalized:"magura"},{name:"Jhenaidah",normalized:"jhenaidah"},{name:"Meherpur",normalized:"meherpur"},{name:"Chuadanga",normalized:"chuadanga"},{name:"Kurigram",normalized:"kurigram"},{name:"Lalmonirhat",normalized:"lalmonirhat"},{name:"Nilphamari",normalized:"nilphamari"},{name:"Gaibandha",normalized:"gaibandha"},{name:"Thakurgaon",normalized:"thakurgaon"},{name:"Panchagarh",normalized:"panchagarh"},{name:"Joypurhat",normalized:"joypurhat"},{name:"Naogaon",normalized:"naogaon"},{name:"Natore",normalized:"natore"},{name:"Nawabganj",normalized:"nawabganj"},{name:"Sirajganj",normalized:"sirajganj"},{name:"Pirojpur",normalized:"pirojpur"},{name:"Jhalokati",normalized:"jhalokati"},{name:"Barguna",normalized:"barguna"},{name:"Patuakhali",normalized:"patuakhali"},{name:"Bhola",normalized:"bhola"},{name:"Feni",normalized:"feni"},{name:"Lakshmipur",normalized:"lakshmipur"},{name:"Chandpur",normalized:"chandpur"},{name:"Bandarban",normalized:"bandarban"},{name:"Rangamati",normalized:"rangamati"},{name:"Khagrachari",normalized:"khagrachari"}];var Fz=[1,3,5,2];async function Lz(z){let j=b.getState(),A={...j.settings};if(!A.timeFormat)A.timeFormat="12h";if(!A.theme)A.theme="dark";let S=j.methods;if(!S)try{S=await E1(),b.setState({methods:S})}catch{S=[{id:1,name:"University of Islamic Sciences, Karachi"},{id:3,name:"Muslim World League"},{id:5,name:"Egyptian General Authority of Survey"},{id:2,name:"Islamic Society of North America (ISNA)"}]}let E=document.createDocumentFragment();E.appendChild(u("h1",{className:"page-title"},"Settings"));let a=u("div",{className:"settings-form"}),l=u("div",{className:"form-group"});l.appendChild(u("label",{className:"form-label"},"City"));let k=u("select",{className:"form-select","aria-label":"Select city"});for(let Z of B1){let F=u("option",{value:Z.name});if(F.textContent=Z.name,Z.normalized===A.city)F.selected=!0;k.appendChild(F)}k.addEventListener("change",()=>{let Z=B1.find((F)=>F.name===k.value);if(Z)A.city=Z.normalized,A.cityDisplay=Z.name}),l.appendChild(k),a.appendChild(l);let N=u("div",{className:"form-group"});N.appendChild(u("label",{className:"form-label"},"Calculation Method"));let q=u("select",{className:"form-select","aria-label":"Select calculation method"}),$=S.filter((Z)=>Fz.includes(Z.id)),J=S.filter((Z)=>!Fz.includes(Z.id));for(let Z of $){let F=u("option",{value:String(Z.id)});if(F.textContent=Z.id===1?`★ ${Z.name} (Recommended)`:Z.name,Z.id===A.methodId)F.selected=!0;q.appendChild(F)}if(J.length>0){let Z=u("optgroup",{label:"Other methods"});for(let F of J){let W=u("option",{value:String(F.id)});if(W.textContent=F.name,F.id===A.methodId)W.selected=!0;Z.appendChild(W)}q.appendChild(Z)}q.addEventListener("change",()=>{let Z=parseInt(q.value),F=S.find((W)=>W.id===Z);if(F)A.methodId=Z,A.methodName=F.name}),N.appendChild(q),N.appendChild(u("div",{className:"form-hint"},"★ Recommended for Bangladesh")),a.appendChild(N);let U=u("div",{className:"form-group"});U.appendChild(u("label",{className:"form-label"},"Asr Calculation"));let H=u("div",{className:"radio-group"}),K=u("label",{className:"radio-option"}),O=u("input",{type:"radio",name:"school",value:"1"});if(A.school===1)O.checked=!0;O.addEventListener("change",()=>{A.school=1}),K.appendChild(O),K.appendChild(document.createTextNode(" Hanafi (recommended)")),H.appendChild(K);let L=u("label",{className:"radio-option"}),V=u("input",{type:"radio",name:"school",value:"0"});if(A.school===0)V.checked=!0;V.addEventListener("change",()=>{A.school=0}),L.appendChild(V),L.appendChild(document.createTextNode(" Shafi")),H.appendChild(L),U.appendChild(H),a.appendChild(U);let g=u("div",{className:"form-group"});g.appendChild(u("label",{className:"form-label"},"Theme"));let g1=u("div",{className:"radio-group"});for(let Z of["dark","light","system"]){let F=u("label",{className:"radio-option"}),W=u("input",{type:"radio",name:"theme",value:Z});if(A.theme===Z)W.checked=!0;W.addEventListener("change",()=>{A.theme=Z}),F.appendChild(W),F.appendChild(document.createTextNode(` ${Z.charAt(0).toUpperCase()+Z.slice(1)}`)),g1.appendChild(F)}g.appendChild(g1),a.appendChild(g);let J1=u("div",{className:"form-group"});J1.appendChild(u("label",{className:"form-label"},"Time Format"));let b1=u("div",{className:"radio-group radio-group-row"}),U1=u("label",{className:"radio-option"}),H1=u("input",{type:"radio",name:"timeFormat",value:"12h"});if(A.timeFormat==="12h")H1.checked=!0;H1.addEventListener("change",()=>{A.timeFormat="12h"}),U1.appendChild(H1),U1.appendChild(document.createTextNode(" 12-hour (4:52 AM)")),b1.appendChild(U1);let O1=u("label",{className:"radio-option"}),Z1=u("input",{type:"radio",name:"timeFormat",value:"24h"});if(A.timeFormat==="24h")Z1.checked=!0;Z1.addEventListener("change",()=>{A.timeFormat="24h"}),O1.appendChild(Z1),O1.appendChild(document.createTextNode(" 24-hour (04:52)")),b1.appendChild(O1),J1.appendChild(b1),a.appendChild(J1);let h=u("button",{className:"btn-save"},"\uD83D\uDCBE Save Settings");if(!R.isOnline())h.disabled=!0,h.title="Connect to update";h.addEventListener("click",async()=>{h.disabled=!0,h.textContent="Saving...",oz(A.theme),y1(A);let Z=G(),F=_(),W=P(j.settings.city,j.settings.methodId,j.settings.school,Z,F),Bz=P(A.city,A.methodId,A.school,Z,F);if(W!==Bz){let z1=await a1(A,Z,F);if(z1.data)b.setState({settings:A,currentMonthData:z1.data,todayData:z1.data.days.find((Iz)=>{let X1=new Date,Rz=String(X1.getDate()).padStart(2,"0"),vz=String(X1.getMonth()+1).padStart(2,"0");return Iz.dateGregorian===`${Rz}-${vz}-${X1.getFullYear()}`})||null});else b.setState({settings:A,error:z1.error||null})}else b.setState({settings:A});tz("Settings saved"),Y.navigate("today")}),a.appendChild(h),E.appendChild(a);let P1=u("div",{className:"settings-footer"});P1.innerHTML=`
    Data provided by <a href="https://aladhan.com" target="_blank" rel="noopener">AlAdhan.com</a><br>
    App version 1.1.0
  `,E.appendChild(P1),Q(z,E)}function oz(z){if(z==="system"){let j=window.matchMedia("(prefers-color-scheme: dark)").matches;document.documentElement.setAttribute("data-theme",j?"dark":"light")}else document.documentElement.setAttribute("data-theme",z)}function tz(z){let j=document.querySelector(".toast");if(!j)j=u("div",{className:"toast"}),document.body.appendChild(j);j.textContent=z,j.classList.add("show"),setTimeout(()=>j.classList.remove("show"),2000)}var q1=null;function Kz(){if(q1)return Promise.resolve(q1);return new Promise((z,j)=>{let A=indexedDB.open(M,w);A.onsuccess=()=>{q1=A.result,z(q1)},A.onerror=()=>j(A.error)})}async function I1(){try{let z=await Kz();return new Promise((j,A)=>{let a=z.transaction("duaFavorites","readonly").objectStore("duaFavorites").getAll();a.onsuccess=()=>{let l=(a.result||[]).map((k)=>k.duaId);j(new Set(l))},a.onerror=()=>A(a.error)})}catch{return new Set}}async function Qz(z){try{let j=await Kz(),S=(await I1()).has(z);return new Promise((E,a)=>{let l=j.transaction("duaFavorites","readwrite"),k=l.objectStore("duaFavorites");if(S)k.delete(z);else k.put({duaId:z});l.oncomplete=()=>E(!S),l.onerror=()=>a(l.error)})}catch{return!1}}function N1(z){let j=document.querySelector(".toast");if(!j)j=u("div",{className:"toast"}),document.body.appendChild(j);j.textContent=z,j.classList.add("show"),setTimeout(()=>j.classList.remove("show"),2000)}function Vz(z,j,A){let S=u("div",{className:"dua-card"}),E=u("div",{className:"dua-card-header"});E.appendChild(u("span",{className:"dua-card-title"},z.titleEn)),S.appendChild(E),S.appendChild(u("div",{className:"dua-arabic",lang:"ar",dir:"rtl"},z.arabicText)),S.appendChild(u("div",{className:"dua-transliteration"},z.transliteration)),S.appendChild(u("div",{className:"dua-translation"},z.translationEn)),S.appendChild(u("div",{className:"dua-source"},`\uD83D\uDCD6 ${z.source}`));let a=u("div",{className:"dua-actions"}),l=u("button",{className:"dua-action-btn","aria-label":"Copy Arabic"},"\uD83D\uDCCB Arabic");l.addEventListener("click",async()=>{try{await navigator.clipboard.writeText(z.arabicText),N1("Arabic text copied")}catch{N1("Copy failed")}});let k=u("button",{className:"dua-action-btn","aria-label":"Copy Translation"},"\uD83D\uDCCB English");k.addEventListener("click",async()=>{try{await navigator.clipboard.writeText(z.translationEn),N1("Translation copied")}catch{N1("Copy failed")}});let N=u("button",{className:`dua-fav-btn${j?" active":""}`,"aria-label":j?"Remove from favorites":"Add to favorites"},j?"♥":"♡");return N.addEventListener("click",()=>A(z.id)),a.appendChild(l),a.appendChild(k),a.appendChild(N),S.appendChild(a),S}var xz=[{id:"iftar-1",titleEn:"Dua for Breaking Fast",arabicText:"اللَّهُمَّ إِنِّي لَكَ صُمْتُ وَبِكَ آمَنْتُ وَعَلَى رِزْقِكَ أَفْطَرْتُ",transliteration:"Allahumma inni laka sumtu wa bika aamantu wa 'ala rizqika aftartu",translationEn:"O Allah! I fasted for You and I believe in You and I break my fast with Your sustenance.",category:"iftar",source:"Abu Dawud 2358"},{id:"iftar-2",titleEn:"Dua When Breaking Fast",arabicText:"ذَهَبَ الظَّمَأُ وَابْتَلَّتِ الْعُرُوقُ وَثَبَتَ الْأَجْرُ إِنْ شَاءَ اللَّهُ",transliteration:"Dhahaba al-zama'u wabtallatil-'urooqu wa thabatal-ajru inshaa'Allah",translationEn:"The thirst has gone, the veins are moistened, and the reward is confirmed, if Allah wills.",category:"iftar",source:"Abu Dawud 2357"},{id:"sehri-1",titleEn:"Intention for Fasting (Niyyah)",arabicText:"وَبِصَوْمِ غَدٍ نَوَيْتُ مِنْ شَهْرِ رَمَضَانَ",transliteration:"Wa bisawmi ghadin nawaytu min shahri ramadan",translationEn:"I intend to keep the fast for tomorrow in the month of Ramadan.",category:"sehri",source:"Abu Dawud 2454"},{id:"sehri-2",titleEn:"Dua Before Eating Sehri",arabicText:"بِسْمِ اللَّهِ وَعَلَى بَرَكَةِ اللَّهِ",transliteration:"Bismillahi wa 'ala barakatillah",translationEn:"In the name of Allah and with the blessings of Allah.",category:"sehri",source:"General practice"},{id:"general-1",titleEn:"Dua for Forgiveness",arabicText:"رَبَّنَا اغْفِرْ لِي وَلِوَالِدَيَّ وَلِلْمُؤْمِنِينَ يَوْمَ يَقُومُ الْحِسَابُ",transliteration:"Rabbana-ghfir li wa li-walidayya wa lil-mu'mineena yawma yaqoomul-hisaab",translationEn:"Our Lord, forgive me and my parents and the believers the Day the account is established.",category:"general",source:"Quran 14:41"},{id:"general-2",titleEn:"Dua for Mercy",arabicText:"رَبِّ اغْفِرْ وَارْحَمْ وَأَنْتَ خَيْرُ الرَّاحِمِينَ",transliteration:"Rabbighfir warham wa anta khairur-raahimeen",translationEn:"My Lord, forgive and have mercy, and You are the best of the merciful.",category:"general",source:"Quran 23:118"},{id:"general-3",titleEn:"Dua of the Fasting Person",arabicText:"إِنَّ لِلصَّائِمِ عِنْدَ فِطْرِهِ لَدَعْوَةً مَا تُرَدُّ",transliteration:"Inna lis-saa'imi 'inda futrihi lada'watan maa turaddu",translationEn:"The fasting person has a supplication at the time of breaking fast that is not rejected.",category:"general",source:"Ibn Majah 1753"},{id:"general-4",titleEn:"Dua for Guidance",arabicText:"اللَّهُمَّ إِنِّي أَسْأَلُكَ الْهُدَى وَالتُّقَى وَالْعَفَافَ وَالْغِنَى",transliteration:"Allahumma inni as'alukal-huda wat-tuqa wal-'afaafa wal-ghina",translationEn:"O Allah, I ask You for guidance, piety, chastity and self-sufficiency.",category:"general",source:"Muslim 2721"},{id:"qadr-1",titleEn:"Dua for Laylatul Qadr",arabicText:"اللَّهُمَّ إِنَّكَ عَفُوٌّ تُحِبُّ الْعَفْوَ فَاعْفُ عَنِّي",transliteration:"Allahumma innaka 'afuwwun tuhibbul-'afwa fa'fu 'anni",translationEn:"O Allah, You are Pardoning and You love to pardon, so pardon me.",category:"laylatul-qadr",source:"Tirmidhi 3513"},{id:"qadr-2",titleEn:"Seeking the Night of Power",arabicText:"اللَّهُمَّ إِنِّي أَسْأَلُكَ مِنْ فَضْلِكَ وَرَحْمَتِكَ فَإِنَّهُ لَا يَمْلِكُهَا إِلَّا أَنْتَ",transliteration:"Allahumma inni as'aluka min fadlika wa rahmatika fa innahu laa yamlikuhaa illaa anta",translationEn:"O Allah, I ask You from Your bounty and mercy, for none possesses them except You.",category:"laylatul-qadr",source:"Al-Tabarani"}];var z2=[{id:"sehri",label:"Sehri"},{id:"iftar",label:"Iftar"},{id:"general",label:"General"},{id:"laylatul-qadr",label:"Laylatul Qadr"},{id:"favorites",label:"♥ Favorites"}],f="iftar",i="";async function t(z){let j=await I1(),A=document.createDocumentFragment();A.appendChild(u("h1",{className:"page-title"},"Duas"));let S=u("div",{className:"dua-search-wrap"}),E=u("input",{className:"dua-search",type:"text",placeholder:"\uD83D\uDD0D Search duas...",value:i});E.addEventListener("input",()=>{i=E.value,t(z)}),S.appendChild(E),A.appendChild(S);let a=u("div",{className:"category-tabs-wrap"}),l=u("div",{className:"category-tabs",role:"tablist"});for(let q of z2){let $=u("button",{className:`category-tab${q.id===f?" active":""}`,role:"tab","aria-selected":q.id===f?"true":"false"},q.label);$.addEventListener("click",()=>{f=q.id,t(z)}),l.appendChild($)}a.appendChild(l),A.appendChild(a);let k=xz,N;if(f==="favorites")N=k.filter((q)=>j.has(q.id));else N=k.filter((q)=>q.category===f);if(i.trim()){let q=i.toLowerCase();N=N.filter(($)=>$.titleEn.toLowerCase().includes(q)||$.transliteration.toLowerCase().includes(q)||$.translationEn.toLowerCase().includes(q))}if(N.length===0){let q=u("div",{className:"error-state"});q.appendChild(u("div",{className:"error-icon"},f==="favorites"?"♡":"\uD83E\uDD32")),q.appendChild(u("div",{className:"error-message"},i?"No duas match your search.":f==="favorites"?"No favorites yet. Tap the heart on any dua to save it.":"No duas in this category.")),A.appendChild(q)}else for(let q of N)A.appendChild(Vz(q,j.has(q.id),async($)=>{await Qz($),t(z)}));if(Q(z,A),i){let q=z.querySelector(".dua-search");if(q)q.focus(),q.setSelectionRange(q.value.length,q.value.length)}}var $1=null;function R1(){if($1)return Promise.resolve($1);return new Promise((z,j)=>{let A=indexedDB.open(M,w);A.onsuccess=()=>{$1=A.result,z($1)},A.onerror=()=>j(A.error)})}async function v1(){try{let z=await R1();return new Promise((j,A)=>{let a=z.transaction("quranProgress","readonly").objectStore("quranProgress").get("progress");a.onsuccess=()=>j(a.result||{id:"progress",completedDays:[],lastUpdated:""}),a.onerror=()=>A(a.error)})}catch{return{completedDays:[],lastUpdated:""}}}async function D1(z){let j=await v1(),A=j.completedDays.indexOf(z);if(A>=0)j.completedDays.splice(A,1);else j.completedDays.push(z),j.completedDays.sort((S,E)=>S-E);j.lastUpdated=new Date().toISOString();try{let S=await R1();await new Promise((E,a)=>{let l=S.transaction("quranProgress","readwrite");l.objectStore("quranProgress").put({id:"progress",...j}),l.oncomplete=()=>E(),l.onerror=()=>a(l.error)})}catch{}return j}async function Wz(){try{let z=await R1();await new Promise((j,A)=>{let S=z.transaction("quranProgress","readwrite");S.objectStore("quranProgress").put({id:"progress",completedDays:[],lastUpdated:new Date().toISOString()}),S.oncomplete=()=>j(),S.onerror=()=>A(S.error)})}catch{}}function Gz(z,j,A,S){let E="quran-day-card";if(j)E+=" completed";if(A)E+=" today";let a=u("div",{className:E,id:A?"quran-today":void 0}),l=u("div",{className:"quran-day-info"});l.appendChild(u("div",{className:"quran-day-num"},`Day ${z.day} · Juz ${z.juz}`)),l.appendChild(u("div",{className:"quran-day-surah"},`${z.surahStart} ${z.ayahStart} – ${z.surahEnd} ${z.ayahEnd}`)),l.appendChild(u("div",{className:"quran-day-pages"},`Pages ${z.pages}`));let k=u("div",{className:"quran-checkbox"},j?"☑":"☐");return a.appendChild(l),a.appendChild(k),a.addEventListener("click",()=>S(z.day)),a}var _z=[{day:1,juz:1,surahStart:"Al-Fatiha",ayahStart:1,surahEnd:"Al-Baqarah",ayahEnd:141,pages:"1–20"},{day:2,juz:2,surahStart:"Al-Baqarah",ayahStart:142,surahEnd:"Al-Baqarah",ayahEnd:252,pages:"21–40"},{day:3,juz:3,surahStart:"Al-Baqarah",ayahStart:253,surahEnd:"Al-Imran",ayahEnd:92,pages:"41–60"},{day:4,juz:4,surahStart:"Al-Imran",ayahStart:93,surahEnd:"An-Nisa",ayahEnd:23,pages:"61–80"},{day:5,juz:5,surahStart:"An-Nisa",ayahStart:24,surahEnd:"An-Nisa",ayahEnd:147,pages:"81–100"},{day:6,juz:6,surahStart:"An-Nisa",ayahStart:148,surahEnd:"Al-Ma'idah",ayahEnd:81,pages:"101–120"},{day:7,juz:7,surahStart:"Al-Ma'idah",ayahStart:82,surahEnd:"Al-An'am",ayahEnd:110,pages:"121–140"},{day:8,juz:8,surahStart:"Al-An'am",ayahStart:111,surahEnd:"Al-A'raf",ayahEnd:87,pages:"141–160"},{day:9,juz:9,surahStart:"Al-A'raf",ayahStart:88,surahEnd:"Al-Anfal",ayahEnd:40,pages:"161–180"},{day:10,juz:10,surahStart:"Al-Anfal",ayahStart:41,surahEnd:"At-Tawbah",ayahEnd:92,pages:"181–200"},{day:11,juz:11,surahStart:"At-Tawbah",ayahStart:93,surahEnd:"Hud",ayahEnd:5,pages:"201–220"},{day:12,juz:12,surahStart:"Hud",ayahStart:6,surahEnd:"Yusuf",ayahEnd:52,pages:"221–240"},{day:13,juz:13,surahStart:"Yusuf",ayahStart:53,surahEnd:"Ibrahim",ayahEnd:52,pages:"241–260"},{day:14,juz:14,surahStart:"Al-Hijr",ayahStart:1,surahEnd:"An-Nahl",ayahEnd:128,pages:"261–280"},{day:15,juz:15,surahStart:"Al-Isra",ayahStart:1,surahEnd:"Al-Kahf",ayahEnd:74,pages:"281–300"},{day:16,juz:16,surahStart:"Al-Kahf",ayahStart:75,surahEnd:"Ta-Ha",ayahEnd:135,pages:"301–320"},{day:17,juz:17,surahStart:"Al-Anbiya",ayahStart:1,surahEnd:"Al-Hajj",ayahEnd:78,pages:"321–340"},{day:18,juz:18,surahStart:"Al-Mu'minun",ayahStart:1,surahEnd:"Al-Furqan",ayahEnd:20,pages:"341–360"},{day:19,juz:19,surahStart:"Al-Furqan",ayahStart:21,surahEnd:"An-Naml",ayahEnd:55,pages:"361–380"},{day:20,juz:20,surahStart:"An-Naml",ayahStart:56,surahEnd:"Al-Ankabut",ayahEnd:45,pages:"381–400"},{day:21,juz:21,surahStart:"Al-Ankabut",ayahStart:46,surahEnd:"Al-Ahzab",ayahEnd:30,pages:"401–420"},{day:22,juz:22,surahStart:"Al-Ahzab",ayahStart:31,surahEnd:"Ya-Sin",ayahEnd:27,pages:"421–440"},{day:23,juz:23,surahStart:"Ya-Sin",ayahStart:28,surahEnd:"Az-Zumar",ayahEnd:31,pages:"441–460"},{day:24,juz:24,surahStart:"Az-Zumar",ayahStart:32,surahEnd:"Fussilat",ayahEnd:46,pages:"461–480"},{day:25,juz:25,surahStart:"Fussilat",ayahStart:47,surahEnd:"Al-Jathiyah",ayahEnd:37,pages:"481–500"},{day:26,juz:26,surahStart:"Al-Ahqaf",ayahStart:1,surahEnd:"Al-Hadid",ayahEnd:29,pages:"501–520"},{day:27,juz:27,surahStart:"Al-Mujadila",ayahStart:1,surahEnd:"At-Tahrim",ayahEnd:12,pages:"521–540"},{day:28,juz:28,surahStart:"Al-Mulk",ayahStart:1,surahEnd:"Al-Mursalat",ayahEnd:50,pages:"541–560"},{day:29,juz:29,surahStart:"An-Naba",ayahStart:1,surahEnd:"At-Takwir",ayahEnd:29,pages:"561–580"},{day:30,juz:30,surahStart:"Al-Infitar",ayahStart:1,surahEnd:"An-Nas",ayahEnd:6,pages:"581–604"}];var y="all",e=null;function j2(){let z=b.getState();if(z.todayData?.isRamadan&&z.todayData.ramadanDay)return z.todayData.ramadanDay;if(z.todayData?.isRamadan)return z.todayData.hijriDay;return null}function u2(z,j){if(e)clearTimeout(e);let A=document.querySelector(".undo-toast");if(A)A.remove();let S=u("div",{className:"undo-toast show"});S.appendChild(u("span",null,z));let E=u("button",{className:"undo-btn"},"Undo");E.addEventListener("click",()=>{if(j(),S.remove(),e)clearTimeout(e)}),S.appendChild(E),document.body.appendChild(S),e=window.setTimeout(()=>{S.classList.remove("show"),setTimeout(()=>S.remove(),300)},4000)}async function d(z){let j=await v1(),A=new Set(j.completedDays),S=_z,E=j2(),a=document.createDocumentFragment(),l=u("div",{className:"quran-title-row"});if(l.appendChild(u("h1",{className:"page-title"},"Quran Plan")),E){let O=u("button",{className:"calendar-action-btn"},"\uD83D\uDCCD Go to today");O.addEventListener("click",()=>{let L=z.querySelector("#quran-today");if(L)L.scrollIntoView({behavior:"smooth",block:"center"})}),l.appendChild(O)}a.appendChild(l);let k=u("div",{className:"quran-progress"}),N=u("div",{className:"quran-progress-text"},`${A.size}/30 days complete`),q=u("div",{className:"quran-progress-bar"}),$=u("div",{className:"quran-progress-fill"});$.style.width=`${A.size/30*100}%`,q.appendChild($),k.appendChild(N),k.appendChild(q),a.appendChild(k);let J=u("div",{className:"quran-filters"}),U=[{id:"all",label:"All"},{id:"pending",label:"Pending"},{id:"completed",label:"Completed"}];for(let O of U){let L=u("button",{className:`filter-pill${O.id===y?" active":""}`},O.label);L.addEventListener("click",()=>{y=O.id,d(z)}),J.appendChild(L)}a.appendChild(J);let H=S;if(y==="pending")H=S.filter((O)=>!A.has(O.day));else if(y==="completed")H=S.filter((O)=>A.has(O.day));for(let O of H){let L=O.day===E;a.appendChild(Gz(O,A.has(O.day),L,async(V)=>{let g=A.has(V);await D1(V),u2(g?`Day ${V} marked pending`:`Day ${V} completed`,async()=>{await D1(V),d(z)}),d(z)}))}if(H.length===0){let O=u("div",{className:"error-state"});O.appendChild(u("div",{className:"error-icon"},y==="completed"?"\uD83D\uDCD6":"✅")),O.appendChild(u("div",{className:"error-message"},y==="completed"?"No completed days yet.":"All days completed!")),a.appendChild(O)}let K=u("button",{className:"btn-reset"},"Reset Progress");K.addEventListener("click",async()=>{if(confirm("Are you sure you want to reset all Quran reading progress?"))await Wz(),d(z)}),a.appendChild(K),Q(z,a)}async function S2(){f1();let z=i1();if(z.theme==="system"){let E=window.matchMedia("(prefers-color-scheme: dark)").matches;document.documentElement.setAttribute("data-theme",E?"dark":"light"),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",(a)=>{if(b.getState().settings.theme==="system")document.documentElement.setAttribute("data-theme",a.matches?"dark":"light")})}else document.documentElement.setAttribute("data-theme",z.theme);let j={settings:z,currentMonthData:null,otherMonthData:null,todayData:null,nextPrayer:null,isOnline:navigator.onLine,isLoading:!0,error:null,methods:null};M1(j),R.init(),R.onChange((E)=>{b.setState({isOnline:E})}),await o1();let A=document.getElementById("app"),S=document.createElement("main");S.setAttribute("role","main"),A.appendChild(lz()),A.appendChild(S),A.appendChild(az()),Y.onRouteChange((E)=>{Yz(E,S)});try{let{current:E,other:a}=await Sz(z);b.setState({currentMonthData:E.data,otherMonthData:a?.data||null,isLoading:!1,error:E.source==="error"?E.error||"Failed to load data":null});let l=Uz();b.setState({todayData:l})}catch(E){b.setState({isLoading:!1,error:E.message||"Failed to load prayer times"})}if(E1().then((E)=>b.setState({methods:E})).catch(()=>{}),Y.init(),!window.location.hash||window.location.hash==="#/"||window.location.hash==="#")Yz("today",S);if("serviceWorker"in navigator)navigator.serviceWorker.register("/sw.js").catch(()=>{})}function Yz(z,j){switch(bz(),z){case"today":_1(j);break;case"calendar":D(j);break;case"settings":Lz(j);break;case"duas":t(j);break;case"quran":d(j);break}}S2().catch(console.error);
