var Pz="@vercel/analytics",Tz="1.6.1",Cz=()=>{if(window.va)return;window.va=function(...j){(window.vaq=window.vaq||[]).push(j)}};function T1(){return typeof window<"u"}function C1(){try{return"development"}catch(z){}return"production"}function fz(z="auto"){if(z==="auto"){window.vam=C1();return}window.vam=z}function hz(){return(T1()?window.vam:C1())||"production"}function F1(){return hz()==="development"}function Mz(z){if(z.scriptSrc)return z.scriptSrc;if(F1())return"https://va.vercel-scripts.com/v1/script.debug.js";if(z.basePath)return`${z.basePath}/insights/script.js`;return"/_vercel/insights/script.js"}function f1(z={debug:!0}){var j;if(!T1())return;if(fz(z.mode),Cz(),z.beforeSend)(j=window.va)==null||j.call(window,"beforeSend",z.beforeSend);let A=Mz(z);if(document.head.querySelector(`script[src*="${A}"]`))return;let u=document.createElement("script");if(u.src=A,u.defer=!0,u.dataset.sdkn=Pz+(z.framework?`/${z.framework}`:""),u.dataset.sdkv=Tz,z.disableAutoTrack)u.dataset.disableAutoTrack="1";if(z.endpoint)u.dataset.endpoint=z.endpoint;else if(z.basePath)u.dataset.endpoint=`${z.basePath}/insights`;if(z.dsn)u.dataset.dsn=z.dsn;if(u.onerror=()=>{let E=F1()?"Please check if any ad blockers are enabled and try again.":"Be sure to enable Web Analytics for your project and deploy again. See https://vercel.com/docs/analytics/quickstart for more information.";console.log(`[Vercel Web Analytics] Failed to load script from ${A}. ${E}`)},F1()&&z.debug===!1)u.dataset.debug="false";document.head.appendChild(u)}class h1{state;listeners=new Set;constructor(z){this.state=z}getState(){return this.state}setState(z){this.state={...this.state,...z},this.listeners.forEach((j)=>j(this.state))}subscribe(z){return this.listeners.add(z),()=>this.listeners.delete(z)}}var O;function M1(z){return O=new h1(z),O}var wz={"":"today",today:"today",calendar:"calendar",duas:"duas",quran:"quran",settings:"settings"};class w1{listeners=new Set;current="today";init(){window.addEventListener("hashchange",()=>this.handleHash()),this.handleHash()}handleHash(){let z=window.location.hash.replace("#/","").replace("#",""),j=wz[z]||"today";if(j!==this.current)this.current=j,this.listeners.forEach((A)=>A(j))}navigate(z){window.location.hash=`#/${z==="today"?"":z}`}getCurrentRoute(){return this.current}onRouteChange(z){return this.listeners.add(z),()=>this.listeners.delete(z)}}var Y=new w1;var A1={city:"dhaka",cityDisplay:"Dhaka",methodId:1,methodName:"University of Islamic Sciences, Karachi",school:1,theme:"dark",timeFormat:"12h",lastSaved:""};var m1="Ramadan Taqwim",Q1="https://api.aladhan.com/v1",n1="Bangladesh",c1=86400000,p1=1e4,w="ramadan-bd",m=3,L1="ramadan-bd-settings",K1=9;function i1(){try{let z=localStorage.getItem(L1);if(!z)return{...A1};let j=JSON.parse(z);return{...A1,...j}}catch{return{...A1}}}function y1(z){z.lastSaved=new Date().toISOString(),localStorage.setItem(L1,JSON.stringify(z))}function T(z,j,A,u,E){return`aladhan:${z}:${j}:${A}:${u}:${E}`}var j1=null;function x1(){if(j1)return Promise.resolve(j1);return new Promise((z,j)=>{let A=indexedDB.open(w,m);A.onupgradeneeded=(u)=>{let E=A.result,k=u.oldVersion;if(!E.objectStoreNames.contains("monthTimings"))E.createObjectStore("monthTimings",{keyPath:"cacheKey"});else if(k>0)A.transaction?.objectStore("monthTimings").clear();if(!E.objectStoreNames.contains("duaFavorites"))E.createObjectStore("duaFavorites",{keyPath:"duaId"});if(!E.objectStoreNames.contains("quranProgress"))E.createObjectStore("quranProgress",{keyPath:"id"})},A.onsuccess=()=>{j1=A.result,z(j1)},A.onerror=()=>j(A.error)})}async function d1(z){try{let j=await x1();return new Promise((A,u)=>{let q=j.transaction("monthTimings","readonly").objectStore("monthTimings").get(z);q.onsuccess=()=>A(q.result||null),q.onerror=()=>u(q.error)})}catch{return null}}async function r1(z){try{let j=await x1();return new Promise((A,u)=>{let E=j.transaction("monthTimings","readwrite");E.objectStore("monthTimings").put(z),E.oncomplete=()=>A(),E.onerror=()=>u(E.error)})}catch{}}function s1(z){let j=new Date(z.fetchedAt).getTime();return Date.now()-j<c1}async function o1(){try{await x1()}catch{console.warn("IndexedDB unavailable — using in-memory only")}}async function G1(z){let j=null;for(let A=0;A<2;A++)try{let u=new AbortController,E=setTimeout(()=>u.abort(),p1),k=await fetch(z,{signal:u.signal});if(clearTimeout(E),!k.ok)throw Error(`HTTP ${k.status}: ${k.statusText}`);return await k.json()}catch(u){if(j=u,u.name!=="AbortError"&&!u.message?.includes("fetch"))throw u;if(A===0)await new Promise((E)=>setTimeout(E,1000))}throw j||Error("Fetch failed")}var mz=86400000,nz={2026:{startGregorian:"19-02-2026",hijriYear:1447,dayCount:30}};function t1(z){let[j,A,u]=z.split("-").map(Number);return Math.floor(Date.UTC(u,A-1,j)/mz)}function cz(z){let[,,j]=z.split("-").map(Number);return nz[j]||null}function pz(z){let j=cz(z.dateGregorian);if(!j)return z;let A=t1(z.dateGregorian),u=t1(j.startGregorian),E=A-u;if(E>=0&&E<j.dayCount){let k=E+1;return{...z,hijriMonth:K1,hijriDay:k,hijriYear:j.hijriYear,hijriDisplay:`${k} Ramaḍān ${j.hijriYear}`,isRamadan:!0,ramadanDay:k}}if(E===j.dayCount&&z.hijriMonth===10&&z.hijriDay>1){let k=z.hijriDay-1;return{...z,hijriDay:k,hijriYear:j.hijriYear,hijriDisplay:`${k} Shawwāl ${j.hijriYear}`,isRamadan:!1,ramadanDay:null}}if(E===-1&&z.hijriMonth===K1&&z.hijriDay===1)return{...z,hijriMonth:8,hijriDay:30,hijriYear:j.hijriYear,hijriDisplay:`30 Shaʿbān ${j.hijriYear}`,isRamadan:!1,ramadanDay:null};return z}function S1(z){return z.map(pz)}function C(z){return z.replace(/\s*\(.*\)$/,"").trim()}function iz(z){let j=z.timings,A=z.date.hijri,u=z.date.gregorian,E=C(j.Fajr||""),k=[...A.holidays||[],...A.adjustedHolidays||[]],q={Fajr:E,Sunrise:C(j.Sunrise||""),Dhuhr:C(j.Dhuhr||""),Asr:C(j.Asr||""),Maghrib:C(j.Maghrib||""),Isha:C(j.Isha||""),SehriEnds:E,Iftar:C(j.Maghrib||"")};return{dateGregorian:u.date,dateReadable:z.date.readable,timestamp:parseInt(z.date.timestamp,10),weekday:u.weekday.en,hijriDisplay:`${A.day} ${A.month.en} ${A.year}`,hijriMonth:A.month.number,hijriDay:parseInt(A.day,10),hijriYear:parseInt(A.year,10),isRamadan:A.month.number===9,ramadanDay:A.month.number===9?parseInt(A.day,10):null,holidays:k,prayers:q}}function e1(z,j){let A=S1(z.map(iz));return{cacheKey:j,fetchedAt:new Date().toISOString(),days:A}}var u1=null;async function E1(){if(u1)return u1;let z=await G1(`${Q1}/methods`);return u1=Object.values(z.data).filter((j)=>j.id!==99).map((j)=>({id:j.id,name:j.name})).sort((j,A)=>j.id-A.id),u1}async function zz(z){let{city:j,year:A,month:u,methodId:E,school:k}=z,q=new URL(`${Q1}/calendarByCity/${A}/${u}`);q.searchParams.set("city",j),q.searchParams.set("country",n1),q.searchParams.set("method",String(E)),q.searchParams.set("school",String(k));let l=await G1(q.toString()),$=T(j.toLowerCase(),E,k,A,u);return e1(l.data,$)}function n(){let z=new Date,j=String(z.getDate()).padStart(2,"0"),A=String(z.getMonth()+1).padStart(2,"0"),u=z.getFullYear();return`${j}-${A}-${u}`}function V(){return new Date().getFullYear()}function _(){return new Date().getMonth()+1}function Az(z){return["","January","February","March","April","May","June","July","August","September","October","November","December"][z]||""}function jz(){return new Date().toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}function Sz(z){let A=S1(z.days).map((u)=>({...u,prayers:{...u.prayers,SehriEnds:u.prayers.Fajr}}));return{...z,days:A}}async function r(z,j,A){let u=j??V(),E=A??_(),k=T(z.city,z.methodId,z.school,u,E),q=await d1(k);if(q){let l=Sz(q);if(s1(q))return{data:l,source:"fresh-cache"};return yz(z,u,E),{data:l,source:"stale-cache"}}return k1(z,u,E)}async function k1(z,j,A){try{let u=await zz({city:z.cityDisplay,year:j,month:A,methodId:z.methodId,school:z.school}),E=Sz(u);return await r1(E),{data:E,source:"network"}}catch(u){return{data:null,source:"error",error:u.message}}}function yz(z,j,A){k1(z,j,A).catch(()=>{})}async function uz(z){let j=V(),A=_(),u=await r(z,j,A),E=null;if(A===2)E=await r(z,j,3);else if(A===3)E=await r(z,j,2);return{current:u,other:E}}class Ez{online=navigator.onLine;listeners=new Set;init(){window.addEventListener("online",()=>this.update(!0)),window.addEventListener("offline",()=>this.update(!1))}update(z){this.online=z,this.listeners.forEach((j)=>j(z))}isOnline(){return this.online}onChange(z){return this.listeners.add(z),()=>this.listeners.delete(z)}}var R=new Ez;function S(z,j,...A){let u=document.createElement(z);if(j)for(let[E,k]of Object.entries(j))if(E==="className")u.className=k;else if(E==="textContent")u.textContent=k;else if(E==="innerHTML")u.innerHTML=k;else u.setAttribute(E,k);for(let E of A)if(typeof E==="string")u.appendChild(document.createTextNode(E));else u.appendChild(E);return u}function K(z,...j){z.innerHTML="";for(let A of j)z.appendChild(A)}var dz=[{route:"today",icon:"☪",label:"Today"},{route:"calendar",icon:"\uD83D\uDCC5",label:"Calendar"},{route:"duas",icon:"\uD83E\uDD32",label:"Duas"},{route:"quran",icon:"\uD83D\uDCD6",label:"Quran"},{route:"settings",icon:"⚙",label:"Settings"}];function kz(){let z=S("nav",{className:"nav-bar",role:"navigation","aria-label":"Main navigation"});function j(){z.innerHTML="";let A=Y.getCurrentRoute();for(let u of dz){let E=S("button",{className:`nav-tab${u.route===A?" active":""}`,"aria-label":u.label,"aria-current":u.route===A?"page":""}),k=S("span",{className:"nav-icon","aria-hidden":"true"},u.icon),q=S("span",null,u.label);E.appendChild(k),E.appendChild(q),E.addEventListener("click",()=>Y.navigate(u.route)),z.appendChild(E)}}return j(),Y.onRouteChange(()=>j()),z}function qz(){let z=S("div",{className:"offline-banner",role:"alert"},"You are offline — showing cached data");function j(A){z.classList.toggle("show",!A)}return j(R.isOnline()),R.onChange(j),z}var D=["Fajr","Sunrise","Dhuhr","Asr","Maghrib","Isha"];function B(z){let[j,A]=z.split(":").map(Number);return j*60+A}function s(z){if(z<=0)return"0m 0s";let j=Math.floor(z/1000),A=Math.floor(j/3600),u=Math.floor(j%3600/60),E=j%60;if(A>0)return`${A}h ${u}m ${E}s`;if(u>0)return`${u}m ${E}s`;return`${E}s`}function rz(z){let[j,A]=z.split(":").map(Number),u=j>=12?"PM":"AM";return`${j%12||12}:${String(A).padStart(2,"0")} ${u}`}function X(z,j){if(j==="12h")return rz(z);return z}function q1(z,j){let A=new Date,u=A.getHours()*60+A.getMinutes(),E=A.getHours()*3600000+A.getMinutes()*60000+A.getSeconds()*1000;for(let k of D){let q=z.prayers[k],l=B(q);if(l>u){let N=l*60000-E,J=D.indexOf(k)-1,a,b;if(J>=0)a=z.prayers[D[J]],b=B(a);else{a=j??z.prayers.Isha,b=B(a);let Q=u+(1440-b),x=l+(1440-b),P=x>0?Math.min(1,Math.max(0,Q/x)):0;return{name:k,time:q,prevTime:a,remainingMs:N,remainingDisplay:s(N),progress:P}}let U=l-b,L=u-b,H=U>0?Math.min(1,Math.max(0,L/U)):0;return{name:k,time:q,prevTime:a,remainingMs:N,remainingDisplay:s(N),progress:H}}}return null}function lz(z){let j=new Date,A=j.getHours()*60+j.getMinutes();return B(z)<=A}function Nz(z,j){return j?.name===z}function l1(z,j){if(!z.isRamadan)return null;let A=new Date,u=A.getHours()*3600000+A.getMinutes()*60000+A.getSeconds()*1000,E=z.prayers.SehriEnds,k=z.prayers.Iftar,q=B(E)*60000,l=B(k)*60000;if(u<q){let $=q-u,N=j??z.prayers.Isha,J=B(N),a=B(E),b=Math.floor(u/60000),U=a+(1440-J),L=b+(1440-J),H=U>0?Math.min(1,Math.max(0,L/U)):0;return{label:"Sehri Ends In",targetTime:E,startTime:N,remainingMs:$,remainingDisplay:s($),progress:H,type:"sehri"}}if(u<l){let $=l-u,N=l-q,J=u-q,a=N>0?Math.min(1,Math.max(0,J/N)):0;return{label:"Iftar In",targetTime:k,startTime:E,remainingMs:$,remainingDisplay:s($),progress:a,type:"iftar"}}return null}function $z(z){let j=S("div",{className:"hero-container"}),A=O.getState().settings.timeFormat,u=S("div",{className:"hero-card"});u.appendChild(S("div",{className:"hero-label"},"Sehri Ends")),u.appendChild(S("div",{className:"hero-time"},X(z.SehriEnds,A))),u.appendChild(S("div",{className:"hero-sublabel"},"(Fajr)"));let E=S("div",{className:"hero-card"});return E.appendChild(S("div",{className:"hero-label"},"Iftar")),E.appendChild(S("div",{className:"hero-time"},X(z.Iftar,A))),E.appendChild(S("div",{className:"hero-sublabel"},"(Maghrib)")),j.appendChild(u),j.appendChild(E),j}function W1(z,j,A){let u=S("section",{className:"countdown-hero","aria-live":"polite"}),E=O.getState().settings.timeFormat,k=A==="iftar"&&z,q=A==="next-prayer"&&j;if(k&&z){u.classList.add(z.type);let l=z.type==="sehri"?"\uD83C\uDF19":"\uD83C\uDF05",$=S("div",{className:"hero-cd-label"});$.innerHTML=`${l} <span class="hero-cd-type">${z.label}</span>`,u.appendChild($),u.appendChild(S("div",{className:"hero-cd-time"},z.remainingDisplay)),u.appendChild(S("div",{className:"hero-cd-starts-at"},`Ends at ${X(z.targetTime,E)}`));let N=S("div",{className:"hero-cd-bar-wrap"}),J=S("div",{className:"hero-cd-bar"}),a=S("div",{className:`hero-cd-bar-fill ${z.type}`});a.style.width=`${Math.round(z.progress*100)}%`,J.appendChild(a),N.appendChild(J);let b=S("div",{className:"hero-cd-bar-labels"});b.appendChild(S("span",null,X(z.startTime,E))),b.appendChild(S("span",null,X(z.targetTime,E))),N.appendChild(b),u.appendChild(N)}else if(q&&j){u.classList.add("next-prayer");let l=S("div",{className:"hero-cd-label"});l.innerHTML=`\uD83D\uDD4C <span class="hero-cd-type">Next: ${j.name}</span>`,u.appendChild(l),u.appendChild(S("div",{className:"hero-cd-time"},j.remainingDisplay)),u.appendChild(S("div",{className:"hero-cd-starts-at"},`Starts at ${X(j.time,E)}`));let $=S("div",{className:"hero-cd-bar-wrap"}),N=S("div",{className:"hero-cd-bar"}),J=S("div",{className:"hero-cd-bar-fill gold"});J.style.width=`${Math.round(j.progress*100)}%`,N.appendChild(J),$.appendChild(N);let a=S("div",{className:"hero-cd-bar-labels"});a.appendChild(S("span",null,X(j.prevTime,E))),a.appendChild(S("span",null,X(j.time,E))),$.appendChild(a),u.appendChild($)}else if(z){u.classList.add(z.type);let l=z.type==="sehri"?"\uD83C\uDF19":"\uD83C\uDF05";u.appendChild(S("div",{className:"hero-cd-label"},`${l} ${z.label}`)),u.appendChild(S("div",{className:"hero-cd-time"},z.remainingDisplay))}else if(j)u.classList.add("next-prayer"),u.appendChild(S("div",{className:"hero-cd-label"},`\uD83D\uDD4C Next: ${j.name}`)),u.appendChild(S("div",{className:"hero-cd-time"},j.remainingDisplay));else u.appendChild(S("div",{className:"hero-cd-label"},"All prayers completed for today"));if(z&&j){let l=S("div",{className:"hero-cd-toggle"}),$=S("button",{className:`toggle-pill${A==="iftar"?" active":""}`},"Iftar"),N=S("button",{className:`toggle-pill${A==="next-prayer"?" active":""}`},"Next Prayer");l.appendChild($),l.appendChild(N),u.appendChild(l)}return u}function Jz(z,j,A,u){let E=O.getState().settings.timeFormat;if(u==="iftar"&&j){z.className=`countdown-hero ${j.type}`;let k=z.querySelector(".hero-cd-type");if(k)k.textContent=j.label;let q=z.querySelector(".hero-cd-time");if(q)q.textContent=j.remainingDisplay;let l=z.querySelector(".hero-cd-starts-at");if(l)l.textContent=`Ends at ${X(j.targetTime,E)}`;let $=z.querySelector(".hero-cd-bar-fill");if($)$.style.width=`${Math.round(j.progress*100)}%`,$.className=`hero-cd-bar-fill ${j.type}`;let N=z.querySelectorAll(".hero-cd-bar-labels span");if(N.length===2)N[0].textContent=X(j.startTime,E),N[1].textContent=X(j.targetTime,E)}else if(u==="next-prayer"&&A){z.className="countdown-hero next-prayer";let k=z.querySelector(".hero-cd-type");if(k)k.textContent=`Next: ${A.name}`;let q=z.querySelector(".hero-cd-time");if(q)q.textContent=A.remainingDisplay;let l=z.querySelector(".hero-cd-starts-at");if(l)l.textContent=`Starts at ${X(A.time,E)}`;let $=z.querySelector(".hero-cd-bar-fill");if($)$.style.width=`${Math.round(A.progress*100)}%`,$.className="hero-cd-bar-fill gold";let N=z.querySelectorAll(".hero-cd-bar-labels span");if(N.length===2)N[0].textContent=X(A.prevTime,E),N[1].textContent=X(A.time,E)}else if(!j&&!A){let k=z.querySelector(".hero-cd-time");if(k)k.textContent="";let q=z.querySelector(".hero-cd-label");if(q)q.textContent="All prayers completed for today"}}function V1(z,j){let A=S("div",{className:"prayer-list"}),u=O.getState().settings.timeFormat;for(let E of D){let k=z.prayers[E],q=lz(k),l=Nz(E,j),$=S("div",{className:`prayer-card${q&&!l?" past":""}${l?" now":""}`}),N=S("div",{className:"prayer-left"});if(q&&!l)N.appendChild(S("span",{className:"prayer-done-icon"},"✓"));if(N.appendChild(S("span",{className:"prayer-name"},E)),l)N.appendChild(S("span",{className:"prayer-now-badge"},"Now"));let J=S("span",{className:"prayer-time"},X(k,u));$.appendChild(N),$.appendChild(J),A.appendChild($)}return A}function az(z){let j=z.school===1?"Hanafi":"Shafi",A=`${z.cityDisplay} · ${z.methodName.split(",")[0]} · ${j}`;return S("div",{className:"transparency-footer"},A)}function o(){let z=S("div",null);z.appendChild(S("div",{className:"skeleton skeleton-line short",style:"height: 24px;"})),z.appendChild(S("div",{className:"skeleton skeleton-line",style:"height: 16px; width: 50%; margin-top: 8px;"}));let j=S("div",{className:"skeleton-hero"});j.appendChild(S("div",{className:"skeleton"})),j.appendChild(S("div",{className:"skeleton"})),z.appendChild(j),z.appendChild(S("div",{className:"skeleton skeleton-card",style:"height: 80px; margin-bottom: 16px;"}));for(let A=0;A<6;A++)z.appendChild(S("div",{className:"skeleton skeleton-card"}));return z}var f=null,c="iftar";function p(z){let j=O.getState(),[A,u,E]=z.dateGregorian.split("-").map(Number),k=new Date(E,u-1,A-1),q=`${String(k.getDate()).padStart(2,"0")}-${String(k.getMonth()+1).padStart(2,"0")}-${k.getFullYear()}`;for(let l of[j.currentMonthData,j.otherMonthData]){if(!l)continue;let $=l.days.find((N)=>N.dateGregorian===q);if($)return $.prayers.Isha}return}function _1(z){let j=O.getState();if(f)clearInterval(f),f=null;if(j.isLoading&&!j.todayData){K(z,o());return}if(j.error&&!j.todayData){let a=S("div",{className:"error-state"});a.appendChild(S("div",{className:"error-icon"},"⚠")),a.appendChild(S("div",{className:"error-message"},j.error));let b=S("button",{className:"btn-retry"},"Try Again");b.addEventListener("click",()=>{window.location.reload()}),a.appendChild(b),K(z,a);return}let A=j.todayData;if(!A){K(z,o());return}let u=j.settings,E=document.createDocumentFragment(),k=S("header",{className:"page-header"});k.appendChild(S("div",{className:"app-name"},`☪ ${m1}`)),k.appendChild(S("div",{className:"hijri-date"},A.hijriDisplay)),k.appendChild(S("div",{className:"greg-date"},jz())),E.appendChild(k),E.appendChild($z(A.prayers));let q=l1(A,p(A)),l=q1(A,p(A));if(!q)c="next-prayer";let $=W1(q,l,c);if($.querySelectorAll(".toggle-pill").forEach((a)=>{a.addEventListener("click",()=>{c=a.textContent==="Iftar"?"iftar":"next-prayer";let b=W1(l1(A,p(A)),q1(A,p(A)),c);b.querySelectorAll(".toggle-pill").forEach((U)=>{U.addEventListener("click",()=>{c=U.textContent==="Iftar"?"iftar":"next-prayer",_1(z)})}),$.replaceWith(b)})}),E.appendChild($),E.appendChild(V1(A,l)),A.isRamadan&&A.ramadanDay){let a=S("div",{className:"ramadan-counter"});a.innerHTML=`Day <strong>${A.ramadanDay}</strong> of Ramaḍān`,E.appendChild(a)}else if(A.isRamadan){let a=S("div",{className:"ramadan-counter"});a.innerHTML=`Day <strong>${A.hijriDay}</strong> of Ramaḍān`,E.appendChild(a)}E.appendChild(az(u)),K(z,E);let J=z.querySelector(".countdown-hero");f=window.setInterval(()=>{let a=l1(A,p(A)),b=q1(A,p(A));if(J)Jz(J,a,b,c);if(b?.name!==l?.name){let U=z.querySelector(".prayer-list");if(U){let L=V1(A,b);U.replaceWith(L)}}},1000)}function Oz(){if(f)clearInterval(f),f=null}function bz(){let z=O.getState(),j=n();if(z.currentMonthData){let A=z.currentMonthData.days.find((u)=>u.dateGregorian===j);if(A)return A}if(z.otherMonthData){let A=z.otherMonthData.days.find((u)=>u.dateGregorian===j);if(A)return A}return null}function Uz(z){let j=z.dateGregorian===n(),A=z.isRamadan,u=z.holidays.some((b)=>b.toLowerCase().includes("lailat")),E=z.holidays.some((b)=>b.toLowerCase().includes("eid")),k=O.getState().settings.timeFormat,q="day-row";if(j)q+=" today";if(!A)q+=" non-ramadan";let l=S("div",{className:q,id:j?"today-row":void 0}),$=S("div",{className:"day-row-header"});$.appendChild(S("span",{className:"day-row-date"},`${z.dateReadable} · ${z.weekday}`)),$.appendChild(S("span",{className:"day-row-hijri"},z.hijriDisplay)),l.appendChild($);let N=S("div",{className:"day-row-times"}),J=S("span",{className:"day-row-iftar"});J.innerHTML=`Iftar <strong>${X(z.prayers.Iftar,k)}</strong>`;let a=S("span",{className:"day-row-sehri"});if(a.innerHTML=`Sehri ends <strong>${X(z.prayers.SehriEnds,k)}</strong>`,N.appendChild(J),N.appendChild(a),l.appendChild(N),z.isRamadan&&z.ramadanDay)l.appendChild(S("span",{className:"day-row-ramadan-day"},`Day ${z.ramadanDay} of Ramaḍān`));if(j)l.appendChild(S("span",{className:"day-badge today-badge"},"TODAY"));if(u)l.appendChild(S("span",{className:"day-badge holiday-badge"},"⭐ Lailat-ul-Qadr"));if(E)l.appendChild(S("span",{className:"day-badge eid-badge"},"\uD83C\uDF89 Eid ul-Fitr"));return l}function Hz(z,j){let A=S("div",{className:"calendar-grid"}),u=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];for(let J of u)A.appendChild(S("div",{className:"cal-grid-header"},J));if(z.length===0)return A;let E=z[0],[k,q,l]=E.dateGregorian.split("-").map(Number),$=new Date(l,q-1,k).getDay();for(let J=0;J<$;J++)A.appendChild(S("div",{className:"cal-grid-spacer"}));let N=n();for(let J of z){let a=parseInt(J.dateGregorian.split("-")[0],10),b=J.dateGregorian===N,U=J.isRamadan,L=J.holidays.length>0,H="cal-grid-cell";if(b)H+=" today";if(!U)H+=" non-ramadan";if(L)H+=" holiday";let Q=S("button",{className:H,"aria-label":J.dateReadable});if(Q.appendChild(S("span",{className:"cal-grid-day"},String(a))),J.isRamadan&&J.ramadanDay)Q.appendChild(S("span",{className:"cal-grid-ramadan"},`R${J.ramadanDay}`));Q.addEventListener("click",()=>j(J)),A.appendChild(Q)}return A}function Zz(z){Y1();let j=O.getState().settings.timeFormat,A=S("div",{className:"sheet-backdrop"});A.addEventListener("click",Y1);let u=S("div",{className:"day-details-sheet"});u.appendChild(S("div",{className:"sheet-handle"}));let E=S("div",{className:"sheet-header"});if(E.appendChild(S("div",{className:"sheet-title"},z.dateReadable)),E.appendChild(S("div",{className:"sheet-subtitle"},`${z.weekday} · ${z.hijriDisplay}`)),z.isRamadan&&z.ramadanDay)E.appendChild(S("div",{className:"sheet-ramadan-day"},`Day ${z.ramadanDay} of Ramaḍān`));if(u.appendChild(E),z.isRamadan){let l=S("div",{className:"sheet-hero"}),$=S("div",{className:"sheet-hero-card"});$.appendChild(S("div",{className:"sheet-hero-label"},"Sehri ends")),$.appendChild(S("div",{className:"sheet-hero-time"},X(z.prayers.SehriEnds,j))),l.appendChild($);let N=S("div",{className:"sheet-hero-card iftar"});N.appendChild(S("div",{className:"sheet-hero-label"},"Iftar")),N.appendChild(S("div",{className:"sheet-hero-time"},X(z.prayers.Iftar,j))),l.appendChild(N),u.appendChild(l)}let k=S("div",{className:"sheet-prayer-list"});for(let l of D){let $=z.prayers[l],N=S("div",{className:"sheet-prayer-row"});N.appendChild(S("span",{className:"sheet-prayer-name"},l)),N.appendChild(S("span",{className:"sheet-prayer-time"},X($,j))),k.appendChild(N)}if(u.appendChild(k),z.holidays.length>0){let l=S("div",{className:"sheet-holidays"});for(let $ of z.holidays)l.appendChild(S("span",{className:"sheet-holiday-badge"},$));u.appendChild(l)}let q=S("button",{className:"sheet-close-btn"},"Close");q.addEventListener("click",Y1),u.appendChild(q),document.body.appendChild(A),document.body.appendChild(u),requestAnimationFrame(()=>{A.classList.add("show"),u.classList.add("show")})}function Y1(){let z=document.querySelector(".sheet-backdrop"),j=document.querySelector(".day-details-sheet");if(z)z.classList.remove("show"),setTimeout(()=>z.remove(),300);if(j)j.classList.remove("show"),setTimeout(()=>j.remove(),300)}var I=V(),G=_(),Qz="ramadan-bd-calendar-view";function sz(z){return z==="list"||z==="grid"?z:"grid"}function oz(){try{return sz(localStorage.getItem(Qz))}catch{return"grid"}}function Xz(z){try{localStorage.setItem(Qz,z)}catch{}}var g=oz();function v(z){let j=O.getState(),A=document.createDocumentFragment(),u=S("div",{className:"calendar-title-row"});u.appendChild(S("h1",{className:"page-title"},"Calendar"));let E=S("div",{className:"view-toggle"}),k=S("button",{className:`toggle-pill${g==="list"?" active":""}`,"aria-label":"List view"},"☰ List"),q=S("button",{className:`toggle-pill${g==="grid"?" active":""}`,"aria-label":"Grid view"},"▦ Grid");k.addEventListener("click",()=>{g="list",Xz(g),v(z)}),q.addEventListener("click",()=>{g="grid",Xz(g),v(z)}),E.appendChild(k),E.appendChild(q),u.appendChild(E),A.appendChild(u);let l=S("div",{className:"month-nav"}),$=S("button",{className:"month-nav-btn","aria-label":"Previous month"},"◀");$.addEventListener("click",()=>Fz(-1,z));let N=S("span",{className:"month-nav-title"},`${Az(G)} ${I}`),J=S("button",{className:"month-nav-btn","aria-label":"Next month"},"▶");J.addEventListener("click",()=>Fz(1,z)),l.appendChild($),l.appendChild(N),l.appendChild(J),A.appendChild(l);let a=I===V()&&G===_();if(!a){let U=S("div",{className:"calendar-actions"}),L=S("button",{className:"calendar-action-btn"},"\uD83D\uDCCD Jump to today");L.addEventListener("click",()=>{I=V(),G=_(),v(z),requestAnimationFrame(()=>{let Q=z.querySelector("#today-row");if(Q)Q.scrollIntoView({behavior:"smooth",block:"center"})})});let H=S("button",{className:"calendar-action-btn"},"\uD83D\uDCC5 This month");H.addEventListener("click",()=>{I=V(),G=_(),v(z)}),U.appendChild(L),U.appendChild(H),A.appendChild(U)}let b=tz();if(!b){if(j.isLoading)A.appendChild(o());else{let U=S("div",{className:"error-state"});U.appendChild(S("div",{className:"error-message"},"Loading calendar data...")),A.appendChild(U),ez(z)}K(z,A);return}if(g==="grid")A.appendChild(Hz(b.days,(U)=>{Zz(U)}));else for(let U of b.days)A.appendChild(Uz(U));if(K(z,A),a&&g==="list")requestAnimationFrame(()=>{let U=z.querySelector("#today-row");if(U)U.scrollIntoView({behavior:"smooth",block:"center"})})}function tz(){let z=O.getState();if(z.currentMonthData){let j=z.currentMonthData.days[0];if(j){let[,A,u]=j.dateGregorian.split("-").map(Number);if(A===G&&u===I)return z.currentMonthData}}if(z.otherMonthData){let j=z.otherMonthData.days[0];if(j){let[,A,u]=j.dateGregorian.split("-").map(Number);if(A===G&&u===I)return z.otherMonthData}}return null}async function ez(z){let j=O.getState().settings;O.setState({isLoading:!0});let A=await r(j,I,G);if(A.data)O.setState({otherMonthData:A.data,isLoading:!1});else O.setState({isLoading:!1,error:A.error||"Failed to load calendar"});v(z)}function Fz(z,j){if(G+=z,G>12)G=1,I++;if(G<1)G=12,I--;v(j)}var B1=[{name:"Dhaka",normalized:"dhaka"},{name:"Chittagong",normalized:"chittagong"},{name:"Khulna",normalized:"khulna"},{name:"Rajshahi",normalized:"rajshahi"},{name:"Sylhet",normalized:"sylhet"},{name:"Rangpur",normalized:"rangpur"},{name:"Barisal",normalized:"barisal"},{name:"Mymensingh",normalized:"mymensingh"},{name:"Comilla",normalized:"comilla"},{name:"Gazipur",normalized:"gazipur"},{name:"Narayanganj",normalized:"narayanganj"},{name:"Cox's Bazar",normalized:"coxs bazar"},{name:"Jessore",normalized:"jessore"},{name:"Bogra",normalized:"bogra"},{name:"Dinajpur",normalized:"dinajpur"},{name:"Tangail",normalized:"tangail"},{name:"Noakhali",normalized:"noakhali"},{name:"Brahmanbaria",normalized:"brahmanbaria"},{name:"Narsingdi",normalized:"narsingdi"},{name:"Faridpur",normalized:"faridpur"},{name:"Pabna",normalized:"pabna"},{name:"Jamalpur",normalized:"jamalpur"},{name:"Kushtia",normalized:"kushtia"},{name:"Habiganj",normalized:"habiganj"},{name:"Moulvibazar",normalized:"moulvibazar"},{name:"Sunamganj",normalized:"sunamganj"},{name:"Netrokona",normalized:"netrokona"},{name:"Sherpur",normalized:"sherpur"},{name:"Kishoreganj",normalized:"kishoreganj"},{name:"Manikganj",normalized:"manikganj"},{name:"Munshiganj",normalized:"munshiganj"},{name:"Madaripur",normalized:"madaripur"},{name:"Gopalganj",normalized:"gopalganj"},{name:"Shariatpur",normalized:"shariatpur"},{name:"Rajbari",normalized:"rajbari"},{name:"Satkhira",normalized:"satkhira"},{name:"Bagerhat",normalized:"bagerhat"},{name:"Narail",normalized:"narail"},{name:"Magura",normalized:"magura"},{name:"Jhenaidah",normalized:"jhenaidah"},{name:"Meherpur",normalized:"meherpur"},{name:"Chuadanga",normalized:"chuadanga"},{name:"Kurigram",normalized:"kurigram"},{name:"Lalmonirhat",normalized:"lalmonirhat"},{name:"Nilphamari",normalized:"nilphamari"},{name:"Gaibandha",normalized:"gaibandha"},{name:"Thakurgaon",normalized:"thakurgaon"},{name:"Panchagarh",normalized:"panchagarh"},{name:"Joypurhat",normalized:"joypurhat"},{name:"Naogaon",normalized:"naogaon"},{name:"Natore",normalized:"natore"},{name:"Nawabganj",normalized:"nawabganj"},{name:"Sirajganj",normalized:"sirajganj"},{name:"Pirojpur",normalized:"pirojpur"},{name:"Jhalokati",normalized:"jhalokati"},{name:"Barguna",normalized:"barguna"},{name:"Patuakhali",normalized:"patuakhali"},{name:"Bhola",normalized:"bhola"},{name:"Feni",normalized:"feni"},{name:"Lakshmipur",normalized:"lakshmipur"},{name:"Chandpur",normalized:"chandpur"},{name:"Bandarban",normalized:"bandarban"},{name:"Rangamati",normalized:"rangamati"},{name:"Khagrachari",normalized:"khagrachari"}];var Lz=[1,3,5,2];async function Kz(z){let j=O.getState(),A={...j.settings};if(!A.timeFormat)A.timeFormat="12h";if(!A.theme)A.theme="dark";let u=j.methods;if(!u)try{u=await E1(),O.setState({methods:u})}catch{u=[{id:1,name:"University of Islamic Sciences, Karachi"},{id:3,name:"Muslim World League"},{id:5,name:"Egyptian General Authority of Survey"},{id:2,name:"Islamic Society of North America (ISNA)"}]}let E=document.createDocumentFragment();E.appendChild(S("h1",{className:"page-title"},"Settings"));let k=S("div",{className:"settings-form"}),q=S("div",{className:"form-group"});q.appendChild(S("label",{className:"form-label"},"City"));let l=S("select",{className:"form-select","aria-label":"Select city"});for(let Z of B1){let F=S("option",{value:Z.name});if(F.textContent=Z.name,Z.normalized===A.city)F.selected=!0;l.appendChild(F)}l.addEventListener("change",()=>{let Z=B1.find((F)=>F.name===l.value);if(Z)A.city=Z.normalized,A.cityDisplay=Z.name}),q.appendChild(l),k.appendChild(q);let $=S("div",{className:"form-group"});$.appendChild(S("label",{className:"form-label"},"Calculation Method"));let N=S("select",{className:"form-select","aria-label":"Select calculation method"}),J=u.filter((Z)=>Lz.includes(Z.id)),a=u.filter((Z)=>!Lz.includes(Z.id));for(let Z of J){let F=S("option",{value:String(Z.id)});if(F.textContent=Z.id===1?`★ ${Z.name} (Recommended)`:Z.name,Z.id===A.methodId)F.selected=!0;N.appendChild(F)}if(a.length>0){let Z=S("optgroup",{label:"Other methods"});for(let F of a){let W=S("option",{value:String(F.id)});if(W.textContent=F.name,F.id===A.methodId)W.selected=!0;Z.appendChild(W)}N.appendChild(Z)}N.addEventListener("change",()=>{let Z=parseInt(N.value),F=u.find((W)=>W.id===Z);if(F)A.methodId=Z,A.methodName=F.name}),$.appendChild(N),$.appendChild(S("div",{className:"form-hint"},"★ Recommended for Bangladesh")),k.appendChild($);let b=S("div",{className:"form-group"});b.appendChild(S("label",{className:"form-label"},"Asr Calculation"));let U=S("div",{className:"radio-group"}),L=S("label",{className:"radio-option"}),H=S("input",{type:"radio",name:"school",value:"1"});if(A.school===1)H.checked=!0;H.addEventListener("change",()=>{A.school=1}),L.appendChild(H),L.appendChild(document.createTextNode(" Hanafi (recommended)")),U.appendChild(L);let Q=S("label",{className:"radio-option"}),x=S("input",{type:"radio",name:"school",value:"0"});if(A.school===0)x.checked=!0;x.addEventListener("change",()=>{A.school=0}),Q.appendChild(x),Q.appendChild(document.createTextNode(" Shafi")),U.appendChild(Q),b.appendChild(U),k.appendChild(b);let P=S("div",{className:"form-group"});P.appendChild(S("label",{className:"form-label"},"Theme"));let v1=S("div",{className:"radio-group"});for(let Z of["dark","light","system"]){let F=S("label",{className:"radio-option"}),W=S("input",{type:"radio",name:"theme",value:Z});if(A.theme===Z)W.checked=!0;W.addEventListener("change",()=>{A.theme=Z}),F.appendChild(W),F.appendChild(document.createTextNode(` ${Z.charAt(0).toUpperCase()+Z.slice(1)}`)),v1.appendChild(F)}P.appendChild(v1),k.appendChild(P);let a1=S("div",{className:"form-group"});a1.appendChild(S("label",{className:"form-label"},"Time Format"));let O1=S("div",{className:"radio-group radio-group-row"}),b1=S("label",{className:"radio-option"}),U1=S("input",{type:"radio",name:"timeFormat",value:"12h"});if(A.timeFormat==="12h")U1.checked=!0;U1.addEventListener("change",()=>{A.timeFormat="12h"}),b1.appendChild(U1),b1.appendChild(document.createTextNode(" 12-hour (4:52 AM)")),O1.appendChild(b1);let H1=S("label",{className:"radio-option"}),Z1=S("input",{type:"radio",name:"timeFormat",value:"24h"});if(A.timeFormat==="24h")Z1.checked=!0;Z1.addEventListener("change",()=>{A.timeFormat="24h"}),H1.appendChild(Z1),H1.appendChild(document.createTextNode(" 24-hour (04:52)")),O1.appendChild(H1),a1.appendChild(O1),k.appendChild(a1);let M=S("button",{className:"btn-save"},"\uD83D\uDCBE Save Settings");if(!R.isOnline())M.disabled=!0,M.title="Connect to update";M.addEventListener("click",async()=>{M.disabled=!0,M.textContent="Saving...",A2(A.theme),y1(A);let Z=V(),F=_(),W=T(j.settings.city,j.settings.methodId,j.settings.school,Z,F),Rz=T(A.city,A.methodId,A.school,Z,F);if(W!==Rz){let z1=await k1(A,Z,F);if(z1.data)O.setState({settings:A,currentMonthData:z1.data,todayData:z1.data.days.find((Dz)=>{let X1=new Date,gz=String(X1.getDate()).padStart(2,"0"),vz=String(X1.getMonth()+1).padStart(2,"0");return Dz.dateGregorian===`${gz}-${vz}-${X1.getFullYear()}`})||null});else O.setState({settings:A,error:z1.error||null})}else O.setState({settings:A});j2("Settings saved"),Y.navigate("today")}),k.appendChild(M),E.appendChild(k);let P1=S("div",{className:"settings-footer"});P1.innerHTML=`
    Data provided by <a href="https://aladhan.com" target="_blank" rel="noopener">AlAdhan.com</a><br>
    App version 1.1.0
  `,E.appendChild(P1),K(z,E)}function A2(z){if(z==="system"){let j=window.matchMedia("(prefers-color-scheme: dark)").matches;document.documentElement.setAttribute("data-theme",j?"dark":"light")}else document.documentElement.setAttribute("data-theme",z)}function j2(z){let j=document.querySelector(".toast");if(!j)j=S("div",{className:"toast"}),document.body.appendChild(j);j.textContent=z,j.classList.add("show"),setTimeout(()=>j.classList.remove("show"),2000)}var N1=null;function xz(){if(N1)return Promise.resolve(N1);return new Promise((z,j)=>{let A=indexedDB.open(w,m);A.onsuccess=()=>{N1=A.result,z(N1)},A.onerror=()=>j(A.error)})}async function I1(){try{let z=await xz();return new Promise((j,A)=>{let k=z.transaction("duaFavorites","readonly").objectStore("duaFavorites").getAll();k.onsuccess=()=>{let q=(k.result||[]).map((l)=>l.duaId);j(new Set(q))},k.onerror=()=>A(k.error)})}catch{return new Set}}async function Gz(z){try{let j=await xz(),u=(await I1()).has(z);return new Promise((E,k)=>{let q=j.transaction("duaFavorites","readwrite"),l=q.objectStore("duaFavorites");if(u)l.delete(z);else l.put({duaId:z});q.oncomplete=()=>E(!u),q.onerror=()=>k(q.error)})}catch{return!1}}function $1(z){let j=document.querySelector(".toast");if(!j)j=S("div",{className:"toast"}),document.body.appendChild(j);j.textContent=z,j.classList.add("show"),setTimeout(()=>j.classList.remove("show"),2000)}function Wz(z,j,A){let u=S("div",{className:"dua-card"}),E=S("div",{className:"dua-card-header"});E.appendChild(S("span",{className:"dua-card-title"},z.titleEn)),u.appendChild(E),u.appendChild(S("div",{className:"dua-arabic",lang:"ar",dir:"rtl"},z.arabicText)),u.appendChild(S("div",{className:"dua-transliteration"},z.transliteration)),u.appendChild(S("div",{className:"dua-translation"},z.translationEn)),u.appendChild(S("div",{className:"dua-source"},`\uD83D\uDCD6 ${z.source}`));let k=S("div",{className:"dua-actions"}),q=S("button",{className:"dua-action-btn","aria-label":"Copy Arabic"},"\uD83D\uDCCB Arabic");q.addEventListener("click",async()=>{try{await navigator.clipboard.writeText(z.arabicText),$1("Arabic text copied")}catch{$1("Copy failed")}});let l=S("button",{className:"dua-action-btn","aria-label":"Copy Translation"},"\uD83D\uDCCB English");l.addEventListener("click",async()=>{try{await navigator.clipboard.writeText(z.translationEn),$1("Translation copied")}catch{$1("Copy failed")}});let $=S("button",{className:`dua-fav-btn${j?" active":""}`,"aria-label":j?"Remove from favorites":"Add to favorites"},j?"♥":"♡");return $.addEventListener("click",()=>A(z.id)),k.appendChild(q),k.appendChild(l),k.appendChild($),u.appendChild(k),u}var Vz=[{id:"iftar-1",titleEn:"Dua for Breaking Fast",arabicText:"اللَّهُمَّ إِنِّي لَكَ صُمْتُ وَبِكَ آمَنْتُ وَعَلَى رِزْقِكَ أَفْطَرْتُ",transliteration:"Allahumma inni laka sumtu wa bika aamantu wa 'ala rizqika aftartu",translationEn:"O Allah! I fasted for You and I believe in You and I break my fast with Your sustenance.",category:"iftar",source:"Abu Dawud 2358"},{id:"iftar-2",titleEn:"Dua When Breaking Fast",arabicText:"ذَهَبَ الظَّمَأُ وَابْتَلَّتِ الْعُرُوقُ وَثَبَتَ الْأَجْرُ إِنْ شَاءَ اللَّهُ",transliteration:"Dhahaba al-zama'u wabtallatil-'urooqu wa thabatal-ajru inshaa'Allah",translationEn:"The thirst has gone, the veins are moistened, and the reward is confirmed, if Allah wills.",category:"iftar",source:"Abu Dawud 2357"},{id:"sehri-1",titleEn:"Intention for Fasting (Niyyah)",arabicText:"وَبِصَوْمِ غَدٍ نَوَيْتُ مِنْ شَهْرِ رَمَضَانَ",transliteration:"Wa bisawmi ghadin nawaytu min shahri ramadan",translationEn:"I intend to keep the fast for tomorrow in the month of Ramadan.",category:"sehri",source:"Abu Dawud 2454"},{id:"sehri-2",titleEn:"Dua Before Eating Sehri",arabicText:"بِسْمِ اللَّهِ وَعَلَى بَرَكَةِ اللَّهِ",transliteration:"Bismillahi wa 'ala barakatillah",translationEn:"In the name of Allah and with the blessings of Allah.",category:"sehri",source:"General practice"},{id:"general-1",titleEn:"Dua for Forgiveness",arabicText:"رَبَّنَا اغْفِرْ لِي وَلِوَالِدَيَّ وَلِلْمُؤْمِنِينَ يَوْمَ يَقُومُ الْحِسَابُ",transliteration:"Rabbana-ghfir li wa li-walidayya wa lil-mu'mineena yawma yaqoomul-hisaab",translationEn:"Our Lord, forgive me and my parents and the believers the Day the account is established.",category:"general",source:"Quran 14:41"},{id:"general-2",titleEn:"Dua for Mercy",arabicText:"رَبِّ اغْفِرْ وَارْحَمْ وَأَنْتَ خَيْرُ الرَّاحِمِينَ",transliteration:"Rabbighfir warham wa anta khairur-raahimeen",translationEn:"My Lord, forgive and have mercy, and You are the best of the merciful.",category:"general",source:"Quran 23:118"},{id:"general-3",titleEn:"Dua of the Fasting Person",arabicText:"إِنَّ لِلصَّائِمِ عِنْدَ فِطْرِهِ لَدَعْوَةً مَا تُرَدُّ",transliteration:"Inna lis-saa'imi 'inda futrihi lada'watan maa turaddu",translationEn:"The fasting person has a supplication at the time of breaking fast that is not rejected.",category:"general",source:"Ibn Majah 1753"},{id:"general-4",titleEn:"Dua for Guidance",arabicText:"اللَّهُمَّ إِنِّي أَسْأَلُكَ الْهُدَى وَالتُّقَى وَالْعَفَافَ وَالْغِنَى",transliteration:"Allahumma inni as'alukal-huda wat-tuqa wal-'afaafa wal-ghina",translationEn:"O Allah, I ask You for guidance, piety, chastity and self-sufficiency.",category:"general",source:"Muslim 2721"},{id:"qadr-1",titleEn:"Dua for Laylatul Qadr",arabicText:"اللَّهُمَّ إِنَّكَ عَفُوٌّ تُحِبُّ الْعَفْوَ فَاعْفُ عَنِّي",transliteration:"Allahumma innaka 'afuwwun tuhibbul-'afwa fa'fu 'anni",translationEn:"O Allah, You are Pardoning and You love to pardon, so pardon me.",category:"laylatul-qadr",source:"Tirmidhi 3513"},{id:"qadr-2",titleEn:"Seeking the Night of Power",arabicText:"اللَّهُمَّ إِنِّي أَسْأَلُكَ مِنْ فَضْلِكَ وَرَحْمَتِكَ فَإِنَّهُ لَا يَمْلِكُهَا إِلَّا أَنْتَ",transliteration:"Allahumma inni as'aluka min fadlika wa rahmatika fa innahu laa yamlikuhaa illaa anta",translationEn:"O Allah, I ask You from Your bounty and mercy, for none possesses them except You.",category:"laylatul-qadr",source:"Al-Tabarani"}];var u2=[{id:"sehri",label:"Sehri"},{id:"iftar",label:"Iftar"},{id:"general",label:"General"},{id:"laylatul-qadr",label:"Laylatul Qadr"},{id:"favorites",label:"♥ Favorites"}],h="iftar",i="";async function t(z){let j=await I1(),A=document.createDocumentFragment();A.appendChild(S("h1",{className:"page-title"},"Duas"));let u=S("div",{className:"dua-search-wrap"}),E=S("input",{className:"dua-search",type:"text",placeholder:"\uD83D\uDD0D Search duas...",value:i});E.addEventListener("input",()=>{i=E.value,t(z)}),u.appendChild(E),A.appendChild(u);let k=S("div",{className:"category-tabs-wrap"}),q=S("div",{className:"category-tabs",role:"tablist"});for(let N of u2){let J=S("button",{className:`category-tab${N.id===h?" active":""}`,role:"tab","aria-selected":N.id===h?"true":"false"},N.label);J.addEventListener("click",()=>{h=N.id,t(z)}),q.appendChild(J)}k.appendChild(q),A.appendChild(k);let l=Vz,$;if(h==="favorites")$=l.filter((N)=>j.has(N.id));else $=l.filter((N)=>N.category===h);if(i.trim()){let N=i.toLowerCase();$=$.filter((J)=>J.titleEn.toLowerCase().includes(N)||J.transliteration.toLowerCase().includes(N)||J.translationEn.toLowerCase().includes(N))}if($.length===0){let N=S("div",{className:"error-state"});N.appendChild(S("div",{className:"error-icon"},h==="favorites"?"♡":"\uD83E\uDD32")),N.appendChild(S("div",{className:"error-message"},i?"No duas match your search.":h==="favorites"?"No favorites yet. Tap the heart on any dua to save it.":"No duas in this category.")),A.appendChild(N)}else for(let N of $)A.appendChild(Wz(N,j.has(N.id),async(J)=>{await Gz(J),t(z)}));if(K(z,A),i){let N=z.querySelector(".dua-search");if(N)N.focus(),N.setSelectionRange(N.value.length,N.value.length)}}var J1=null;function R1(){if(J1)return Promise.resolve(J1);return new Promise((z,j)=>{let A=indexedDB.open(w,m);A.onsuccess=()=>{J1=A.result,z(J1)},A.onerror=()=>j(A.error)})}async function D1(){try{let z=await R1();return new Promise((j,A)=>{let k=z.transaction("quranProgress","readonly").objectStore("quranProgress").get("progress");k.onsuccess=()=>j(k.result||{id:"progress",completedDays:[],lastUpdated:""}),k.onerror=()=>A(k.error)})}catch{return{completedDays:[],lastUpdated:""}}}async function g1(z){let j=await D1(),A=j.completedDays.indexOf(z);if(A>=0)j.completedDays.splice(A,1);else j.completedDays.push(z),j.completedDays.sort((u,E)=>u-E);j.lastUpdated=new Date().toISOString();try{let u=await R1();await new Promise((E,k)=>{let q=u.transaction("quranProgress","readwrite");q.objectStore("quranProgress").put({id:"progress",...j}),q.oncomplete=()=>E(),q.onerror=()=>k(q.error)})}catch{}return j}async function _z(){try{let z=await R1();await new Promise((j,A)=>{let u=z.transaction("quranProgress","readwrite");u.objectStore("quranProgress").put({id:"progress",completedDays:[],lastUpdated:new Date().toISOString()}),u.oncomplete=()=>j(),u.onerror=()=>A(u.error)})}catch{}}function Yz(z,j,A,u){let E="quran-day-card";if(j)E+=" completed";if(A)E+=" today";let k=S("div",{className:E,id:A?"quran-today":void 0}),q=S("div",{className:"quran-day-info"});q.appendChild(S("div",{className:"quran-day-num"},`Day ${z.day} · Juz ${z.juz}`)),q.appendChild(S("div",{className:"quran-day-surah"},`${z.surahStart} ${z.ayahStart} – ${z.surahEnd} ${z.ayahEnd}`)),q.appendChild(S("div",{className:"quran-day-pages"},`Pages ${z.pages}`));let l=S("div",{className:"quran-checkbox"},j?"☑":"☐");return k.appendChild(q),k.appendChild(l),k.addEventListener("click",()=>u(z.day)),k}var Bz=[{day:1,juz:1,surahStart:"Al-Fatiha",ayahStart:1,surahEnd:"Al-Baqarah",ayahEnd:141,pages:"1–20"},{day:2,juz:2,surahStart:"Al-Baqarah",ayahStart:142,surahEnd:"Al-Baqarah",ayahEnd:252,pages:"21–40"},{day:3,juz:3,surahStart:"Al-Baqarah",ayahStart:253,surahEnd:"Al-Imran",ayahEnd:92,pages:"41–60"},{day:4,juz:4,surahStart:"Al-Imran",ayahStart:93,surahEnd:"An-Nisa",ayahEnd:23,pages:"61–80"},{day:5,juz:5,surahStart:"An-Nisa",ayahStart:24,surahEnd:"An-Nisa",ayahEnd:147,pages:"81–100"},{day:6,juz:6,surahStart:"An-Nisa",ayahStart:148,surahEnd:"Al-Ma'idah",ayahEnd:81,pages:"101–120"},{day:7,juz:7,surahStart:"Al-Ma'idah",ayahStart:82,surahEnd:"Al-An'am",ayahEnd:110,pages:"121–140"},{day:8,juz:8,surahStart:"Al-An'am",ayahStart:111,surahEnd:"Al-A'raf",ayahEnd:87,pages:"141–160"},{day:9,juz:9,surahStart:"Al-A'raf",ayahStart:88,surahEnd:"Al-Anfal",ayahEnd:40,pages:"161–180"},{day:10,juz:10,surahStart:"Al-Anfal",ayahStart:41,surahEnd:"At-Tawbah",ayahEnd:92,pages:"181–200"},{day:11,juz:11,surahStart:"At-Tawbah",ayahStart:93,surahEnd:"Hud",ayahEnd:5,pages:"201–220"},{day:12,juz:12,surahStart:"Hud",ayahStart:6,surahEnd:"Yusuf",ayahEnd:52,pages:"221–240"},{day:13,juz:13,surahStart:"Yusuf",ayahStart:53,surahEnd:"Ibrahim",ayahEnd:52,pages:"241–260"},{day:14,juz:14,surahStart:"Al-Hijr",ayahStart:1,surahEnd:"An-Nahl",ayahEnd:128,pages:"261–280"},{day:15,juz:15,surahStart:"Al-Isra",ayahStart:1,surahEnd:"Al-Kahf",ayahEnd:74,pages:"281–300"},{day:16,juz:16,surahStart:"Al-Kahf",ayahStart:75,surahEnd:"Ta-Ha",ayahEnd:135,pages:"301–320"},{day:17,juz:17,surahStart:"Al-Anbiya",ayahStart:1,surahEnd:"Al-Hajj",ayahEnd:78,pages:"321–340"},{day:18,juz:18,surahStart:"Al-Mu'minun",ayahStart:1,surahEnd:"Al-Furqan",ayahEnd:20,pages:"341–360"},{day:19,juz:19,surahStart:"Al-Furqan",ayahStart:21,surahEnd:"An-Naml",ayahEnd:55,pages:"361–380"},{day:20,juz:20,surahStart:"An-Naml",ayahStart:56,surahEnd:"Al-Ankabut",ayahEnd:45,pages:"381–400"},{day:21,juz:21,surahStart:"Al-Ankabut",ayahStart:46,surahEnd:"Al-Ahzab",ayahEnd:30,pages:"401–420"},{day:22,juz:22,surahStart:"Al-Ahzab",ayahStart:31,surahEnd:"Ya-Sin",ayahEnd:27,pages:"421–440"},{day:23,juz:23,surahStart:"Ya-Sin",ayahStart:28,surahEnd:"Az-Zumar",ayahEnd:31,pages:"441–460"},{day:24,juz:24,surahStart:"Az-Zumar",ayahStart:32,surahEnd:"Fussilat",ayahEnd:46,pages:"461–480"},{day:25,juz:25,surahStart:"Fussilat",ayahStart:47,surahEnd:"Al-Jathiyah",ayahEnd:37,pages:"481–500"},{day:26,juz:26,surahStart:"Al-Ahqaf",ayahStart:1,surahEnd:"Al-Hadid",ayahEnd:29,pages:"501–520"},{day:27,juz:27,surahStart:"Al-Mujadila",ayahStart:1,surahEnd:"At-Tahrim",ayahEnd:12,pages:"521–540"},{day:28,juz:28,surahStart:"Al-Mulk",ayahStart:1,surahEnd:"Al-Mursalat",ayahEnd:50,pages:"541–560"},{day:29,juz:29,surahStart:"An-Naba",ayahStart:1,surahEnd:"At-Takwir",ayahEnd:29,pages:"561–580"},{day:30,juz:30,surahStart:"Al-Infitar",ayahStart:1,surahEnd:"An-Nas",ayahEnd:6,pages:"581–604"}];var y="all",e=null;function k2(){let z=O.getState();if(z.todayData?.isRamadan&&z.todayData.ramadanDay)return z.todayData.ramadanDay;if(z.todayData?.isRamadan)return z.todayData.hijriDay;return null}function q2(z,j){if(e)clearTimeout(e);let A=document.querySelector(".undo-toast");if(A)A.remove();let u=S("div",{className:"undo-toast show"});u.appendChild(S("span",null,z));let E=S("button",{className:"undo-btn"},"Undo");E.addEventListener("click",()=>{if(j(),u.remove(),e)clearTimeout(e)}),u.appendChild(E),document.body.appendChild(u),e=window.setTimeout(()=>{u.classList.remove("show"),setTimeout(()=>u.remove(),300)},4000)}async function d(z){let j=await D1(),A=new Set(j.completedDays),u=Bz,E=k2(),k=document.createDocumentFragment(),q=S("div",{className:"quran-title-row"});if(q.appendChild(S("h1",{className:"page-title"},"Quran Plan")),E){let H=S("button",{className:"calendar-action-btn"},"\uD83D\uDCCD Go to today");H.addEventListener("click",()=>{let Q=z.querySelector("#quran-today");if(Q)Q.scrollIntoView({behavior:"smooth",block:"center"})}),q.appendChild(H)}k.appendChild(q);let l=S("div",{className:"quran-progress"}),$=S("div",{className:"quran-progress-text"},`${A.size}/30 days complete`),N=S("div",{className:"quran-progress-bar"}),J=S("div",{className:"quran-progress-fill"});J.style.width=`${A.size/30*100}%`,N.appendChild(J),l.appendChild($),l.appendChild(N),k.appendChild(l);let a=S("div",{className:"quran-filters"}),b=[{id:"all",label:"All"},{id:"pending",label:"Pending"},{id:"completed",label:"Completed"}];for(let H of b){let Q=S("button",{className:`filter-pill${H.id===y?" active":""}`},H.label);Q.addEventListener("click",()=>{y=H.id,d(z)}),a.appendChild(Q)}k.appendChild(a);let U=u;if(y==="pending")U=u.filter((H)=>!A.has(H.day));else if(y==="completed")U=u.filter((H)=>A.has(H.day));for(let H of U){let Q=H.day===E;k.appendChild(Yz(H,A.has(H.day),Q,async(x)=>{let P=A.has(x);await g1(x),q2(P?`Day ${x} marked pending`:`Day ${x} completed`,async()=>{await g1(x),d(z)}),d(z)}))}if(U.length===0){let H=S("div",{className:"error-state"});H.appendChild(S("div",{className:"error-icon"},y==="completed"?"\uD83D\uDCD6":"✅")),H.appendChild(S("div",{className:"error-message"},y==="completed"?"No completed days yet.":"All days completed!")),k.appendChild(H)}let L=S("button",{className:"btn-reset"},"Reset Progress");L.addEventListener("click",async()=>{if(confirm("Are you sure you want to reset all Quran reading progress?"))await _z(),d(z)}),k.appendChild(L),K(z,k)}async function l2(){f1();let z=i1();if(z.theme==="system"){let E=window.matchMedia("(prefers-color-scheme: dark)").matches;document.documentElement.setAttribute("data-theme",E?"dark":"light"),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",(k)=>{if(O.getState().settings.theme==="system")document.documentElement.setAttribute("data-theme",k.matches?"dark":"light")})}else document.documentElement.setAttribute("data-theme",z.theme);let j={settings:z,currentMonthData:null,otherMonthData:null,todayData:null,nextPrayer:null,isOnline:navigator.onLine,isLoading:!0,error:null,methods:null};M1(j),R.init(),R.onChange((E)=>{O.setState({isOnline:E})}),await o1();let A=document.getElementById("app"),u=document.createElement("main");u.setAttribute("role","main"),A.appendChild(qz()),A.appendChild(u),A.appendChild(kz()),Y.onRouteChange((E)=>{Iz(E,u)});try{let{current:E,other:k}=await uz(z);O.setState({currentMonthData:E.data,otherMonthData:k?.data||null,isLoading:!1,error:E.source==="error"?E.error||"Failed to load data":null});let q=bz();O.setState({todayData:q})}catch(E){O.setState({isLoading:!1,error:E.message||"Failed to load prayer times"})}if(E1().then((E)=>O.setState({methods:E})).catch(()=>{}),Y.init(),!window.location.hash||window.location.hash==="#/"||window.location.hash==="#")Iz("today",u);if("serviceWorker"in navigator)navigator.serviceWorker.register("/sw.js").catch(()=>{})}function Iz(z,j){switch(Oz(),z){case"today":_1(j);break;case"calendar":v(j);break;case"settings":Kz(j);break;case"duas":t(j);break;case"quran":d(j);break}}l2().catch(console.error);
