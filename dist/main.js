var Cz="@vercel/analytics",Mz="1.6.1",fz=()=>{if(window.va)return;window.va=function(...j){(window.vaq=window.vaq||[]).push(j)}};function M1(){return typeof window<"u"}function f1(){try{return"development"}catch(z){}return"production"}function hz(z="auto"){if(z==="auto"){window.vam=f1();return}window.vam=z}function wz(){return(M1()?window.vam:f1())||"production"}function x1(){return wz()==="development"}function mz(z){if(z.scriptSrc)return z.scriptSrc;if(x1())return"https://va.vercel-scripts.com/v1/script.debug.js";if(z.basePath)return`${z.basePath}/insights/script.js`;return"/_vercel/insights/script.js"}function h1(z={debug:!0}){var j;if(!M1())return;if(hz(z.mode),fz(),z.beforeSend)(j=window.va)==null||j.call(window,"beforeSend",z.beforeSend);let S=mz(z);if(document.head.querySelector(`script[src*="${S}"]`))return;let k=document.createElement("script");if(k.src=S,k.defer=!0,k.dataset.sdkn=Cz+(z.framework?`/${z.framework}`:""),k.dataset.sdkv=Mz,z.disableAutoTrack)k.dataset.disableAutoTrack="1";if(z.endpoint)k.dataset.endpoint=z.endpoint;else if(z.basePath)k.dataset.endpoint=`${z.basePath}/insights`;if(z.dsn)k.dataset.dsn=z.dsn;if(k.onerror=()=>{let u=x1()?"Please check if any ad blockers are enabled and try again.":"Be sure to enable Web Analytics for your project and deploy again. See https://vercel.com/docs/analytics/quickstart for more information.";console.log(`[Vercel Web Analytics] Failed to load script from ${S}. ${u}`)},x1()&&z.debug===!1)k.dataset.debug="false";document.head.appendChild(k)}class w1{state;listeners=new Set;constructor(z){this.state=z}getState(){return this.state}setState(z){this.state={...this.state,...z},this.listeners.forEach((j)=>j(this.state))}subscribe(z){return this.listeners.add(z),()=>this.listeners.delete(z)}}var X;function m1(z){return X=new w1(z),X}var nz={"":"today",today:"today",calendar:"calendar",duas:"duas",quran:"quran",settings:"settings"};class n1{listeners=new Set;current="today";init(){window.addEventListener("hashchange",()=>this.handleHash()),this.handleHash()}handleHash(){let z=window.location.hash.replace("#/","").replace("#",""),j=nz[z]||"today";if(j!==this.current)this.current=j,this.listeners.forEach((S)=>S(j))}navigate(z){window.location.hash=`#/${z==="today"?"":z}`}getCurrentRoute(){return this.current}onRouteChange(z){return this.listeners.add(z),()=>this.listeners.delete(z)}}var l=new n1;var S1={city:"dhaka",cityDisplay:"Dhaka",methodId:1,methodName:"University of Islamic Sciences, Karachi",school:1,theme:"dark",timeFormat:"12h",lastSaved:""};var c1="Ramadan Taqwim",G1="https://api.aladhan.com/v1",p1="Bangladesh",i1=86400000,y1=1e4,w="ramadan-taqwim-db",m=1,W1="ramadan-taqwim-settings",V1=9;function d1(){try{let z=localStorage.getItem(W1);if(!z)return{...S1};let j=JSON.parse(z);return{...S1,...j}}catch{return{...S1}}}function r1(z){z.lastSaved=new Date().toISOString(),localStorage.setItem(W1,JSON.stringify(z))}function T(z,j,S,k,u){return`aladhan:${z}:${j}:${S}:${k}:${u}`}var A1=null;function Y1(){if(A1)return Promise.resolve(A1);return new Promise((z,j)=>{let S=indexedDB.open(w,m);S.onupgradeneeded=(k)=>{let u=S.result,q=k.oldVersion;if(!u.objectStoreNames.contains("monthTimings"))u.createObjectStore("monthTimings",{keyPath:"cacheKey"});else if(q>0)S.transaction?.objectStore("monthTimings").clear();if(!u.objectStoreNames.contains("duaFavorites"))u.createObjectStore("duaFavorites",{keyPath:"duaId"});if(!u.objectStoreNames.contains("quranProgress"))u.createObjectStore("quranProgress",{keyPath:"id"})},S.onsuccess=()=>{A1=S.result,z(A1)},S.onerror=()=>j(S.error)})}async function s1(z){try{let j=await Y1();return new Promise((S,k)=>{let $=j.transaction("monthTimings","readonly").objectStore("monthTimings").get(z);$.onsuccess=()=>S($.result||null),$.onerror=()=>k($.error)})}catch{return null}}async function o1(z){try{let j=await Y1();return new Promise((S,k)=>{let u=j.transaction("monthTimings","readwrite");u.objectStore("monthTimings").put(z),u.oncomplete=()=>S(),u.onerror=()=>k(u.error)})}catch{}}function t1(z){let j=new Date(z.fetchedAt).getTime();return Date.now()-j<i1}async function e1(){try{await Y1()}catch{console.warn("IndexedDB unavailable — using in-memory only")}}async function _1(z){let j=null;for(let S=0;S<2;S++){let k=new AbortController,u=setTimeout(()=>k.abort(),y1);try{let q=await fetch(z,{signal:k.signal});if(!q.ok)throw Error(`HTTP ${q.status}: ${q.statusText}`);return await q.json()}catch(q){if(j=q,q.name!=="AbortError"&&!q.message?.includes("fetch"))throw q;if(S===0)await new Promise(($)=>setTimeout($,1000))}finally{clearTimeout(u)}}throw j||Error("Fetch failed")}var cz=86400000,pz="Laylat al-Qadr",iz="Eid al-Fitr",yz={2026:{startGregorian:"19-02-2026",hijriYear:1447,dayCount:30}};function zz(z){let[j,S,k]=z.split("-").map(Number);return Math.floor(Date.UTC(k,S-1,j)/cz)}function dz(z){let[,,j]=z.split("-").map(Number);return yz[j]||null}function rz(z){let j=z.toLowerCase();return j.includes("lailat")||j.includes("laylat")||j.includes("qadr")}function sz(z){let j=z.toLowerCase();return j.includes("eid")||j.includes("fitr")}function oz(z){return rz(z)||sz(z)}function tz(z){let j=[],S=new Set;for(let k of z){let u=k.trim().toLowerCase();if(!S.has(u))S.add(u),j.push(k.trim())}return j}function ez(z,j,S){let k=z.filter((E)=>!oz(E)),u=[],q=j+1;if(q>=21&&q<=29&&q%2===1)u.push(pz);if(j===S.dayCount)u.push(iz);return tz([...u,...k])}function z2(z){let j=dz(z.dateGregorian);if(!j)return z;let S=zz(z.dateGregorian),k=zz(j.startGregorian),u=S-k,q=ez(z.holidays,u,j);if(u>=0&&u<j.dayCount){let $=u+1;return{...z,hijriMonth:V1,hijriDay:$,hijriYear:j.hijriYear,hijriDisplay:`${$} Ramaḍān ${j.hijriYear}`,isRamadan:!0,ramadanDay:$,holidays:q}}if(u===j.dayCount&&z.hijriMonth===10&&z.hijriDay>1){let $=z.hijriDay-1;return{...z,hijriDay:$,hijriYear:j.hijriYear,hijriDisplay:`${$} Shawwāl ${j.hijriYear}`,isRamadan:!1,ramadanDay:null,holidays:q}}if(u===-1&&z.hijriMonth===V1&&z.hijriDay===1)return{...z,hijriMonth:8,hijriDay:30,hijriYear:j.hijriYear,hijriDisplay:`30 Shaʿbān ${j.hijriYear}`,isRamadan:!1,ramadanDay:null,holidays:q};return{...z,holidays:q}}function k1(z){return z.map(z2)}function C(z){return z.replace(/\s*\(.*\)$/,"").trim()}function j2(z){let j=z.timings,S=z.date.hijri,k=z.date.gregorian,u=C(j.Fajr||""),q=[...S.holidays||[],...S.adjustedHolidays||[]],$={Fajr:u,Sunrise:C(j.Sunrise||""),Dhuhr:C(j.Dhuhr||""),Asr:C(j.Asr||""),Maghrib:C(j.Maghrib||""),Isha:C(j.Isha||""),SehriEnds:u,Iftar:C(j.Maghrib||"")};return{dateGregorian:k.date,dateReadable:z.date.readable,timestamp:parseInt(z.date.timestamp,10),weekday:k.weekday.en,hijriDisplay:`${S.day} ${S.month.en} ${S.year}`,hijriMonth:S.month.number,hijriDay:parseInt(S.day,10),hijriYear:parseInt(S.year,10),isRamadan:S.month.number===9,ramadanDay:S.month.number===9?parseInt(S.day,10):null,holidays:q,prayers:$}}function jz(z,j){let S=k1(z.map(j2));return{cacheKey:j,fetchedAt:new Date().toISOString(),days:S}}var u1=null;async function q1(){if(u1)return u1;let z=await _1(`${G1}/methods`);return u1=Object.values(z.data).filter((j)=>j.id!==99).map((j)=>({id:j.id,name:j.name})).sort((j,S)=>j.id-S.id),u1}async function Sz(z){let{city:j,year:S,month:k,methodId:u,school:q}=z,$=new URL(`${G1}/calendarByCity/${S}/${k}`);$.searchParams.set("city",j),$.searchParams.set("country",p1),$.searchParams.set("method",String(u)),$.searchParams.set("school",String(q));let E=await _1($.toString()),N=T(j.toLowerCase(),u,q,S,k);return jz(E.data,N)}function n(){let z=new Date,j=String(z.getDate()).padStart(2,"0"),S=String(z.getMonth()+1).padStart(2,"0"),k=z.getFullYear();return`${j}-${S}-${k}`}function I(){return new Date().getFullYear()}function B(){return new Date().getMonth()+1}function Az(z){return["","January","February","March","April","May","June","July","August","September","October","November","December"][z]||""}function kz(){return new Date().toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}function uz(z){let S=k1(z.days).map((k)=>({...k,prayers:{...k.prayers,SehriEnds:k.prayers.Fajr}}));return{...z,days:S}}async function r(z,j,S){let k=j??I(),u=S??B(),q=T(z.city,z.methodId,z.school,k,u),$=await s1(q);if($){let E=uz($);if(t1($))return{data:E,source:"fresh-cache"};return S2(z,k,u),{data:E,source:"stale-cache"}}return $1(z,k,u)}async function $1(z,j,S){try{let k=await Sz({city:z.cityDisplay,year:j,month:S,methodId:z.methodId,school:z.school}),u=uz(k);return await o1(u),{data:u,source:"network"}}catch(k){return{data:null,source:"error",error:k.message}}}function S2(z,j,S){$1(z,j,S).catch(()=>{})}async function qz(z){let j=I(),S=B(),k=await r(z,j,S),u=null;if(S===2)u=await r(z,j,3);else if(S===3)u=await r(z,j,2);return{current:k,other:u}}class $z{online=navigator.onLine;listeners=new Set;init(){window.addEventListener("online",()=>this.update(!0)),window.addEventListener("offline",()=>this.update(!1))}update(z){this.online=z,this.listeners.forEach((j)=>j(z))}isOnline(){return this.online}onChange(z){return this.listeners.add(z),()=>this.listeners.delete(z)}}var a=new $z;function A(z,j,...S){let k=document.createElement(z);if(j)for(let[u,q]of Object.entries(j))if(u==="className")k.className=q;else if(u==="textContent")k.textContent=q;else if(u==="innerHTML")k.innerHTML=q;else k.setAttribute(u,q);for(let u of S)if(typeof u==="string")k.appendChild(document.createTextNode(u));else k.appendChild(u);return k}function V(z,...j){z.innerHTML="";for(let S of j)z.appendChild(S)}var A2=[{route:"today",icon:"☪",label:"Today"},{route:"calendar",icon:"\uD83D\uDCC5",label:"Calendar"},{route:"duas",icon:"\uD83E\uDD32",label:"Duas"},{route:"quran",icon:"\uD83D\uDCD6",label:"Quran"},{route:"settings",icon:"⚙",label:"Settings"}];function Ez(){let z=A("nav",{className:"nav-bar",role:"navigation","aria-label":"Main navigation"});function j(){z.innerHTML="";let S=l.getCurrentRoute();for(let k of A2){let u=A("button",{className:`nav-tab${k.route===S?" active":""}`,"aria-label":k.label,"aria-current":k.route===S?"page":""}),q=A("span",{className:"nav-icon","aria-hidden":"true"},k.icon),$=A("span",null,k.label);u.appendChild(q),u.appendChild($),u.addEventListener("click",()=>l.navigate(k.route)),z.appendChild(u)}}return j(),l.onRouteChange(()=>j()),z}function Jz(){let z=A("div",{className:"offline-banner",role:"alert"},"You are offline — showing cached data");function j(S){z.classList.toggle("show",!S)}return j(a.isOnline()),a.onChange(j),z}var v=["Fajr","Sunrise","Dhuhr","Asr","Maghrib","Isha"];function L(z){let[j,S]=z.split(":").map(Number);return j*60+S}function s(z){if(z<=0)return"0m 0s";let j=Math.floor(z/1000),S=Math.floor(j/3600),k=Math.floor(j%3600/60),u=j%60;if(S>0)return`${S}h ${k}m ${u}s`;if(k>0)return`${k}m ${u}s`;return`${u}s`}function k2(z){let[j,S]=z.split(":").map(Number),k=j>=12?"PM":"AM";return`${j%12||12}:${String(S).padStart(2,"0")} ${k}`}function b(z,j){if(j==="12h")return k2(z);return z}function E1(z,j,S){let k=S??new Date,u=k.getHours()*60+k.getMinutes(),q=k.getHours()*3600000+k.getMinutes()*60000+k.getSeconds()*1000;for(let $ of v){let E=z.prayers[$],N=L(E);if(N>u){let O=N*60000-q,U=v.indexOf($)-1,H,Z;if(U>=0)H=z.prayers[v[U]],Z=L(H);else{H=j??z.prayers.Isha,Z=L(H);let W=u+(1440-Z),g=N+(1440-Z),z1=g>0?Math.min(1,Math.max(0,W/g)):0;return{name:$,time:E,prevTime:H,remainingMs:O,remainingDisplay:s(O),progress:z1}}let G=N-Z,F=u-Z,K=G>0?Math.min(1,Math.max(0,F/G)):0;return{name:$,time:E,prevTime:H,remainingMs:O,remainingDisplay:s(O),progress:K}}}return null}function Nz(z){let j=new Date,S=j.getHours()*60+j.getMinutes();return L(z)<=S}function Oz(z,j){return j?.name===z}function J1(z,j,S){if(!z.isRamadan)return null;let k=S??new Date,u=k.getHours()*3600000+k.getMinutes()*60000+k.getSeconds()*1000,q=z.prayers.SehriEnds,$=z.prayers.Iftar,E=L(q)*60000,N=L($)*60000;if(u<E){let J=E-u,O=j??z.prayers.Isha,U=L(O),H=L(q),Z=Math.floor(u/60000),G=H+(1440-U),F=Z+(1440-U),K=G>0?Math.min(1,Math.max(0,F/G)):0;return{label:"Sehri Ends In",targetTime:q,startTime:O,remainingMs:J,remainingDisplay:s(J),progress:K,type:"sehri"}}if(u<N){let J=N-u,O=N-E,U=u-E,H=O>0?Math.min(1,Math.max(0,U/O)):0;return{label:"Iftar In",targetTime:$,startTime:q,remainingMs:J,remainingDisplay:s(J),progress:H,type:"iftar"}}return null}function Uz(z){let j=A("div",{className:"hero-container"}),S=X.getState().settings.timeFormat,k=A("div",{className:"hero-card"});k.appendChild(A("div",{className:"hero-label"},"Sehri Ends")),k.appendChild(A("div",{className:"hero-time"},b(z.SehriEnds,S))),k.appendChild(A("div",{className:"hero-sublabel"},"(Fajr)"));let u=A("div",{className:"hero-card"});return u.appendChild(A("div",{className:"hero-label"},"Iftar")),u.appendChild(A("div",{className:"hero-time"},b(z.Iftar,S))),u.appendChild(A("div",{className:"hero-sublabel"},"(Maghrib)")),j.appendChild(k),j.appendChild(u),j}function I1(z,j,S){let k=A("section",{className:"countdown-hero","aria-live":"polite"}),u=X.getState().settings.timeFormat,q=S==="iftar"&&z,$=S==="next-prayer"&&j;if(q&&z){k.classList.add(z.type);let E=z.type==="sehri"?"\uD83C\uDF19":"\uD83C\uDF05",N=A("div",{className:"hero-cd-label"});N.innerHTML=`${E} <span class="hero-cd-type">${z.label}</span>`,k.appendChild(N),k.appendChild(A("div",{className:"hero-cd-time"},z.remainingDisplay)),k.appendChild(A("div",{className:"hero-cd-starts-at"},`Ends at ${b(z.targetTime,u)}`));let J=A("div",{className:"hero-cd-bar-wrap"}),O=A("div",{className:"hero-cd-bar"}),U=A("div",{className:`hero-cd-bar-fill ${z.type}`});U.style.width=`${Math.round(z.progress*100)}%`,O.appendChild(U),J.appendChild(O);let H=A("div",{className:"hero-cd-bar-labels"});H.appendChild(A("span",null,b(z.startTime,u))),H.appendChild(A("span",null,b(z.targetTime,u))),J.appendChild(H),k.appendChild(J)}else if($&&j){k.classList.add("next-prayer");let E=A("div",{className:"hero-cd-label"});E.innerHTML=`\uD83D\uDD4C <span class="hero-cd-type">Next: ${j.name}</span>`,k.appendChild(E),k.appendChild(A("div",{className:"hero-cd-time"},j.remainingDisplay)),k.appendChild(A("div",{className:"hero-cd-starts-at"},`Starts at ${b(j.time,u)}`));let N=A("div",{className:"hero-cd-bar-wrap"}),J=A("div",{className:"hero-cd-bar"}),O=A("div",{className:"hero-cd-bar-fill gold"});O.style.width=`${Math.round(j.progress*100)}%`,J.appendChild(O),N.appendChild(J);let U=A("div",{className:"hero-cd-bar-labels"});U.appendChild(A("span",null,b(j.prevTime,u))),U.appendChild(A("span",null,b(j.time,u))),N.appendChild(U),k.appendChild(N)}else if(z){k.classList.add(z.type);let E=z.type==="sehri"?"\uD83C\uDF19":"\uD83C\uDF05";k.appendChild(A("div",{className:"hero-cd-label"},`${E} ${z.label}`)),k.appendChild(A("div",{className:"hero-cd-time"},z.remainingDisplay))}else if(j)k.classList.add("next-prayer"),k.appendChild(A("div",{className:"hero-cd-label"},`\uD83D\uDD4C Next: ${j.name}`)),k.appendChild(A("div",{className:"hero-cd-time"},j.remainingDisplay));else k.appendChild(A("div",{className:"hero-cd-label"},"All prayers completed for today"));if(z&&j){let E=A("div",{className:"hero-cd-toggle"}),N=A("button",{className:`toggle-pill${S==="iftar"?" active":""}`},"Iftar"),J=A("button",{className:`toggle-pill${S==="next-prayer"?" active":""}`},"Next Prayer");E.appendChild(N),E.appendChild(J),k.appendChild(E)}return k}function Zz(z,j,S,k){let u=X.getState().settings.timeFormat;if(k==="iftar"&&j){z.className=`countdown-hero ${j.type}`;let q=z.querySelector(".hero-cd-type");if(q)q.textContent=j.label;let $=z.querySelector(".hero-cd-time");if($)$.textContent=j.remainingDisplay;let E=z.querySelector(".hero-cd-starts-at");if(E)E.textContent=`Ends at ${b(j.targetTime,u)}`;let N=z.querySelector(".hero-cd-bar-fill");if(N)N.style.width=`${Math.round(j.progress*100)}%`,N.className=`hero-cd-bar-fill ${j.type}`;let J=z.querySelectorAll(".hero-cd-bar-labels span");if(J.length===2)J[0].textContent=b(j.startTime,u),J[1].textContent=b(j.targetTime,u)}else if(k==="next-prayer"&&S){z.className="countdown-hero next-prayer";let q=z.querySelector(".hero-cd-type");if(q)q.textContent=`Next: ${S.name}`;let $=z.querySelector(".hero-cd-time");if($)$.textContent=S.remainingDisplay;let E=z.querySelector(".hero-cd-starts-at");if(E)E.textContent=`Starts at ${b(S.time,u)}`;let N=z.querySelector(".hero-cd-bar-fill");if(N)N.style.width=`${Math.round(S.progress*100)}%`,N.className="hero-cd-bar-fill gold";let J=z.querySelectorAll(".hero-cd-bar-labels span");if(J.length===2)J[0].textContent=b(S.prevTime,u),J[1].textContent=b(S.time,u)}else if(!j&&!S){let q=z.querySelector(".hero-cd-time");if(q)q.textContent="";let $=z.querySelector(".hero-cd-label");if($)$.textContent="All prayers completed for today"}}function B1(z,j){let S=A("div",{className:"prayer-list"}),k=X.getState().settings.timeFormat;for(let u of v){let q=z.prayers[u],$=Nz(q),E=Oz(u,j),N=A("div",{className:`prayer-card${$&&!E?" past":""}${E?" now":""}`}),J=A("div",{className:"prayer-left"});if($&&!E)J.appendChild(A("span",{className:"prayer-done-icon"},"✓"));if(J.appendChild(A("span",{className:"prayer-name"},u)),E)J.appendChild(A("span",{className:"prayer-now-badge"},"Now"));let O=A("span",{className:"prayer-time"},b(q,k));N.appendChild(J),N.appendChild(O),S.appendChild(N)}return S}function Xz(z){let j=z.school===1?"Hanafi":"Shafi",S=`${z.cityDisplay} · ${z.methodName.split(",")[0]} · ${j}`;return A("div",{className:"transparency-footer"},S)}function o(){let z=A("div",null);z.appendChild(A("div",{className:"skeleton skeleton-line short",style:"height: 24px;"})),z.appendChild(A("div",{className:"skeleton skeleton-line",style:"height: 16px; width: 50%; margin-top: 8px;"}));let j=A("div",{className:"skeleton-hero"});j.appendChild(A("div",{className:"skeleton"})),j.appendChild(A("div",{className:"skeleton"})),z.appendChild(j),z.appendChild(A("div",{className:"skeleton skeleton-card",style:"height: 80px; margin-bottom: 16px;"}));for(let S=0;S<6;S++)z.appendChild(A("div",{className:"skeleton skeleton-card"}));return z}var M=null,c="iftar";function p(z){let j=X.getState(),[S,k,u]=z.dateGregorian.split("-").map(Number),q=new Date(u,k-1,S-1),$=`${String(q.getDate()).padStart(2,"0")}-${String(q.getMonth()+1).padStart(2,"0")}-${q.getFullYear()}`;for(let E of[j.currentMonthData,j.otherMonthData]){if(!E)continue;let N=E.days.find((J)=>J.dateGregorian===$);if(N)return N.prayers.Isha}return}function l1(z){let j=X.getState();if(M)clearInterval(M),M=null;if(j.isLoading&&!j.todayData){V(z,o());return}if(j.error&&!j.todayData){let U=A("div",{className:"error-state"});U.appendChild(A("div",{className:"error-icon"},"⚠")),U.appendChild(A("div",{className:"error-message"},j.error));let H=A("button",{className:"btn-retry"},"Try Again");H.addEventListener("click",()=>{window.location.reload()}),U.appendChild(H),V(z,U);return}let S=j.todayData;if(!S){V(z,o());return}let k=j.settings,u=document.createDocumentFragment(),q=A("header",{className:"page-header"});q.appendChild(A("div",{className:"app-name"},`☪ ${c1}`)),q.appendChild(A("div",{className:"hijri-date"},S.hijriDisplay)),q.appendChild(A("div",{className:"greg-date"},kz())),u.appendChild(q),u.appendChild(Uz(S.prayers));let $=J1(S,p(S)),E=E1(S,p(S));if(!$)c="next-prayer";let N=I1($,E,c);if(N.querySelectorAll(".toggle-pill").forEach((U)=>{U.addEventListener("click",()=>{c=U.textContent==="Iftar"?"iftar":"next-prayer";let H=I1(J1(S,p(S)),E1(S,p(S)),c);H.querySelectorAll(".toggle-pill").forEach((Z)=>{Z.addEventListener("click",()=>{c=Z.textContent==="Iftar"?"iftar":"next-prayer",l1(z)})}),N.replaceWith(H)})}),u.appendChild(N),u.appendChild(B1(S,E)),S.isRamadan&&S.ramadanDay){let U=A("div",{className:"ramadan-counter"});U.innerHTML=`Day <strong>${S.ramadanDay}</strong> of Ramaḍān`,u.appendChild(U)}else if(S.isRamadan){let U=A("div",{className:"ramadan-counter"});U.innerHTML=`Day <strong>${S.hijriDay}</strong> of Ramaḍān`,u.appendChild(U)}u.appendChild(Xz(k)),V(z,u);let O=z.querySelector(".countdown-hero");M=window.setInterval(()=>{let U=J1(S,p(S)),H=E1(S,p(S));if(O)Zz(O,U,H,c);if(H?.name!==E?.name){let Z=z.querySelector(".prayer-list");if(Z){let G=B1(S,H);Z.replaceWith(G)}}},1000)}function Hz(){if(M)clearInterval(M),M=null}function Qz(){let z=X.getState(),j=n();if(z.currentMonthData){let S=z.currentMonthData.days.find((k)=>k.dateGregorian===j);if(S)return S}if(z.otherMonthData){let S=z.otherMonthData.days.find((k)=>k.dateGregorian===j);if(S)return S}return null}var u2="Laylat al-Qadr",q2="Eid al-Fitr";function Fz(z){let j=z.dateGregorian===n(),S=z.isRamadan,k=z.holidays.includes(u2),u=z.holidays.includes(q2),q=X.getState().settings.timeFormat,$="day-row";if(j)$+=" today";if(!S)$+=" non-ramadan";if(u)$+=" eid-day";let E=A("div",{className:$,id:j?"today-row":void 0}),N=A("div",{className:"day-row-header"});N.appendChild(A("span",{className:"day-row-date"},`${z.dateReadable} · ${z.weekday}`)),N.appendChild(A("span",{className:"day-row-hijri"},z.hijriDisplay)),E.appendChild(N);let J=A("div",{className:"day-row-times"}),O=A("span",{className:"day-row-iftar"});O.innerHTML=`Iftar <strong>${b(z.prayers.Iftar,q)}</strong>`;let U=A("span",{className:"day-row-sehri"});if(U.innerHTML=`Sehri ends <strong>${b(z.prayers.SehriEnds,q)}</strong>`,J.appendChild(O),J.appendChild(U),E.appendChild(J),z.isRamadan&&z.ramadanDay)E.appendChild(A("span",{className:"day-row-ramadan-day"},`Day ${z.ramadanDay} of Ramaḍān`));if(j)E.appendChild(A("span",{className:"day-badge today-badge"},"TODAY"));if(k)E.appendChild(A("span",{className:"day-badge holiday-badge"},"⭐ Laylat al-Qadr"));if(u)E.appendChild(A("span",{className:"day-badge eid-badge"},"\uD83C\uDF89 Eid al-Fitr"));return E}var $2="Eid al-Fitr";function bz(z,j){let S=A("div",{className:"calendar-grid"}),k=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];for(let O of k)S.appendChild(A("div",{className:"cal-grid-header"},O));if(z.length===0)return S;let u=z[0],[q,$,E]=u.dateGregorian.split("-").map(Number),N=new Date(E,$-1,q).getDay();for(let O=0;O<N;O++)S.appendChild(A("div",{className:"cal-grid-spacer"}));let J=n();for(let O of z){let U=parseInt(O.dateGregorian.split("-")[0],10),H=O.dateGregorian===J,Z=O.isRamadan,G=O.holidays.length>0,F=O.holidays.includes($2),K="cal-grid-cell";if(H)K+=" today";if(!Z)K+=" non-ramadan";if(G)K+=" holiday";if(F)K+=" eid-day";let W=A("button",{className:K,"aria-label":O.dateReadable});if(W.appendChild(A("span",{className:"cal-grid-day"},String(U))),O.isRamadan&&O.ramadanDay)W.appendChild(A("span",{className:"cal-grid-ramadan"},`R${O.ramadanDay}`));W.addEventListener("click",()=>j(O)),S.appendChild(W)}return S}var L1="Laylat al-Qadr",R1="Eid al-Fitr";function E2(z){let j=z.includes(L1),S=z.includes(R1),k=z.filter((q)=>q!==L1&&q!==R1),u=[];if(j)u.push(L1);if(S)u.push(R1);return u.push(...k),u}function Kz(z){g1();let j=X.getState().settings.timeFormat,S=A("div",{className:"sheet-backdrop"});S.addEventListener("click",g1);let k=A("div",{className:"day-details-sheet"});k.appendChild(A("div",{className:"sheet-handle"}));let u=A("div",{className:"sheet-header"});if(u.appendChild(A("div",{className:"sheet-title"},z.dateReadable)),u.appendChild(A("div",{className:"sheet-subtitle"},`${z.weekday} · ${z.hijriDisplay}`)),z.isRamadan&&z.ramadanDay)u.appendChild(A("div",{className:"sheet-ramadan-day"},`Day ${z.ramadanDay} of Ramaḍān`));if(k.appendChild(u),z.isRamadan){let E=A("div",{className:"sheet-hero"}),N=A("div",{className:"sheet-hero-card"});N.appendChild(A("div",{className:"sheet-hero-label"},"Sehri ends")),N.appendChild(A("div",{className:"sheet-hero-time"},b(z.prayers.SehriEnds,j))),E.appendChild(N);let J=A("div",{className:"sheet-hero-card iftar"});J.appendChild(A("div",{className:"sheet-hero-label"},"Iftar")),J.appendChild(A("div",{className:"sheet-hero-time"},b(z.prayers.Iftar,j))),E.appendChild(J),k.appendChild(E)}let q=A("div",{className:"sheet-prayer-list"});for(let E of v){let N=z.prayers[E],J=A("div",{className:"sheet-prayer-row"});J.appendChild(A("span",{className:"sheet-prayer-name"},E)),J.appendChild(A("span",{className:"sheet-prayer-time"},b(N,j))),q.appendChild(J)}if(k.appendChild(q),z.holidays.length>0){let E=A("div",{className:"sheet-holidays"});for(let N of E2(z.holidays))E.appendChild(A("span",{className:"sheet-holiday-badge"},N));k.appendChild(E)}let $=A("button",{className:"sheet-close-btn"},"Close");$.addEventListener("click",g1),k.appendChild($),document.body.appendChild(S),document.body.appendChild(k),requestAnimationFrame(()=>{S.classList.add("show"),k.classList.add("show")})}function g1(){let z=document.querySelector(".sheet-backdrop"),j=document.querySelector(".day-details-sheet");if(z)z.classList.remove("show"),setTimeout(()=>z.remove(),300);if(j)j.classList.remove("show"),setTimeout(()=>j.remove(),300)}var R=I(),Y=B(),Wz="ramadan-bd-calendar-view";function J2(z){return z==="list"||z==="grid"?z:"grid"}function N2(){try{return J2(localStorage.getItem(Wz))}catch{return"grid"}}function xz(z){try{localStorage.setItem(Wz,z)}catch{}}var D=N2();function P(z){let j=X.getState(),S=document.createDocumentFragment(),k=A("div",{className:"calendar-title-row"});k.appendChild(A("h1",{className:"page-title"},"Calendar"));let u=A("div",{className:"view-toggle"}),q=A("button",{className:`toggle-pill${D==="list"?" active":""}`,"aria-label":"List view"},"☰ List"),$=A("button",{className:`toggle-pill${D==="grid"?" active":""}`,"aria-label":"Grid view"},"▦ Grid");q.addEventListener("click",()=>{D="list",xz(D),P(z)}),$.addEventListener("click",()=>{D="grid",xz(D),P(z)}),u.appendChild(q),u.appendChild($),k.appendChild(u),S.appendChild(k);let E=A("div",{className:"month-nav"}),N=A("button",{className:"month-nav-btn","aria-label":"Previous month"},"◀");N.addEventListener("click",()=>Gz(-1,z));let J=A("span",{className:"month-nav-title"},`${Az(Y)} ${R}`),O=A("button",{className:"month-nav-btn","aria-label":"Next month"},"▶");O.addEventListener("click",()=>Gz(1,z)),E.appendChild(N),E.appendChild(J),E.appendChild(O),S.appendChild(E);let U=R===I()&&Y===B();if(!U){let Z=A("div",{className:"calendar-actions"}),G=A("button",{className:"calendar-action-btn"},"\uD83D\uDCCD Jump to today");G.addEventListener("click",()=>{R=I(),Y=B(),P(z),requestAnimationFrame(()=>{let K=z.querySelector("#today-row");if(K)K.scrollIntoView({behavior:"smooth",block:"center"})})});let F=A("button",{className:"calendar-action-btn"},"\uD83D\uDCC5 This month");F.addEventListener("click",()=>{R=I(),Y=B(),P(z)}),Z.appendChild(G),Z.appendChild(F),S.appendChild(Z)}let H=O2();if(!H){if(j.isLoading)S.appendChild(o());else{let Z=A("div",{className:"error-state"});Z.appendChild(A("div",{className:"error-message"},"Loading calendar data...")),S.appendChild(Z),U2(z)}V(z,S);return}if(D==="grid")S.appendChild(bz(H.days,(Z)=>{Kz(Z)}));else for(let Z of H.days)S.appendChild(Fz(Z));if(V(z,S),U&&D==="list")requestAnimationFrame(()=>{let Z=z.querySelector("#today-row");if(Z)Z.scrollIntoView({behavior:"smooth",block:"center"})})}function O2(){let z=X.getState();if(z.currentMonthData){let j=z.currentMonthData.days[0];if(j){let[,S,k]=j.dateGregorian.split("-").map(Number);if(S===Y&&k===R)return z.currentMonthData}}if(z.otherMonthData){let j=z.otherMonthData.days[0];if(j){let[,S,k]=j.dateGregorian.split("-").map(Number);if(S===Y&&k===R)return z.otherMonthData}}return null}async function U2(z){let j=X.getState().settings;X.setState({isLoading:!0});let S=await r(j,R,Y);if(S.data)X.setState({otherMonthData:S.data,isLoading:!1});else X.setState({isLoading:!1,error:S.error||"Failed to load calendar"});P(z)}function Gz(z,j){if(Y+=z,Y>12)Y=1,R++;if(Y<1)Y=12,R--;P(j)}var a1=[{name:"Dhaka",normalized:"dhaka"},{name:"Chittagong",normalized:"chittagong"},{name:"Khulna",normalized:"khulna"},{name:"Rajshahi",normalized:"rajshahi"},{name:"Sylhet",normalized:"sylhet"},{name:"Rangpur",normalized:"rangpur"},{name:"Barisal",normalized:"barisal"},{name:"Mymensingh",normalized:"mymensingh"},{name:"Comilla",normalized:"comilla"},{name:"Gazipur",normalized:"gazipur"},{name:"Narayanganj",normalized:"narayanganj"},{name:"Cox's Bazar",normalized:"coxs bazar"},{name:"Jessore",normalized:"jessore"},{name:"Bogra",normalized:"bogra"},{name:"Dinajpur",normalized:"dinajpur"},{name:"Tangail",normalized:"tangail"},{name:"Noakhali",normalized:"noakhali"},{name:"Brahmanbaria",normalized:"brahmanbaria"},{name:"Narsingdi",normalized:"narsingdi"},{name:"Faridpur",normalized:"faridpur"},{name:"Pabna",normalized:"pabna"},{name:"Jamalpur",normalized:"jamalpur"},{name:"Kushtia",normalized:"kushtia"},{name:"Habiganj",normalized:"habiganj"},{name:"Moulvibazar",normalized:"moulvibazar"},{name:"Sunamganj",normalized:"sunamganj"},{name:"Netrokona",normalized:"netrokona"},{name:"Sherpur",normalized:"sherpur"},{name:"Kishoreganj",normalized:"kishoreganj"},{name:"Manikganj",normalized:"manikganj"},{name:"Munshiganj",normalized:"munshiganj"},{name:"Madaripur",normalized:"madaripur"},{name:"Gopalganj",normalized:"gopalganj"},{name:"Shariatpur",normalized:"shariatpur"},{name:"Rajbari",normalized:"rajbari"},{name:"Satkhira",normalized:"satkhira"},{name:"Bagerhat",normalized:"bagerhat"},{name:"Narail",normalized:"narail"},{name:"Magura",normalized:"magura"},{name:"Jhenaidah",normalized:"jhenaidah"},{name:"Meherpur",normalized:"meherpur"},{name:"Chuadanga",normalized:"chuadanga"},{name:"Kurigram",normalized:"kurigram"},{name:"Lalmonirhat",normalized:"lalmonirhat"},{name:"Nilphamari",normalized:"nilphamari"},{name:"Gaibandha",normalized:"gaibandha"},{name:"Thakurgaon",normalized:"thakurgaon"},{name:"Panchagarh",normalized:"panchagarh"},{name:"Joypurhat",normalized:"joypurhat"},{name:"Naogaon",normalized:"naogaon"},{name:"Natore",normalized:"natore"},{name:"Nawabganj",normalized:"nawabganj"},{name:"Sirajganj",normalized:"sirajganj"},{name:"Pirojpur",normalized:"pirojpur"},{name:"Jhalokati",normalized:"jhalokati"},{name:"Barguna",normalized:"barguna"},{name:"Patuakhali",normalized:"patuakhali"},{name:"Bhola",normalized:"bhola"},{name:"Feni",normalized:"feni"},{name:"Lakshmipur",normalized:"lakshmipur"},{name:"Chandpur",normalized:"chandpur"},{name:"Bandarban",normalized:"bandarban"},{name:"Rangamati",normalized:"rangamati"},{name:"Khagrachari",normalized:"khagrachari"}];var Vz=[1,3,5,2];async function Yz(z){let j=X.getState(),S={...j.settings};if(!S.timeFormat)S.timeFormat="12h";if(!S.theme)S.theme="dark";let k=j.methods;if(!k)try{k=await q1(),X.setState({methods:k})}catch{k=[{id:1,name:"University of Islamic Sciences, Karachi"},{id:3,name:"Muslim World League"},{id:5,name:"Egyptian General Authority of Survey"},{id:2,name:"Islamic Society of North America (ISNA)"}]}let u=document.createDocumentFragment();u.appendChild(A("h1",{className:"page-title"},"Settings"));let q=A("div",{className:"settings-form"}),$=A("div",{className:"form-group"});$.appendChild(A("label",{className:"form-label"},"City"));let E=A("select",{className:"form-select","aria-label":"Select city"});for(let Q of a1){let x=A("option",{value:Q.name});if(x.textContent=Q.name,Q.normalized===S.city)x.selected=!0;E.appendChild(x)}E.addEventListener("change",()=>{let Q=a1.find((x)=>x.name===E.value);if(Q)S.city=Q.normalized,S.cityDisplay=Q.name}),$.appendChild(E),q.appendChild($);let N=A("div",{className:"form-group"});N.appendChild(A("label",{className:"form-label"},"Calculation Method"));let J=A("select",{className:"form-select","aria-label":"Select calculation method"}),O=k.filter((Q)=>Vz.includes(Q.id)),U=k.filter((Q)=>!Vz.includes(Q.id));for(let Q of O){let x=A("option",{value:String(Q.id)});if(x.textContent=Q.id===1?`★ ${Q.name} (Recommended)`:Q.name,Q.id===S.methodId)x.selected=!0;J.appendChild(x)}if(U.length>0){let Q=A("optgroup",{label:"Other methods"});for(let x of U){let _=A("option",{value:String(x.id)});if(_.textContent=x.name,x.id===S.methodId)_.selected=!0;Q.appendChild(_)}J.appendChild(Q)}J.addEventListener("change",()=>{let Q=parseInt(J.value),x=k.find((_)=>_.id===Q);if(x)S.methodId=Q,S.methodName=x.name}),N.appendChild(J),N.appendChild(A("div",{className:"form-hint"},"★ Recommended for Bangladesh")),q.appendChild(N);let H=A("div",{className:"form-group"});H.appendChild(A("label",{className:"form-label"},"Asr Calculation"));let Z=A("div",{className:"radio-group"}),G=A("label",{className:"radio-option"}),F=A("input",{type:"radio",name:"school",value:"1"});if(S.school===1)F.checked=!0;F.addEventListener("change",()=>{S.school=1}),G.appendChild(F),G.appendChild(document.createTextNode(" Hanafi (recommended)")),Z.appendChild(G);let K=A("label",{className:"radio-option"}),W=A("input",{type:"radio",name:"school",value:"0"});if(S.school===0)W.checked=!0;W.addEventListener("change",()=>{S.school=0}),K.appendChild(W),K.appendChild(document.createTextNode(" Shafi")),Z.appendChild(K),H.appendChild(Z),q.appendChild(H);let g=A("div",{className:"form-group"});g.appendChild(A("label",{className:"form-label"},"Theme"));let z1=A("div",{className:"radio-group"});for(let Q of["dark","light","system"]){let x=A("label",{className:"radio-option"}),_=A("input",{type:"radio",name:"theme",value:Q});if(S.theme===Q)_.checked=!0;_.addEventListener("change",()=>{S.theme=Q}),x.appendChild(_),x.appendChild(document.createTextNode(` ${Q.charAt(0).toUpperCase()+Q.slice(1)}`)),z1.appendChild(x)}g.appendChild(z1),q.appendChild(g);let Z1=A("div",{className:"form-group"});Z1.appendChild(A("label",{className:"form-label"},"Time Format"));let X1=A("div",{className:"radio-group radio-group-row"}),H1=A("label",{className:"radio-option"}),Q1=A("input",{type:"radio",name:"timeFormat",value:"12h"});if(S.timeFormat==="12h")Q1.checked=!0;Q1.addEventListener("change",()=>{S.timeFormat="12h"}),H1.appendChild(Q1),H1.appendChild(document.createTextNode(" 12-hour (4:52 AM)")),X1.appendChild(H1);let F1=A("label",{className:"radio-option"}),b1=A("input",{type:"radio",name:"timeFormat",value:"24h"});if(S.timeFormat==="24h")b1.checked=!0;b1.addEventListener("change",()=>{S.timeFormat="24h"}),F1.appendChild(b1),F1.appendChild(document.createTextNode(" 24-hour (04:52)")),X1.appendChild(F1),Z1.appendChild(X1),q.appendChild(Z1);let h=A("button",{className:"btn-save"},"\uD83D\uDCBE Save Settings");if(!a.isOnline())h.disabled=!0,h.title="Connect to update";h.addEventListener("click",async()=>{h.disabled=!0,h.textContent="Saving...",X2(S.theme),r1(S);let Q=I(),x=B(),_=T(j.settings.city,j.settings.methodId,j.settings.school,Q,x),vz=T(S.city,S.methodId,S.school,Q,x);if(_!==vz){let j1=await $1(S,Q,x);if(j1.data)X.setState({settings:S,currentMonthData:j1.data,todayData:j1.data.days.find((Dz)=>{let K1=new Date,Pz=String(K1.getDate()).padStart(2,"0"),Tz=String(K1.getMonth()+1).padStart(2,"0");return Dz.dateGregorian===`${Pz}-${Tz}-${K1.getFullYear()}`})||null});else X.setState({settings:S,error:j1.error||null})}else X.setState({settings:S});H2("Settings saved"),l.navigate("today")}),q.appendChild(h),u.appendChild(q);let C1=A("div",{className:"settings-footer"});C1.innerHTML=`
    Data provided by <a href="https://aladhan.com" target="_blank" rel="noopener">AlAdhan.com</a><br>
    App version 1.1.0
  `,u.appendChild(C1),V(z,u)}function X2(z){if(z==="system"){let j=window.matchMedia("(prefers-color-scheme: dark)").matches;document.documentElement.setAttribute("data-theme",j?"dark":"light")}else document.documentElement.setAttribute("data-theme",z)}function H2(z){let j=document.querySelector(".toast");if(!j)j=A("div",{className:"toast"}),document.body.appendChild(j);j.textContent=z,j.classList.add("show"),setTimeout(()=>j.classList.remove("show"),2000)}var N1=null;function _z(){if(N1)return Promise.resolve(N1);return new Promise((z,j)=>{let S=indexedDB.open(w,m);S.onsuccess=()=>{N1=S.result,z(N1)},S.onerror=()=>j(S.error)})}async function v1(){try{let z=await _z();return new Promise((j,S)=>{let q=z.transaction("duaFavorites","readonly").objectStore("duaFavorites").getAll();q.onsuccess=()=>{let $=(q.result||[]).map((E)=>E.duaId);j(new Set($))},q.onerror=()=>S(q.error)})}catch{return new Set}}async function Iz(z){try{let j=await _z(),k=(await v1()).has(z);return new Promise((u,q)=>{let $=j.transaction("duaFavorites","readwrite"),E=$.objectStore("duaFavorites");if(k)E.delete(z);else E.put({duaId:z});$.oncomplete=()=>u(!k),$.onerror=()=>q($.error)})}catch{return!1}}function O1(z){let j=document.querySelector(".toast");if(!j)j=A("div",{className:"toast"}),document.body.appendChild(j);j.textContent=z,j.classList.add("show"),setTimeout(()=>j.classList.remove("show"),2000)}function Bz(z,j,S){let k=A("div",{className:"dua-card"}),u=A("div",{className:"dua-card-header"});u.appendChild(A("span",{className:"dua-card-title"},z.titleEn)),k.appendChild(u),k.appendChild(A("div",{className:"dua-arabic",lang:"ar",dir:"rtl"},z.arabicText)),k.appendChild(A("div",{className:"dua-transliteration"},z.transliteration)),k.appendChild(A("div",{className:"dua-translation"},z.translationEn)),k.appendChild(A("div",{className:"dua-source"},`\uD83D\uDCD6 ${z.source}`));let q=A("div",{className:"dua-actions"}),$=A("button",{className:"dua-action-btn","aria-label":"Copy Arabic"},"\uD83D\uDCCB Arabic");$.addEventListener("click",async()=>{try{await navigator.clipboard.writeText(z.arabicText),O1("Arabic text copied")}catch{O1("Copy failed")}});let E=A("button",{className:"dua-action-btn","aria-label":"Copy Translation"},"\uD83D\uDCCB English");E.addEventListener("click",async()=>{try{await navigator.clipboard.writeText(z.translationEn),O1("Translation copied")}catch{O1("Copy failed")}});let N=A("button",{className:`dua-fav-btn${j?" active":""}`,"aria-label":j?"Remove from favorites":"Add to favorites"},j?"♥":"♡");return N.addEventListener("click",()=>S(z.id)),q.appendChild($),q.appendChild(E),q.appendChild(N),k.appendChild(q),k}var lz=[{id:"iftar-1",titleEn:"Dua for Breaking Fast",arabicText:"اللَّهُمَّ إِنِّي لَكَ صُمْتُ وَبِكَ آمَنْتُ وَعَلَى رِزْقِكَ أَفْطَرْتُ",transliteration:"Allahumma inni laka sumtu wa bika aamantu wa 'ala rizqika aftartu",translationEn:"O Allah! I fasted for You and I believe in You and I break my fast with Your sustenance.",category:"iftar",source:"Abu Dawud 2358"},{id:"iftar-2",titleEn:"Dua When Breaking Fast",arabicText:"ذَهَبَ الظَّمَأُ وَابْتَلَّتِ الْعُرُوقُ وَثَبَتَ الْأَجْرُ إِنْ شَاءَ اللَّهُ",transliteration:"Dhahaba al-zama'u wabtallatil-'urooqu wa thabatal-ajru inshaa'Allah",translationEn:"The thirst has gone, the veins are moistened, and the reward is confirmed, if Allah wills.",category:"iftar",source:"Abu Dawud 2357"},{id:"sehri-1",titleEn:"Intention for Fasting (Niyyah)",arabicText:"وَبِصَوْمِ غَدٍ نَوَيْتُ مِنْ شَهْرِ رَمَضَانَ",transliteration:"Wa bisawmi ghadin nawaytu min shahri ramadan",translationEn:"I intend to keep the fast for tomorrow in the month of Ramadan.",category:"sehri",source:"Abu Dawud 2454"},{id:"sehri-2",titleEn:"Dua Before Eating Sehri",arabicText:"بِسْمِ اللَّهِ وَعَلَى بَرَكَةِ اللَّهِ",transliteration:"Bismillahi wa 'ala barakatillah",translationEn:"In the name of Allah and with the blessings of Allah.",category:"sehri",source:"General practice"},{id:"general-1",titleEn:"Dua for Forgiveness",arabicText:"رَبَّنَا اغْفِرْ لِي وَلِوَالِدَيَّ وَلِلْمُؤْمِنِينَ يَوْمَ يَقُومُ الْحِسَابُ",transliteration:"Rabbana-ghfir li wa li-walidayya wa lil-mu'mineena yawma yaqoomul-hisaab",translationEn:"Our Lord, forgive me and my parents and the believers the Day the account is established.",category:"general",source:"Quran 14:41"},{id:"general-2",titleEn:"Dua for Mercy",arabicText:"رَبِّ اغْفِرْ وَارْحَمْ وَأَنْتَ خَيْرُ الرَّاحِمِينَ",transliteration:"Rabbighfir warham wa anta khairur-raahimeen",translationEn:"My Lord, forgive and have mercy, and You are the best of the merciful.",category:"general",source:"Quran 23:118"},{id:"general-3",titleEn:"Dua of the Fasting Person",arabicText:"إِنَّ لِلصَّائِمِ عِنْدَ فِطْرِهِ لَدَعْوَةً مَا تُرَدُّ",transliteration:"Inna lis-saa'imi 'inda futrihi lada'watan maa turaddu",translationEn:"The fasting person has a supplication at the time of breaking fast that is not rejected.",category:"general",source:"Ibn Majah 1753"},{id:"general-4",titleEn:"Dua for Guidance",arabicText:"اللَّهُمَّ إِنِّي أَسْأَلُكَ الْهُدَى وَالتُّقَى وَالْعَفَافَ وَالْغِنَى",transliteration:"Allahumma inni as'alukal-huda wat-tuqa wal-'afaafa wal-ghina",translationEn:"O Allah, I ask You for guidance, piety, chastity and self-sufficiency.",category:"general",source:"Muslim 2721"},{id:"qadr-1",titleEn:"Dua for Laylat al-Qadr",arabicText:"اللَّهُمَّ إِنَّكَ عَفُوٌّ تُحِبُّ الْعَفْوَ فَاعْفُ عَنِّي",transliteration:"Allahumma innaka 'afuwwun tuhibbul-'afwa fa'fu 'anni",translationEn:"O Allah, You are Pardoning and You love to pardon, so pardon me.",category:"laylatul-qadr",source:"Tirmidhi 3513"},{id:"qadr-2",titleEn:"Seeking the Night of Power",arabicText:"اللَّهُمَّ إِنِّي أَسْأَلُكَ مِنْ فَضْلِكَ وَرَحْمَتِكَ فَإِنَّهُ لَا يَمْلِكُهَا إِلَّا أَنْتَ",transliteration:"Allahumma inni as'aluka min fadlika wa rahmatika fa innahu laa yamlikuhaa illaa anta",translationEn:"O Allah, I ask You from Your bounty and mercy, for none possesses them except You.",category:"laylatul-qadr",source:"Al-Tabarani"}];var F2=[{id:"sehri",label:"Sehri"},{id:"iftar",label:"Iftar"},{id:"general",label:"General"},{id:"laylatul-qadr",label:"Laylat al-Qadr"},{id:"favorites",label:"♥ Favorites"}],f="iftar",i="";async function t(z){let j=await v1(),S=document.createDocumentFragment();S.appendChild(A("h1",{className:"page-title"},"Duas"));let k=A("div",{className:"dua-search-wrap"}),u=A("input",{className:"dua-search",type:"text",placeholder:"\uD83D\uDD0D Search duas...",value:i});u.addEventListener("input",()=>{i=u.value,t(z)}),k.appendChild(u),S.appendChild(k);let q=A("div",{className:"category-tabs-wrap"}),$=A("div",{className:"category-tabs",role:"tablist"});for(let J of F2){let O=A("button",{className:`category-tab${J.id===f?" active":""}`,role:"tab","aria-selected":J.id===f?"true":"false"},J.label);O.addEventListener("click",()=>{f=J.id,t(z)}),$.appendChild(O)}q.appendChild($),S.appendChild(q);let E=lz,N;if(f==="favorites")N=E.filter((J)=>j.has(J.id));else N=E.filter((J)=>J.category===f);if(i.trim()){let J=i.toLowerCase();N=N.filter((O)=>O.titleEn.toLowerCase().includes(J)||O.transliteration.toLowerCase().includes(J)||O.translationEn.toLowerCase().includes(J))}if(N.length===0){let J=A("div",{className:"error-state"});J.appendChild(A("div",{className:"error-icon"},f==="favorites"?"♡":"\uD83E\uDD32")),J.appendChild(A("div",{className:"error-message"},i?"No duas match your search.":f==="favorites"?"No favorites yet. Tap the heart on any dua to save it.":"No duas in this category.")),S.appendChild(J)}else for(let J of N)S.appendChild(Bz(J,j.has(J.id),async(O)=>{await Iz(O),t(z)}));if(V(z,S),i){let J=z.querySelector(".dua-search");if(J)J.focus(),J.setSelectionRange(J.value.length,J.value.length)}}var U1=null;function D1(){if(U1)return Promise.resolve(U1);return new Promise((z,j)=>{let S=indexedDB.open(w,m);S.onsuccess=()=>{U1=S.result,z(U1)},S.onerror=()=>j(S.error)})}async function P1(){try{let z=await D1();return new Promise((j,S)=>{let q=z.transaction("quranProgress","readonly").objectStore("quranProgress").get("progress");q.onsuccess=()=>j(q.result||{id:"progress",completedDays:[],lastUpdated:""}),q.onerror=()=>S(q.error)})}catch{return{completedDays:[],lastUpdated:""}}}async function T1(z){let j=await P1(),S=j.completedDays.indexOf(z);if(S>=0)j.completedDays.splice(S,1);else j.completedDays.push(z),j.completedDays.sort((k,u)=>k-u);j.lastUpdated=new Date().toISOString();try{let k=await D1();await new Promise((u,q)=>{let $=k.transaction("quranProgress","readwrite");$.objectStore("quranProgress").put({id:"progress",...j}),$.oncomplete=()=>u(),$.onerror=()=>q($.error)})}catch{}return j}async function Lz(){try{let z=await D1();await new Promise((j,S)=>{let k=z.transaction("quranProgress","readwrite");k.objectStore("quranProgress").put({id:"progress",completedDays:[],lastUpdated:new Date().toISOString()}),k.oncomplete=()=>j(),k.onerror=()=>S(k.error)})}catch{}}function Rz(z,j,S,k){let u="quran-day-card";if(j)u+=" completed";if(S)u+=" today";let q=A("div",{className:u,id:S?"quran-today":void 0}),$=A("div",{className:"quran-day-info"});$.appendChild(A("div",{className:"quran-day-num"},`Day ${z.day} · Juz ${z.juz}`)),$.appendChild(A("div",{className:"quran-day-surah"},`${z.surahStart} ${z.ayahStart} – ${z.surahEnd} ${z.ayahEnd}`)),$.appendChild(A("div",{className:"quran-day-pages"},`Pages ${z.pages}`));let E=A("div",{className:"quran-checkbox"},j?"☑":"☐");return q.appendChild($),q.appendChild(E),q.addEventListener("click",()=>k(z.day)),q}var gz=[{day:1,juz:1,surahStart:"Al-Fatiha",ayahStart:1,surahEnd:"Al-Baqarah",ayahEnd:141,pages:"1–20"},{day:2,juz:2,surahStart:"Al-Baqarah",ayahStart:142,surahEnd:"Al-Baqarah",ayahEnd:252,pages:"21–40"},{day:3,juz:3,surahStart:"Al-Baqarah",ayahStart:253,surahEnd:"Al-Imran",ayahEnd:92,pages:"41–60"},{day:4,juz:4,surahStart:"Al-Imran",ayahStart:93,surahEnd:"An-Nisa",ayahEnd:23,pages:"61–80"},{day:5,juz:5,surahStart:"An-Nisa",ayahStart:24,surahEnd:"An-Nisa",ayahEnd:147,pages:"81–100"},{day:6,juz:6,surahStart:"An-Nisa",ayahStart:148,surahEnd:"Al-Ma'idah",ayahEnd:81,pages:"101–120"},{day:7,juz:7,surahStart:"Al-Ma'idah",ayahStart:82,surahEnd:"Al-An'am",ayahEnd:110,pages:"121–140"},{day:8,juz:8,surahStart:"Al-An'am",ayahStart:111,surahEnd:"Al-A'raf",ayahEnd:87,pages:"141–160"},{day:9,juz:9,surahStart:"Al-A'raf",ayahStart:88,surahEnd:"Al-Anfal",ayahEnd:40,pages:"161–180"},{day:10,juz:10,surahStart:"Al-Anfal",ayahStart:41,surahEnd:"At-Tawbah",ayahEnd:92,pages:"181–200"},{day:11,juz:11,surahStart:"At-Tawbah",ayahStart:93,surahEnd:"Hud",ayahEnd:5,pages:"201–220"},{day:12,juz:12,surahStart:"Hud",ayahStart:6,surahEnd:"Yusuf",ayahEnd:52,pages:"221–240"},{day:13,juz:13,surahStart:"Yusuf",ayahStart:53,surahEnd:"Ibrahim",ayahEnd:52,pages:"241–260"},{day:14,juz:14,surahStart:"Al-Hijr",ayahStart:1,surahEnd:"An-Nahl",ayahEnd:128,pages:"261–280"},{day:15,juz:15,surahStart:"Al-Isra",ayahStart:1,surahEnd:"Al-Kahf",ayahEnd:74,pages:"281–300"},{day:16,juz:16,surahStart:"Al-Kahf",ayahStart:75,surahEnd:"Ta-Ha",ayahEnd:135,pages:"301–320"},{day:17,juz:17,surahStart:"Al-Anbiya",ayahStart:1,surahEnd:"Al-Hajj",ayahEnd:78,pages:"321–340"},{day:18,juz:18,surahStart:"Al-Mu'minun",ayahStart:1,surahEnd:"Al-Furqan",ayahEnd:20,pages:"341–360"},{day:19,juz:19,surahStart:"Al-Furqan",ayahStart:21,surahEnd:"An-Naml",ayahEnd:55,pages:"361–380"},{day:20,juz:20,surahStart:"An-Naml",ayahStart:56,surahEnd:"Al-Ankabut",ayahEnd:45,pages:"381–400"},{day:21,juz:21,surahStart:"Al-Ankabut",ayahStart:46,surahEnd:"Al-Ahzab",ayahEnd:30,pages:"401–420"},{day:22,juz:22,surahStart:"Al-Ahzab",ayahStart:31,surahEnd:"Ya-Sin",ayahEnd:27,pages:"421–440"},{day:23,juz:23,surahStart:"Ya-Sin",ayahStart:28,surahEnd:"Az-Zumar",ayahEnd:31,pages:"441–460"},{day:24,juz:24,surahStart:"Az-Zumar",ayahStart:32,surahEnd:"Fussilat",ayahEnd:46,pages:"461–480"},{day:25,juz:25,surahStart:"Fussilat",ayahStart:47,surahEnd:"Al-Jathiyah",ayahEnd:37,pages:"481–500"},{day:26,juz:26,surahStart:"Al-Ahqaf",ayahStart:1,surahEnd:"Al-Hadid",ayahEnd:29,pages:"501–520"},{day:27,juz:27,surahStart:"Al-Mujadila",ayahStart:1,surahEnd:"At-Tahrim",ayahEnd:12,pages:"521–540"},{day:28,juz:28,surahStart:"Al-Mulk",ayahStart:1,surahEnd:"Al-Mursalat",ayahEnd:50,pages:"541–560"},{day:29,juz:29,surahStart:"An-Naba",ayahStart:1,surahEnd:"At-Takwir",ayahEnd:29,pages:"561–580"},{day:30,juz:30,surahStart:"Al-Infitar",ayahStart:1,surahEnd:"An-Nas",ayahEnd:6,pages:"581–604"}];var y="all",e=null;function K2(){let z=X.getState();if(z.todayData?.isRamadan&&z.todayData.ramadanDay)return z.todayData.ramadanDay;if(z.todayData?.isRamadan)return z.todayData.hijriDay;return null}function x2(z,j){if(e)clearTimeout(e);let S=document.querySelector(".undo-toast");if(S)S.remove();let k=A("div",{className:"undo-toast show"});k.appendChild(A("span",null,z));let u=A("button",{className:"undo-btn"},"Undo");u.addEventListener("click",()=>{if(j(),k.remove(),e)clearTimeout(e)}),k.appendChild(u),document.body.appendChild(k),e=window.setTimeout(()=>{k.classList.remove("show"),setTimeout(()=>k.remove(),300)},4000)}async function d(z){let j=await P1(),S=new Set(j.completedDays),k=gz,u=K2(),q=document.createDocumentFragment(),$=A("div",{className:"quran-title-row"});if($.appendChild(A("h1",{className:"page-title"},"Quran Plan")),u){let F=A("button",{className:"calendar-action-btn"},"\uD83D\uDCCD Go to today");F.addEventListener("click",()=>{let K=z.querySelector("#quran-today");if(K)K.scrollIntoView({behavior:"smooth",block:"center"})}),$.appendChild(F)}q.appendChild($);let E=A("div",{className:"quran-progress"}),N=A("div",{className:"quran-progress-text"},`${S.size}/30 days complete`),J=A("div",{className:"quran-progress-bar"}),O=A("div",{className:"quran-progress-fill"});O.style.width=`${S.size/30*100}%`,J.appendChild(O),E.appendChild(N),E.appendChild(J),q.appendChild(E);let U=A("div",{className:"quran-filters"}),H=[{id:"all",label:"All"},{id:"pending",label:"Pending"},{id:"completed",label:"Completed"}];for(let F of H){let K=A("button",{className:`filter-pill${F.id===y?" active":""}`},F.label);K.addEventListener("click",()=>{y=F.id,d(z)}),U.appendChild(K)}q.appendChild(U);let Z=k;if(y==="pending")Z=k.filter((F)=>!S.has(F.day));else if(y==="completed")Z=k.filter((F)=>S.has(F.day));for(let F of Z){let K=F.day===u;q.appendChild(Rz(F,S.has(F.day),K,async(W)=>{let g=S.has(W);await T1(W),x2(g?`Day ${W} marked pending`:`Day ${W} completed`,async()=>{await T1(W),d(z)}),d(z)}))}if(Z.length===0){let F=A("div",{className:"error-state"});F.appendChild(A("div",{className:"error-icon"},y==="completed"?"\uD83D\uDCD6":"✅")),F.appendChild(A("div",{className:"error-message"},y==="completed"?"No completed days yet.":"All days completed!")),q.appendChild(F)}let G=A("button",{className:"btn-reset"},"Reset Progress");G.addEventListener("click",async()=>{if(confirm("Are you sure you want to reset all Quran reading progress?"))await Lz(),d(z)}),q.appendChild(G),V(z,q)}async function G2(){h1();let z=d1();if(z.theme==="system"){let u=window.matchMedia("(prefers-color-scheme: dark)").matches;document.documentElement.setAttribute("data-theme",u?"dark":"light"),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",(q)=>{if(X.getState().settings.theme==="system")document.documentElement.setAttribute("data-theme",q.matches?"dark":"light")})}else document.documentElement.setAttribute("data-theme",z.theme);let j={settings:z,currentMonthData:null,otherMonthData:null,todayData:null,nextPrayer:null,isOnline:navigator.onLine,isLoading:!0,error:null,methods:null};m1(j),a.init(),a.onChange((u)=>{X.setState({isOnline:u})}),await e1();let S=document.getElementById("app"),k=document.createElement("main");k.setAttribute("role","main"),S.appendChild(Jz()),S.appendChild(k),S.appendChild(Ez()),l.onRouteChange((u)=>{az(u,k)});try{let{current:u,other:q}=await qz(z);X.setState({currentMonthData:u.data,otherMonthData:q?.data||null,isLoading:!1,error:u.source==="error"?u.error||"Failed to load data":null});let $=Qz();X.setState({todayData:$})}catch(u){X.setState({isLoading:!1,error:u.message||"Failed to load prayer times"})}if(q1().then((u)=>X.setState({methods:u})).catch(()=>{}),l.init(),!window.location.hash||window.location.hash==="#/"||window.location.hash==="#")az("today",k);if("serviceWorker"in navigator)navigator.serviceWorker.register("/sw.js").catch(()=>{})}function az(z,j){switch(Hz(),z){case"today":l1(j);break;case"calendar":P(j);break;case"settings":Yz(j);break;case"duas":t(j);break;case"quran":d(j);break}}G2().catch(console.error);
