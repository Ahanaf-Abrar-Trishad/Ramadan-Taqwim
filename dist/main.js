var Cz="@vercel/analytics",Mz="1.6.1",fz=()=>{if(window.va)return;window.va=function(...j){(window.vaq=window.vaq||[]).push(j)}};function M1(){return typeof window<"u"}function f1(){try{return"development"}catch(z){}return"production"}function wz(z="auto"){if(z==="auto"){window.vam=f1();return}window.vam=z}function hz(){return(M1()?window.vam:f1())||"production"}function K1(){return hz()==="development"}function mz(z){if(z.scriptSrc)return z.scriptSrc;if(K1())return"https://va.vercel-scripts.com/v1/script.debug.js";if(z.basePath)return`${z.basePath}/insights/script.js`;return"/_vercel/insights/script.js"}function w1(z={debug:!0}){var j;if(!M1())return;if(wz(z.mode),fz(),z.beforeSend)(j=window.va)==null||j.call(window,"beforeSend",z.beforeSend);let S=mz(z);if(document.head.querySelector(`script[src*="${S}"]`))return;let u=document.createElement("script");if(u.src=S,u.defer=!0,u.dataset.sdkn=Cz+(z.framework?`/${z.framework}`:""),u.dataset.sdkv=Mz,z.disableAutoTrack)u.dataset.disableAutoTrack="1";if(z.endpoint)u.dataset.endpoint=z.endpoint;else if(z.basePath)u.dataset.endpoint=`${z.basePath}/insights`;if(z.dsn)u.dataset.dsn=z.dsn;if(u.onerror=()=>{let k=K1()?"Please check if any ad blockers are enabled and try again.":"Be sure to enable Web Analytics for your project and deploy again. See https://vercel.com/docs/analytics/quickstart for more information.";console.log(`[Vercel Web Analytics] Failed to load script from ${S}. ${k}`)},K1()&&z.debug===!1)u.dataset.debug="false";document.head.appendChild(u)}class h1{state;listeners=new Set;constructor(z){this.state=z}getState(){return this.state}setState(z){this.state={...this.state,...z},this.listeners.forEach((j)=>j(this.state))}subscribe(z){return this.listeners.add(z),()=>this.listeners.delete(z)}}var Z;function m1(z){return Z=new h1(z),Z}var cz={"":"today",today:"today",calendar:"calendar",duas:"duas",quran:"quran",settings:"settings"};class c1{listeners=new Set;current="today";init(){window.addEventListener("hashchange",()=>this.handleHash()),this.handleHash()}handleHash(){let z=window.location.hash.replace("#/","").replace("#",""),j=cz[z]||"today";if(j!==this.current)this.current=j,this.listeners.forEach((S)=>S(j))}navigate(z){window.location.hash=`#/${z==="today"?"":z}`}getCurrentRoute(){return this.current}onRouteChange(z){return this.listeners.add(z),()=>this.listeners.delete(z)}}var l=new c1;var j1={city:"dhaka",cityDisplay:"Dhaka",methodId:1,methodName:"University of Islamic Sciences, Karachi",school:1,theme:"dark",timeFormat:"12h",lastSaved:""};var n1="Ramadan Taqwim",x1="https://api.aladhan.com/v1",p1="Bangladesh",i1=86400000,y1=1e4,h="ramadan-taqwim-db",m=1,G1="ramadan-taqwim-settings",W1=9;function r1(){try{let z=localStorage.getItem(G1);if(!z)return{...j1};let j=JSON.parse(z);return{...j1,...j}}catch{return{...j1}}}function d1(z){z.lastSaved=new Date().toISOString(),localStorage.setItem(G1,JSON.stringify(z))}function T(z,j,S,u,k){return`aladhan:${z}:${j}:${S}:${u}:${k}`}var S1=null;function V1(){if(S1)return Promise.resolve(S1);return new Promise((z,j)=>{let S=indexedDB.open(h,m);S.onupgradeneeded=(u)=>{let k=S.result,q=u.oldVersion;if(!k.objectStoreNames.contains("monthTimings"))k.createObjectStore("monthTimings",{keyPath:"cacheKey"});else if(q>0)S.transaction?.objectStore("monthTimings").clear();if(!k.objectStoreNames.contains("duaFavorites"))k.createObjectStore("duaFavorites",{keyPath:"duaId"});if(!k.objectStoreNames.contains("quranProgress"))k.createObjectStore("quranProgress",{keyPath:"id"})},S.onsuccess=()=>{S1=S.result,z(S1)},S.onerror=()=>j(S.error)})}async function s1(z){try{let j=await V1();return new Promise((S,u)=>{let $=j.transaction("monthTimings","readonly").objectStore("monthTimings").get(z);$.onsuccess=()=>S($.result||null),$.onerror=()=>u($.error)})}catch{return null}}async function o1(z){try{let j=await V1();return new Promise((S,u)=>{let k=j.transaction("monthTimings","readwrite");k.objectStore("monthTimings").put(z),k.oncomplete=()=>S(),k.onerror=()=>u(k.error)})}catch{}}function t1(z){let j=new Date(z.fetchedAt).getTime();return Date.now()-j<i1}async function e1(){try{await V1()}catch{console.warn("IndexedDB unavailable — using in-memory only")}}async function Y1(z){let j=null;for(let S=0;S<2;S++)try{let u=new AbortController,k=setTimeout(()=>u.abort(),y1),q=await fetch(z,{signal:u.signal});if(clearTimeout(k),!q.ok)throw Error(`HTTP ${q.status}: ${q.statusText}`);return await q.json()}catch(u){if(j=u,u.name!=="AbortError"&&!u.message?.includes("fetch"))throw u;if(S===0)await new Promise((k)=>setTimeout(k,1000))}throw j||Error("Fetch failed")}var nz=86400000,pz="Laylat al-Qadr",iz="Eid al-Fitr",yz={2026:{startGregorian:"19-02-2026",hijriYear:1447,dayCount:30}};function zz(z){let[j,S,u]=z.split("-").map(Number);return Math.floor(Date.UTC(u,S-1,j)/nz)}function rz(z){let[,,j]=z.split("-").map(Number);return yz[j]||null}function dz(z){let j=z.toLowerCase();return j.includes("lailat")||j.includes("laylat")||j.includes("qadr")}function sz(z){let j=z.toLowerCase();return j.includes("eid")||j.includes("fitr")}function oz(z){return dz(z)||sz(z)}function tz(z){let j=[],S=new Set;for(let u of z){let k=u.trim().toLowerCase();if(!S.has(k))S.add(k),j.push(u.trim())}return j}function ez(z,j,S){let u=z.filter((E)=>!oz(E)),k=[],q=j+1;if(q>=21&&q<=29&&q%2===1)k.push(pz);if(j===S.dayCount)k.push(iz);return tz([...k,...u])}function z2(z){let j=rz(z.dateGregorian);if(!j)return z;let S=zz(z.dateGregorian),u=zz(j.startGregorian),k=S-u,q=ez(z.holidays,k,j);if(k>=0&&k<j.dayCount){let $=k+1;return{...z,hijriMonth:W1,hijriDay:$,hijriYear:j.hijriYear,hijriDisplay:`${$} Ramaḍān ${j.hijriYear}`,isRamadan:!0,ramadanDay:$,holidays:q}}if(k===j.dayCount&&z.hijriMonth===10&&z.hijriDay>1){let $=z.hijriDay-1;return{...z,hijriDay:$,hijriYear:j.hijriYear,hijriDisplay:`${$} Shawwāl ${j.hijriYear}`,isRamadan:!1,ramadanDay:null,holidays:q}}if(k===-1&&z.hijriMonth===W1&&z.hijriDay===1)return{...z,hijriMonth:8,hijriDay:30,hijriYear:j.hijriYear,hijriDisplay:`30 Shaʿbān ${j.hijriYear}`,isRamadan:!1,ramadanDay:null,holidays:q};return{...z,holidays:q}}function A1(z){return z.map(z2)}function C(z){return z.replace(/\s*\(.*\)$/,"").trim()}function j2(z){let j=z.timings,S=z.date.hijri,u=z.date.gregorian,k=C(j.Fajr||""),q=[...S.holidays||[],...S.adjustedHolidays||[]],$={Fajr:k,Sunrise:C(j.Sunrise||""),Dhuhr:C(j.Dhuhr||""),Asr:C(j.Asr||""),Maghrib:C(j.Maghrib||""),Isha:C(j.Isha||""),SehriEnds:k,Iftar:C(j.Maghrib||"")};return{dateGregorian:u.date,dateReadable:z.date.readable,timestamp:parseInt(z.date.timestamp,10),weekday:u.weekday.en,hijriDisplay:`${S.day} ${S.month.en} ${S.year}`,hijriMonth:S.month.number,hijriDay:parseInt(S.day,10),hijriYear:parseInt(S.year,10),isRamadan:S.month.number===9,ramadanDay:S.month.number===9?parseInt(S.day,10):null,holidays:q,prayers:$}}function jz(z,j){let S=A1(z.map(j2));return{cacheKey:j,fetchedAt:new Date().toISOString(),days:S}}var u1=null;async function k1(){if(u1)return u1;let z=await Y1(`${x1}/methods`);return u1=Object.values(z.data).filter((j)=>j.id!==99).map((j)=>({id:j.id,name:j.name})).sort((j,S)=>j.id-S.id),u1}async function Sz(z){let{city:j,year:S,month:u,methodId:k,school:q}=z,$=new URL(`${x1}/calendarByCity/${S}/${u}`);$.searchParams.set("city",j),$.searchParams.set("country",p1),$.searchParams.set("method",String(k)),$.searchParams.set("school",String(q));let E=await Y1($.toString()),J=T(j.toLowerCase(),k,q,S,u);return jz(E.data,J)}function c(){let z=new Date,j=String(z.getDate()).padStart(2,"0"),S=String(z.getMonth()+1).padStart(2,"0"),u=z.getFullYear();return`${j}-${S}-${u}`}function I(){return new Date().getFullYear()}function B(){return new Date().getMonth()+1}function Az(z){return["","January","February","March","April","May","June","July","August","September","October","November","December"][z]||""}function uz(){return new Date().toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}function kz(z){let S=A1(z.days).map((u)=>({...u,prayers:{...u.prayers,SehriEnds:u.prayers.Fajr}}));return{...z,days:S}}async function d(z,j,S){let u=j??I(),k=S??B(),q=T(z.city,z.methodId,z.school,u,k),$=await s1(q);if($){let E=kz($);if(t1($))return{data:E,source:"fresh-cache"};return S2(z,u,k),{data:E,source:"stale-cache"}}return q1(z,u,k)}async function q1(z,j,S){try{let u=await Sz({city:z.cityDisplay,year:j,month:S,methodId:z.methodId,school:z.school}),k=kz(u);return await o1(k),{data:k,source:"network"}}catch(u){return{data:null,source:"error",error:u.message}}}function S2(z,j,S){q1(z,j,S).catch(()=>{})}async function qz(z){let j=I(),S=B(),u=await d(z,j,S),k=null;if(S===2)k=await d(z,j,3);else if(S===3)k=await d(z,j,2);return{current:u,other:k}}class $z{online=navigator.onLine;listeners=new Set;init(){window.addEventListener("online",()=>this.update(!0)),window.addEventListener("offline",()=>this.update(!1))}update(z){this.online=z,this.listeners.forEach((j)=>j(z))}isOnline(){return this.online}onChange(z){return this.listeners.add(z),()=>this.listeners.delete(z)}}var g=new $z;function A(z,j,...S){let u=document.createElement(z);if(j)for(let[k,q]of Object.entries(j))if(k==="className")u.className=q;else if(k==="textContent")u.textContent=q;else if(k==="innerHTML")u.innerHTML=q;else u.setAttribute(k,q);for(let k of S)if(typeof k==="string")u.appendChild(document.createTextNode(k));else u.appendChild(k);return u}function V(z,...j){z.innerHTML="";for(let S of j)z.appendChild(S)}var A2=[{route:"today",icon:"☪",label:"Today"},{route:"calendar",icon:"\uD83D\uDCC5",label:"Calendar"},{route:"duas",icon:"\uD83E\uDD32",label:"Duas"},{route:"quran",icon:"\uD83D\uDCD6",label:"Quran"},{route:"settings",icon:"⚙",label:"Settings"}];function Ez(){let z=A("nav",{className:"nav-bar",role:"navigation","aria-label":"Main navigation"});function j(){z.innerHTML="";let S=l.getCurrentRoute();for(let u of A2){let k=A("button",{className:`nav-tab${u.route===S?" active":""}`,"aria-label":u.label,"aria-current":u.route===S?"page":""}),q=A("span",{className:"nav-icon","aria-hidden":"true"},u.icon),$=A("span",null,u.label);k.appendChild(q),k.appendChild($),k.addEventListener("click",()=>l.navigate(u.route)),z.appendChild(k)}}return j(),l.onRouteChange(()=>j()),z}function Nz(){let z=A("div",{className:"offline-banner",role:"alert"},"You are offline — showing cached data");function j(S){z.classList.toggle("show",!S)}return j(g.isOnline()),g.onChange(j),z}var v=["Fajr","Sunrise","Dhuhr","Asr","Maghrib","Isha"];function L(z){let[j,S]=z.split(":").map(Number);return j*60+S}function s(z){if(z<=0)return"0m 0s";let j=Math.floor(z/1000),S=Math.floor(j/3600),u=Math.floor(j%3600/60),k=j%60;if(S>0)return`${S}h ${u}m ${k}s`;if(u>0)return`${u}m ${k}s`;return`${k}s`}function u2(z){let[j,S]=z.split(":").map(Number),u=j>=12?"PM":"AM";return`${j%12||12}:${String(S).padStart(2,"0")} ${u}`}function b(z,j){if(j==="12h")return u2(z);return z}function $1(z,j){let S=new Date,u=S.getHours()*60+S.getMinutes(),k=S.getHours()*3600000+S.getMinutes()*60000+S.getSeconds()*1000;for(let q of v){let $=z.prayers[q],E=L($);if(E>u){let N=E*60000-k,O=v.indexOf(q)-1,U,H;if(O>=0)U=z.prayers[v[O]],H=L(U);else{U=j??z.prayers.Isha,H=L(U);let x=u+(1440-H),W=E+(1440-H),P=W>0?Math.min(1,Math.max(0,x/W)):0;return{name:q,time:$,prevTime:U,remainingMs:N,remainingDisplay:s(N),progress:P}}let X=E-H,G=u-H,F=X>0?Math.min(1,Math.max(0,G/X)):0;return{name:q,time:$,prevTime:U,remainingMs:N,remainingDisplay:s(N),progress:F}}}return null}function Jz(z){let j=new Date,S=j.getHours()*60+j.getMinutes();return L(z)<=S}function Oz(z,j){return j?.name===z}function E1(z,j){if(!z.isRamadan)return null;let S=new Date,u=S.getHours()*3600000+S.getMinutes()*60000+S.getSeconds()*1000,k=z.prayers.SehriEnds,q=z.prayers.Iftar,$=L(k)*60000,E=L(q)*60000;if(u<$){let J=$-u,N=j??z.prayers.Isha,O=L(N),U=L(k),H=Math.floor(u/60000),X=U+(1440-O),G=H+(1440-O),F=X>0?Math.min(1,Math.max(0,G/X)):0;return{label:"Sehri Ends In",targetTime:k,startTime:N,remainingMs:J,remainingDisplay:s(J),progress:F,type:"sehri"}}if(u<E){let J=E-u,N=E-$,O=u-$,U=N>0?Math.min(1,Math.max(0,O/N)):0;return{label:"Iftar In",targetTime:q,startTime:k,remainingMs:J,remainingDisplay:s(J),progress:U,type:"iftar"}}return null}function Uz(z){let j=A("div",{className:"hero-container"}),S=Z.getState().settings.timeFormat,u=A("div",{className:"hero-card"});u.appendChild(A("div",{className:"hero-label"},"Sehri Ends")),u.appendChild(A("div",{className:"hero-time"},b(z.SehriEnds,S))),u.appendChild(A("div",{className:"hero-sublabel"},"(Fajr)"));let k=A("div",{className:"hero-card"});return k.appendChild(A("div",{className:"hero-label"},"Iftar")),k.appendChild(A("div",{className:"hero-time"},b(z.Iftar,S))),k.appendChild(A("div",{className:"hero-sublabel"},"(Maghrib)")),j.appendChild(u),j.appendChild(k),j}function _1(z,j,S){let u=A("section",{className:"countdown-hero","aria-live":"polite"}),k=Z.getState().settings.timeFormat,q=S==="iftar"&&z,$=S==="next-prayer"&&j;if(q&&z){u.classList.add(z.type);let E=z.type==="sehri"?"\uD83C\uDF19":"\uD83C\uDF05",J=A("div",{className:"hero-cd-label"});J.innerHTML=`${E} <span class="hero-cd-type">${z.label}</span>`,u.appendChild(J),u.appendChild(A("div",{className:"hero-cd-time"},z.remainingDisplay)),u.appendChild(A("div",{className:"hero-cd-starts-at"},`Ends at ${b(z.targetTime,k)}`));let N=A("div",{className:"hero-cd-bar-wrap"}),O=A("div",{className:"hero-cd-bar"}),U=A("div",{className:`hero-cd-bar-fill ${z.type}`});U.style.width=`${Math.round(z.progress*100)}%`,O.appendChild(U),N.appendChild(O);let H=A("div",{className:"hero-cd-bar-labels"});H.appendChild(A("span",null,b(z.startTime,k))),H.appendChild(A("span",null,b(z.targetTime,k))),N.appendChild(H),u.appendChild(N)}else if($&&j){u.classList.add("next-prayer");let E=A("div",{className:"hero-cd-label"});E.innerHTML=`\uD83D\uDD4C <span class="hero-cd-type">Next: ${j.name}</span>`,u.appendChild(E),u.appendChild(A("div",{className:"hero-cd-time"},j.remainingDisplay)),u.appendChild(A("div",{className:"hero-cd-starts-at"},`Starts at ${b(j.time,k)}`));let J=A("div",{className:"hero-cd-bar-wrap"}),N=A("div",{className:"hero-cd-bar"}),O=A("div",{className:"hero-cd-bar-fill gold"});O.style.width=`${Math.round(j.progress*100)}%`,N.appendChild(O),J.appendChild(N);let U=A("div",{className:"hero-cd-bar-labels"});U.appendChild(A("span",null,b(j.prevTime,k))),U.appendChild(A("span",null,b(j.time,k))),J.appendChild(U),u.appendChild(J)}else if(z){u.classList.add(z.type);let E=z.type==="sehri"?"\uD83C\uDF19":"\uD83C\uDF05";u.appendChild(A("div",{className:"hero-cd-label"},`${E} ${z.label}`)),u.appendChild(A("div",{className:"hero-cd-time"},z.remainingDisplay))}else if(j)u.classList.add("next-prayer"),u.appendChild(A("div",{className:"hero-cd-label"},`\uD83D\uDD4C Next: ${j.name}`)),u.appendChild(A("div",{className:"hero-cd-time"},j.remainingDisplay));else u.appendChild(A("div",{className:"hero-cd-label"},"All prayers completed for today"));if(z&&j){let E=A("div",{className:"hero-cd-toggle"}),J=A("button",{className:`toggle-pill${S==="iftar"?" active":""}`},"Iftar"),N=A("button",{className:`toggle-pill${S==="next-prayer"?" active":""}`},"Next Prayer");E.appendChild(J),E.appendChild(N),u.appendChild(E)}return u}function Zz(z,j,S,u){let k=Z.getState().settings.timeFormat;if(u==="iftar"&&j){z.className=`countdown-hero ${j.type}`;let q=z.querySelector(".hero-cd-type");if(q)q.textContent=j.label;let $=z.querySelector(".hero-cd-time");if($)$.textContent=j.remainingDisplay;let E=z.querySelector(".hero-cd-starts-at");if(E)E.textContent=`Ends at ${b(j.targetTime,k)}`;let J=z.querySelector(".hero-cd-bar-fill");if(J)J.style.width=`${Math.round(j.progress*100)}%`,J.className=`hero-cd-bar-fill ${j.type}`;let N=z.querySelectorAll(".hero-cd-bar-labels span");if(N.length===2)N[0].textContent=b(j.startTime,k),N[1].textContent=b(j.targetTime,k)}else if(u==="next-prayer"&&S){z.className="countdown-hero next-prayer";let q=z.querySelector(".hero-cd-type");if(q)q.textContent=`Next: ${S.name}`;let $=z.querySelector(".hero-cd-time");if($)$.textContent=S.remainingDisplay;let E=z.querySelector(".hero-cd-starts-at");if(E)E.textContent=`Starts at ${b(S.time,k)}`;let J=z.querySelector(".hero-cd-bar-fill");if(J)J.style.width=`${Math.round(S.progress*100)}%`,J.className="hero-cd-bar-fill gold";let N=z.querySelectorAll(".hero-cd-bar-labels span");if(N.length===2)N[0].textContent=b(S.prevTime,k),N[1].textContent=b(S.time,k)}else if(!j&&!S){let q=z.querySelector(".hero-cd-time");if(q)q.textContent="";let $=z.querySelector(".hero-cd-label");if($)$.textContent="All prayers completed for today"}}function I1(z,j){let S=A("div",{className:"prayer-list"}),u=Z.getState().settings.timeFormat;for(let k of v){let q=z.prayers[k],$=Jz(q),E=Oz(k,j),J=A("div",{className:`prayer-card${$&&!E?" past":""}${E?" now":""}`}),N=A("div",{className:"prayer-left"});if($&&!E)N.appendChild(A("span",{className:"prayer-done-icon"},"✓"));if(N.appendChild(A("span",{className:"prayer-name"},k)),E)N.appendChild(A("span",{className:"prayer-now-badge"},"Now"));let O=A("span",{className:"prayer-time"},b(q,u));J.appendChild(N),J.appendChild(O),S.appendChild(J)}return S}function Xz(z){let j=z.school===1?"Hanafi":"Shafi",S=`${z.cityDisplay} · ${z.methodName.split(",")[0]} · ${j}`;return A("div",{className:"transparency-footer"},S)}function o(){let z=A("div",null);z.appendChild(A("div",{className:"skeleton skeleton-line short",style:"height: 24px;"})),z.appendChild(A("div",{className:"skeleton skeleton-line",style:"height: 16px; width: 50%; margin-top: 8px;"}));let j=A("div",{className:"skeleton-hero"});j.appendChild(A("div",{className:"skeleton"})),j.appendChild(A("div",{className:"skeleton"})),z.appendChild(j),z.appendChild(A("div",{className:"skeleton skeleton-card",style:"height: 80px; margin-bottom: 16px;"}));for(let S=0;S<6;S++)z.appendChild(A("div",{className:"skeleton skeleton-card"}));return z}var M=null,n="iftar";function p(z){let j=Z.getState(),[S,u,k]=z.dateGregorian.split("-").map(Number),q=new Date(k,u-1,S-1),$=`${String(q.getDate()).padStart(2,"0")}-${String(q.getMonth()+1).padStart(2,"0")}-${q.getFullYear()}`;for(let E of[j.currentMonthData,j.otherMonthData]){if(!E)continue;let J=E.days.find((N)=>N.dateGregorian===$);if(J)return J.prayers.Isha}return}function B1(z){let j=Z.getState();if(M)clearInterval(M),M=null;if(j.isLoading&&!j.todayData){V(z,o());return}if(j.error&&!j.todayData){let U=A("div",{className:"error-state"});U.appendChild(A("div",{className:"error-icon"},"⚠")),U.appendChild(A("div",{className:"error-message"},j.error));let H=A("button",{className:"btn-retry"},"Try Again");H.addEventListener("click",()=>{window.location.reload()}),U.appendChild(H),V(z,U);return}let S=j.todayData;if(!S){V(z,o());return}let u=j.settings,k=document.createDocumentFragment(),q=A("header",{className:"page-header"});q.appendChild(A("div",{className:"app-name"},`☪ ${n1}`)),q.appendChild(A("div",{className:"hijri-date"},S.hijriDisplay)),q.appendChild(A("div",{className:"greg-date"},uz())),k.appendChild(q),k.appendChild(Uz(S.prayers));let $=E1(S,p(S)),E=$1(S,p(S));if(!$)n="next-prayer";let J=_1($,E,n);if(J.querySelectorAll(".toggle-pill").forEach((U)=>{U.addEventListener("click",()=>{n=U.textContent==="Iftar"?"iftar":"next-prayer";let H=_1(E1(S,p(S)),$1(S,p(S)),n);H.querySelectorAll(".toggle-pill").forEach((X)=>{X.addEventListener("click",()=>{n=X.textContent==="Iftar"?"iftar":"next-prayer",B1(z)})}),J.replaceWith(H)})}),k.appendChild(J),k.appendChild(I1(S,E)),S.isRamadan&&S.ramadanDay){let U=A("div",{className:"ramadan-counter"});U.innerHTML=`Day <strong>${S.ramadanDay}</strong> of Ramaḍān`,k.appendChild(U)}else if(S.isRamadan){let U=A("div",{className:"ramadan-counter"});U.innerHTML=`Day <strong>${S.hijriDay}</strong> of Ramaḍān`,k.appendChild(U)}k.appendChild(Xz(u)),V(z,k);let O=z.querySelector(".countdown-hero");M=window.setInterval(()=>{let U=E1(S,p(S)),H=$1(S,p(S));if(O)Zz(O,U,H,n);if(H?.name!==E?.name){let X=z.querySelector(".prayer-list");if(X){let G=I1(S,H);X.replaceWith(G)}}},1000)}function Hz(){if(M)clearInterval(M),M=null}function Qz(){let z=Z.getState(),j=c();if(z.currentMonthData){let S=z.currentMonthData.days.find((u)=>u.dateGregorian===j);if(S)return S}if(z.otherMonthData){let S=z.otherMonthData.days.find((u)=>u.dateGregorian===j);if(S)return S}return null}var k2="Laylat al-Qadr",q2="Eid al-Fitr";function Fz(z){let j=z.dateGregorian===c(),S=z.isRamadan,u=z.holidays.includes(k2),k=z.holidays.includes(q2),q=Z.getState().settings.timeFormat,$="day-row";if(j)$+=" today";if(!S)$+=" non-ramadan";if(k)$+=" eid-day";let E=A("div",{className:$,id:j?"today-row":void 0}),J=A("div",{className:"day-row-header"});J.appendChild(A("span",{className:"day-row-date"},`${z.dateReadable} · ${z.weekday}`)),J.appendChild(A("span",{className:"day-row-hijri"},z.hijriDisplay)),E.appendChild(J);let N=A("div",{className:"day-row-times"}),O=A("span",{className:"day-row-iftar"});O.innerHTML=`Iftar <strong>${b(z.prayers.Iftar,q)}</strong>`;let U=A("span",{className:"day-row-sehri"});if(U.innerHTML=`Sehri ends <strong>${b(z.prayers.SehriEnds,q)}</strong>`,N.appendChild(O),N.appendChild(U),E.appendChild(N),z.isRamadan&&z.ramadanDay)E.appendChild(A("span",{className:"day-row-ramadan-day"},`Day ${z.ramadanDay} of Ramaḍān`));if(j)E.appendChild(A("span",{className:"day-badge today-badge"},"TODAY"));if(u)E.appendChild(A("span",{className:"day-badge holiday-badge"},"⭐ Laylat al-Qadr"));if(k)E.appendChild(A("span",{className:"day-badge eid-badge"},"\uD83C\uDF89 Eid al-Fitr"));return E}var $2="Eid al-Fitr";function bz(z,j){let S=A("div",{className:"calendar-grid"}),u=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];for(let O of u)S.appendChild(A("div",{className:"cal-grid-header"},O));if(z.length===0)return S;let k=z[0],[q,$,E]=k.dateGregorian.split("-").map(Number),J=new Date(E,$-1,q).getDay();for(let O=0;O<J;O++)S.appendChild(A("div",{className:"cal-grid-spacer"}));let N=c();for(let O of z){let U=parseInt(O.dateGregorian.split("-")[0],10),H=O.dateGregorian===N,X=O.isRamadan,G=O.holidays.length>0,F=O.holidays.includes($2),x="cal-grid-cell";if(H)x+=" today";if(!X)x+=" non-ramadan";if(G)x+=" holiday";if(F)x+=" eid-day";let W=A("button",{className:x,"aria-label":O.dateReadable});if(W.appendChild(A("span",{className:"cal-grid-day"},String(U))),O.isRamadan&&O.ramadanDay)W.appendChild(A("span",{className:"cal-grid-ramadan"},`R${O.ramadanDay}`));W.addEventListener("click",()=>j(O)),S.appendChild(W)}return S}var l1="Laylat al-Qadr",L1="Eid al-Fitr";function E2(z){let j=z.includes(l1),S=z.includes(L1),u=z.filter((q)=>q!==l1&&q!==L1),k=[];if(j)k.push(l1);if(S)k.push(L1);return k.push(...u),k}function Kz(z){R1();let j=Z.getState().settings.timeFormat,S=A("div",{className:"sheet-backdrop"});S.addEventListener("click",R1);let u=A("div",{className:"day-details-sheet"});u.appendChild(A("div",{className:"sheet-handle"}));let k=A("div",{className:"sheet-header"});if(k.appendChild(A("div",{className:"sheet-title"},z.dateReadable)),k.appendChild(A("div",{className:"sheet-subtitle"},`${z.weekday} · ${z.hijriDisplay}`)),z.isRamadan&&z.ramadanDay)k.appendChild(A("div",{className:"sheet-ramadan-day"},`Day ${z.ramadanDay} of Ramaḍān`));if(u.appendChild(k),z.isRamadan){let E=A("div",{className:"sheet-hero"}),J=A("div",{className:"sheet-hero-card"});J.appendChild(A("div",{className:"sheet-hero-label"},"Sehri ends")),J.appendChild(A("div",{className:"sheet-hero-time"},b(z.prayers.SehriEnds,j))),E.appendChild(J);let N=A("div",{className:"sheet-hero-card iftar"});N.appendChild(A("div",{className:"sheet-hero-label"},"Iftar")),N.appendChild(A("div",{className:"sheet-hero-time"},b(z.prayers.Iftar,j))),E.appendChild(N),u.appendChild(E)}let q=A("div",{className:"sheet-prayer-list"});for(let E of v){let J=z.prayers[E],N=A("div",{className:"sheet-prayer-row"});N.appendChild(A("span",{className:"sheet-prayer-name"},E)),N.appendChild(A("span",{className:"sheet-prayer-time"},b(J,j))),q.appendChild(N)}if(u.appendChild(q),z.holidays.length>0){let E=A("div",{className:"sheet-holidays"});for(let J of E2(z.holidays))E.appendChild(A("span",{className:"sheet-holiday-badge"},J));u.appendChild(E)}let $=A("button",{className:"sheet-close-btn"},"Close");$.addEventListener("click",R1),u.appendChild($),document.body.appendChild(S),document.body.appendChild(u),requestAnimationFrame(()=>{S.classList.add("show"),u.classList.add("show")})}function R1(){let z=document.querySelector(".sheet-backdrop"),j=document.querySelector(".day-details-sheet");if(z)z.classList.remove("show"),setTimeout(()=>z.remove(),300);if(j)j.classList.remove("show"),setTimeout(()=>j.remove(),300)}var R=I(),Y=B(),Wz="ramadan-bd-calendar-view";function N2(z){return z==="list"||z==="grid"?z:"grid"}function J2(){try{return N2(localStorage.getItem(Wz))}catch{return"grid"}}function xz(z){try{localStorage.setItem(Wz,z)}catch{}}var a=J2();function D(z){let j=Z.getState(),S=document.createDocumentFragment(),u=A("div",{className:"calendar-title-row"});u.appendChild(A("h1",{className:"page-title"},"Calendar"));let k=A("div",{className:"view-toggle"}),q=A("button",{className:`toggle-pill${a==="list"?" active":""}`,"aria-label":"List view"},"☰ List"),$=A("button",{className:`toggle-pill${a==="grid"?" active":""}`,"aria-label":"Grid view"},"▦ Grid");q.addEventListener("click",()=>{a="list",xz(a),D(z)}),$.addEventListener("click",()=>{a="grid",xz(a),D(z)}),k.appendChild(q),k.appendChild($),u.appendChild(k),S.appendChild(u);let E=A("div",{className:"month-nav"}),J=A("button",{className:"month-nav-btn","aria-label":"Previous month"},"◀");J.addEventListener("click",()=>Gz(-1,z));let N=A("span",{className:"month-nav-title"},`${Az(Y)} ${R}`),O=A("button",{className:"month-nav-btn","aria-label":"Next month"},"▶");O.addEventListener("click",()=>Gz(1,z)),E.appendChild(J),E.appendChild(N),E.appendChild(O),S.appendChild(E);let U=R===I()&&Y===B();if(!U){let X=A("div",{className:"calendar-actions"}),G=A("button",{className:"calendar-action-btn"},"\uD83D\uDCCD Jump to today");G.addEventListener("click",()=>{R=I(),Y=B(),D(z),requestAnimationFrame(()=>{let x=z.querySelector("#today-row");if(x)x.scrollIntoView({behavior:"smooth",block:"center"})})});let F=A("button",{className:"calendar-action-btn"},"\uD83D\uDCC5 This month");F.addEventListener("click",()=>{R=I(),Y=B(),D(z)}),X.appendChild(G),X.appendChild(F),S.appendChild(X)}let H=O2();if(!H){if(j.isLoading)S.appendChild(o());else{let X=A("div",{className:"error-state"});X.appendChild(A("div",{className:"error-message"},"Loading calendar data...")),S.appendChild(X),U2(z)}V(z,S);return}if(a==="grid")S.appendChild(bz(H.days,(X)=>{Kz(X)}));else for(let X of H.days)S.appendChild(Fz(X));if(V(z,S),U&&a==="list")requestAnimationFrame(()=>{let X=z.querySelector("#today-row");if(X)X.scrollIntoView({behavior:"smooth",block:"center"})})}function O2(){let z=Z.getState();if(z.currentMonthData){let j=z.currentMonthData.days[0];if(j){let[,S,u]=j.dateGregorian.split("-").map(Number);if(S===Y&&u===R)return z.currentMonthData}}if(z.otherMonthData){let j=z.otherMonthData.days[0];if(j){let[,S,u]=j.dateGregorian.split("-").map(Number);if(S===Y&&u===R)return z.otherMonthData}}return null}async function U2(z){let j=Z.getState().settings;Z.setState({isLoading:!0});let S=await d(j,R,Y);if(S.data)Z.setState({otherMonthData:S.data,isLoading:!1});else Z.setState({isLoading:!1,error:S.error||"Failed to load calendar"});D(z)}function Gz(z,j){if(Y+=z,Y>12)Y=1,R++;if(Y<1)Y=12,R--;D(j)}var g1=[{name:"Dhaka",normalized:"dhaka"},{name:"Chittagong",normalized:"chittagong"},{name:"Khulna",normalized:"khulna"},{name:"Rajshahi",normalized:"rajshahi"},{name:"Sylhet",normalized:"sylhet"},{name:"Rangpur",normalized:"rangpur"},{name:"Barisal",normalized:"barisal"},{name:"Mymensingh",normalized:"mymensingh"},{name:"Comilla",normalized:"comilla"},{name:"Gazipur",normalized:"gazipur"},{name:"Narayanganj",normalized:"narayanganj"},{name:"Cox's Bazar",normalized:"coxs bazar"},{name:"Jessore",normalized:"jessore"},{name:"Bogra",normalized:"bogra"},{name:"Dinajpur",normalized:"dinajpur"},{name:"Tangail",normalized:"tangail"},{name:"Noakhali",normalized:"noakhali"},{name:"Brahmanbaria",normalized:"brahmanbaria"},{name:"Narsingdi",normalized:"narsingdi"},{name:"Faridpur",normalized:"faridpur"},{name:"Pabna",normalized:"pabna"},{name:"Jamalpur",normalized:"jamalpur"},{name:"Kushtia",normalized:"kushtia"},{name:"Habiganj",normalized:"habiganj"},{name:"Moulvibazar",normalized:"moulvibazar"},{name:"Sunamganj",normalized:"sunamganj"},{name:"Netrokona",normalized:"netrokona"},{name:"Sherpur",normalized:"sherpur"},{name:"Kishoreganj",normalized:"kishoreganj"},{name:"Manikganj",normalized:"manikganj"},{name:"Munshiganj",normalized:"munshiganj"},{name:"Madaripur",normalized:"madaripur"},{name:"Gopalganj",normalized:"gopalganj"},{name:"Shariatpur",normalized:"shariatpur"},{name:"Rajbari",normalized:"rajbari"},{name:"Satkhira",normalized:"satkhira"},{name:"Bagerhat",normalized:"bagerhat"},{name:"Narail",normalized:"narail"},{name:"Magura",normalized:"magura"},{name:"Jhenaidah",normalized:"jhenaidah"},{name:"Meherpur",normalized:"meherpur"},{name:"Chuadanga",normalized:"chuadanga"},{name:"Kurigram",normalized:"kurigram"},{name:"Lalmonirhat",normalized:"lalmonirhat"},{name:"Nilphamari",normalized:"nilphamari"},{name:"Gaibandha",normalized:"gaibandha"},{name:"Thakurgaon",normalized:"thakurgaon"},{name:"Panchagarh",normalized:"panchagarh"},{name:"Joypurhat",normalized:"joypurhat"},{name:"Naogaon",normalized:"naogaon"},{name:"Natore",normalized:"natore"},{name:"Nawabganj",normalized:"nawabganj"},{name:"Sirajganj",normalized:"sirajganj"},{name:"Pirojpur",normalized:"pirojpur"},{name:"Jhalokati",normalized:"jhalokati"},{name:"Barguna",normalized:"barguna"},{name:"Patuakhali",normalized:"patuakhali"},{name:"Bhola",normalized:"bhola"},{name:"Feni",normalized:"feni"},{name:"Lakshmipur",normalized:"lakshmipur"},{name:"Chandpur",normalized:"chandpur"},{name:"Bandarban",normalized:"bandarban"},{name:"Rangamati",normalized:"rangamati"},{name:"Khagrachari",normalized:"khagrachari"}];var Vz=[1,3,5,2];async function Yz(z){let j=Z.getState(),S={...j.settings};if(!S.timeFormat)S.timeFormat="12h";if(!S.theme)S.theme="dark";let u=j.methods;if(!u)try{u=await k1(),Z.setState({methods:u})}catch{u=[{id:1,name:"University of Islamic Sciences, Karachi"},{id:3,name:"Muslim World League"},{id:5,name:"Egyptian General Authority of Survey"},{id:2,name:"Islamic Society of North America (ISNA)"}]}let k=document.createDocumentFragment();k.appendChild(A("h1",{className:"page-title"},"Settings"));let q=A("div",{className:"settings-form"}),$=A("div",{className:"form-group"});$.appendChild(A("label",{className:"form-label"},"City"));let E=A("select",{className:"form-select","aria-label":"Select city"});for(let Q of g1){let K=A("option",{value:Q.name});if(K.textContent=Q.name,Q.normalized===S.city)K.selected=!0;E.appendChild(K)}E.addEventListener("change",()=>{let Q=g1.find((K)=>K.name===E.value);if(Q)S.city=Q.normalized,S.cityDisplay=Q.name}),$.appendChild(E),q.appendChild($);let J=A("div",{className:"form-group"});J.appendChild(A("label",{className:"form-label"},"Calculation Method"));let N=A("select",{className:"form-select","aria-label":"Select calculation method"}),O=u.filter((Q)=>Vz.includes(Q.id)),U=u.filter((Q)=>!Vz.includes(Q.id));for(let Q of O){let K=A("option",{value:String(Q.id)});if(K.textContent=Q.id===1?`★ ${Q.name} (Recommended)`:Q.name,Q.id===S.methodId)K.selected=!0;N.appendChild(K)}if(U.length>0){let Q=A("optgroup",{label:"Other methods"});for(let K of U){let _=A("option",{value:String(K.id)});if(_.textContent=K.name,K.id===S.methodId)_.selected=!0;Q.appendChild(_)}N.appendChild(Q)}N.addEventListener("change",()=>{let Q=parseInt(N.value),K=u.find((_)=>_.id===Q);if(K)S.methodId=Q,S.methodName=K.name}),J.appendChild(N),J.appendChild(A("div",{className:"form-hint"},"★ Recommended for Bangladesh")),q.appendChild(J);let H=A("div",{className:"form-group"});H.appendChild(A("label",{className:"form-label"},"Asr Calculation"));let X=A("div",{className:"radio-group"}),G=A("label",{className:"radio-option"}),F=A("input",{type:"radio",name:"school",value:"1"});if(S.school===1)F.checked=!0;F.addEventListener("change",()=>{S.school=1}),G.appendChild(F),G.appendChild(document.createTextNode(" Hanafi (recommended)")),X.appendChild(G);let x=A("label",{className:"radio-option"}),W=A("input",{type:"radio",name:"school",value:"0"});if(S.school===0)W.checked=!0;W.addEventListener("change",()=>{S.school=0}),x.appendChild(W),x.appendChild(document.createTextNode(" Shafi")),X.appendChild(x),H.appendChild(X),q.appendChild(H);let P=A("div",{className:"form-group"});P.appendChild(A("label",{className:"form-label"},"Theme"));let T1=A("div",{className:"radio-group"});for(let Q of["dark","light","system"]){let K=A("label",{className:"radio-option"}),_=A("input",{type:"radio",name:"theme",value:Q});if(S.theme===Q)_.checked=!0;_.addEventListener("change",()=>{S.theme=Q}),K.appendChild(_),K.appendChild(document.createTextNode(` ${Q.charAt(0).toUpperCase()+Q.slice(1)}`)),T1.appendChild(K)}P.appendChild(T1),q.appendChild(P);let U1=A("div",{className:"form-group"});U1.appendChild(A("label",{className:"form-label"},"Time Format"));let Z1=A("div",{className:"radio-group radio-group-row"}),X1=A("label",{className:"radio-option"}),H1=A("input",{type:"radio",name:"timeFormat",value:"12h"});if(S.timeFormat==="12h")H1.checked=!0;H1.addEventListener("change",()=>{S.timeFormat="12h"}),X1.appendChild(H1),X1.appendChild(document.createTextNode(" 12-hour (4:52 AM)")),Z1.appendChild(X1);let Q1=A("label",{className:"radio-option"}),F1=A("input",{type:"radio",name:"timeFormat",value:"24h"});if(S.timeFormat==="24h")F1.checked=!0;F1.addEventListener("change",()=>{S.timeFormat="24h"}),Q1.appendChild(F1),Q1.appendChild(document.createTextNode(" 24-hour (04:52)")),Z1.appendChild(Q1),U1.appendChild(Z1),q.appendChild(U1);let w=A("button",{className:"btn-save"},"\uD83D\uDCBE Save Settings");if(!g.isOnline())w.disabled=!0,w.title="Connect to update";w.addEventListener("click",async()=>{w.disabled=!0,w.textContent="Saving...",X2(S.theme),d1(S);let Q=I(),K=B(),_=T(j.settings.city,j.settings.methodId,j.settings.school,Q,K),az=T(S.city,S.methodId,S.school,Q,K);if(_!==az){let z1=await q1(S,Q,K);if(z1.data)Z.setState({settings:S,currentMonthData:z1.data,todayData:z1.data.days.find((Dz)=>{let b1=new Date,Pz=String(b1.getDate()).padStart(2,"0"),Tz=String(b1.getMonth()+1).padStart(2,"0");return Dz.dateGregorian===`${Pz}-${Tz}-${b1.getFullYear()}`})||null});else Z.setState({settings:S,error:z1.error||null})}else Z.setState({settings:S});H2("Settings saved"),l.navigate("today")}),q.appendChild(w),k.appendChild(q);let C1=A("div",{className:"settings-footer"});C1.innerHTML=`
    Data provided by <a href="https://aladhan.com" target="_blank" rel="noopener">AlAdhan.com</a><br>
    App version 1.1.0
  `,k.appendChild(C1),V(z,k)}function X2(z){if(z==="system"){let j=window.matchMedia("(prefers-color-scheme: dark)").matches;document.documentElement.setAttribute("data-theme",j?"dark":"light")}else document.documentElement.setAttribute("data-theme",z)}function H2(z){let j=document.querySelector(".toast");if(!j)j=A("div",{className:"toast"}),document.body.appendChild(j);j.textContent=z,j.classList.add("show"),setTimeout(()=>j.classList.remove("show"),2000)}var N1=null;function _z(){if(N1)return Promise.resolve(N1);return new Promise((z,j)=>{let S=indexedDB.open(h,m);S.onsuccess=()=>{N1=S.result,z(N1)},S.onerror=()=>j(S.error)})}async function v1(){try{let z=await _z();return new Promise((j,S)=>{let q=z.transaction("duaFavorites","readonly").objectStore("duaFavorites").getAll();q.onsuccess=()=>{let $=(q.result||[]).map((E)=>E.duaId);j(new Set($))},q.onerror=()=>S(q.error)})}catch{return new Set}}async function Iz(z){try{let j=await _z(),u=(await v1()).has(z);return new Promise((k,q)=>{let $=j.transaction("duaFavorites","readwrite"),E=$.objectStore("duaFavorites");if(u)E.delete(z);else E.put({duaId:z});$.oncomplete=()=>k(!u),$.onerror=()=>q($.error)})}catch{return!1}}function J1(z){let j=document.querySelector(".toast");if(!j)j=A("div",{className:"toast"}),document.body.appendChild(j);j.textContent=z,j.classList.add("show"),setTimeout(()=>j.classList.remove("show"),2000)}function Bz(z,j,S){let u=A("div",{className:"dua-card"}),k=A("div",{className:"dua-card-header"});k.appendChild(A("span",{className:"dua-card-title"},z.titleEn)),u.appendChild(k),u.appendChild(A("div",{className:"dua-arabic",lang:"ar",dir:"rtl"},z.arabicText)),u.appendChild(A("div",{className:"dua-transliteration"},z.transliteration)),u.appendChild(A("div",{className:"dua-translation"},z.translationEn)),u.appendChild(A("div",{className:"dua-source"},`\uD83D\uDCD6 ${z.source}`));let q=A("div",{className:"dua-actions"}),$=A("button",{className:"dua-action-btn","aria-label":"Copy Arabic"},"\uD83D\uDCCB Arabic");$.addEventListener("click",async()=>{try{await navigator.clipboard.writeText(z.arabicText),J1("Arabic text copied")}catch{J1("Copy failed")}});let E=A("button",{className:"dua-action-btn","aria-label":"Copy Translation"},"\uD83D\uDCCB English");E.addEventListener("click",async()=>{try{await navigator.clipboard.writeText(z.translationEn),J1("Translation copied")}catch{J1("Copy failed")}});let J=A("button",{className:`dua-fav-btn${j?" active":""}`,"aria-label":j?"Remove from favorites":"Add to favorites"},j?"♥":"♡");return J.addEventListener("click",()=>S(z.id)),q.appendChild($),q.appendChild(E),q.appendChild(J),u.appendChild(q),u}var lz=[{id:"iftar-1",titleEn:"Dua for Breaking Fast",arabicText:"اللَّهُمَّ إِنِّي لَكَ صُمْتُ وَبِكَ آمَنْتُ وَعَلَى رِزْقِكَ أَفْطَرْتُ",transliteration:"Allahumma inni laka sumtu wa bika aamantu wa 'ala rizqika aftartu",translationEn:"O Allah! I fasted for You and I believe in You and I break my fast with Your sustenance.",category:"iftar",source:"Abu Dawud 2358"},{id:"iftar-2",titleEn:"Dua When Breaking Fast",arabicText:"ذَهَبَ الظَّمَأُ وَابْتَلَّتِ الْعُرُوقُ وَثَبَتَ الْأَجْرُ إِنْ شَاءَ اللَّهُ",transliteration:"Dhahaba al-zama'u wabtallatil-'urooqu wa thabatal-ajru inshaa'Allah",translationEn:"The thirst has gone, the veins are moistened, and the reward is confirmed, if Allah wills.",category:"iftar",source:"Abu Dawud 2357"},{id:"sehri-1",titleEn:"Intention for Fasting (Niyyah)",arabicText:"وَبِصَوْمِ غَدٍ نَوَيْتُ مِنْ شَهْرِ رَمَضَانَ",transliteration:"Wa bisawmi ghadin nawaytu min shahri ramadan",translationEn:"I intend to keep the fast for tomorrow in the month of Ramadan.",category:"sehri",source:"Abu Dawud 2454"},{id:"sehri-2",titleEn:"Dua Before Eating Sehri",arabicText:"بِسْمِ اللَّهِ وَعَلَى بَرَكَةِ اللَّهِ",transliteration:"Bismillahi wa 'ala barakatillah",translationEn:"In the name of Allah and with the blessings of Allah.",category:"sehri",source:"General practice"},{id:"general-1",titleEn:"Dua for Forgiveness",arabicText:"رَبَّنَا اغْفِرْ لِي وَلِوَالِدَيَّ وَلِلْمُؤْمِنِينَ يَوْمَ يَقُومُ الْحِسَابُ",transliteration:"Rabbana-ghfir li wa li-walidayya wa lil-mu'mineena yawma yaqoomul-hisaab",translationEn:"Our Lord, forgive me and my parents and the believers the Day the account is established.",category:"general",source:"Quran 14:41"},{id:"general-2",titleEn:"Dua for Mercy",arabicText:"رَبِّ اغْفِرْ وَارْحَمْ وَأَنْتَ خَيْرُ الرَّاحِمِينَ",transliteration:"Rabbighfir warham wa anta khairur-raahimeen",translationEn:"My Lord, forgive and have mercy, and You are the best of the merciful.",category:"general",source:"Quran 23:118"},{id:"general-3",titleEn:"Dua of the Fasting Person",arabicText:"إِنَّ لِلصَّائِمِ عِنْدَ فِطْرِهِ لَدَعْوَةً مَا تُرَدُّ",transliteration:"Inna lis-saa'imi 'inda futrihi lada'watan maa turaddu",translationEn:"The fasting person has a supplication at the time of breaking fast that is not rejected.",category:"general",source:"Ibn Majah 1753"},{id:"general-4",titleEn:"Dua for Guidance",arabicText:"اللَّهُمَّ إِنِّي أَسْأَلُكَ الْهُدَى وَالتُّقَى وَالْعَفَافَ وَالْغِنَى",transliteration:"Allahumma inni as'alukal-huda wat-tuqa wal-'afaafa wal-ghina",translationEn:"O Allah, I ask You for guidance, piety, chastity and self-sufficiency.",category:"general",source:"Muslim 2721"},{id:"qadr-1",titleEn:"Dua for Laylatul Qadr",arabicText:"اللَّهُمَّ إِنَّكَ عَفُوٌّ تُحِبُّ الْعَفْوَ فَاعْفُ عَنِّي",transliteration:"Allahumma innaka 'afuwwun tuhibbul-'afwa fa'fu 'anni",translationEn:"O Allah, You are Pardoning and You love to pardon, so pardon me.",category:"laylatul-qadr",source:"Tirmidhi 3513"},{id:"qadr-2",titleEn:"Seeking the Night of Power",arabicText:"اللَّهُمَّ إِنِّي أَسْأَلُكَ مِنْ فَضْلِكَ وَرَحْمَتِكَ فَإِنَّهُ لَا يَمْلِكُهَا إِلَّا أَنْتَ",transliteration:"Allahumma inni as'aluka min fadlika wa rahmatika fa innahu laa yamlikuhaa illaa anta",translationEn:"O Allah, I ask You from Your bounty and mercy, for none possesses them except You.",category:"laylatul-qadr",source:"Al-Tabarani"}];var F2=[{id:"sehri",label:"Sehri"},{id:"iftar",label:"Iftar"},{id:"general",label:"General"},{id:"laylatul-qadr",label:"Laylatul Qadr"},{id:"favorites",label:"♥ Favorites"}],f="iftar",i="";async function t(z){let j=await v1(),S=document.createDocumentFragment();S.appendChild(A("h1",{className:"page-title"},"Duas"));let u=A("div",{className:"dua-search-wrap"}),k=A("input",{className:"dua-search",type:"text",placeholder:"\uD83D\uDD0D Search duas...",value:i});k.addEventListener("input",()=>{i=k.value,t(z)}),u.appendChild(k),S.appendChild(u);let q=A("div",{className:"category-tabs-wrap"}),$=A("div",{className:"category-tabs",role:"tablist"});for(let N of F2){let O=A("button",{className:`category-tab${N.id===f?" active":""}`,role:"tab","aria-selected":N.id===f?"true":"false"},N.label);O.addEventListener("click",()=>{f=N.id,t(z)}),$.appendChild(O)}q.appendChild($),S.appendChild(q);let E=lz,J;if(f==="favorites")J=E.filter((N)=>j.has(N.id));else J=E.filter((N)=>N.category===f);if(i.trim()){let N=i.toLowerCase();J=J.filter((O)=>O.titleEn.toLowerCase().includes(N)||O.transliteration.toLowerCase().includes(N)||O.translationEn.toLowerCase().includes(N))}if(J.length===0){let N=A("div",{className:"error-state"});N.appendChild(A("div",{className:"error-icon"},f==="favorites"?"♡":"\uD83E\uDD32")),N.appendChild(A("div",{className:"error-message"},i?"No duas match your search.":f==="favorites"?"No favorites yet. Tap the heart on any dua to save it.":"No duas in this category.")),S.appendChild(N)}else for(let N of J)S.appendChild(Bz(N,j.has(N.id),async(O)=>{await Iz(O),t(z)}));if(V(z,S),i){let N=z.querySelector(".dua-search");if(N)N.focus(),N.setSelectionRange(N.value.length,N.value.length)}}var O1=null;function a1(){if(O1)return Promise.resolve(O1);return new Promise((z,j)=>{let S=indexedDB.open(h,m);S.onsuccess=()=>{O1=S.result,z(O1)},S.onerror=()=>j(S.error)})}async function D1(){try{let z=await a1();return new Promise((j,S)=>{let q=z.transaction("quranProgress","readonly").objectStore("quranProgress").get("progress");q.onsuccess=()=>j(q.result||{id:"progress",completedDays:[],lastUpdated:""}),q.onerror=()=>S(q.error)})}catch{return{completedDays:[],lastUpdated:""}}}async function P1(z){let j=await D1(),S=j.completedDays.indexOf(z);if(S>=0)j.completedDays.splice(S,1);else j.completedDays.push(z),j.completedDays.sort((u,k)=>u-k);j.lastUpdated=new Date().toISOString();try{let u=await a1();await new Promise((k,q)=>{let $=u.transaction("quranProgress","readwrite");$.objectStore("quranProgress").put({id:"progress",...j}),$.oncomplete=()=>k(),$.onerror=()=>q($.error)})}catch{}return j}async function Lz(){try{let z=await a1();await new Promise((j,S)=>{let u=z.transaction("quranProgress","readwrite");u.objectStore("quranProgress").put({id:"progress",completedDays:[],lastUpdated:new Date().toISOString()}),u.oncomplete=()=>j(),u.onerror=()=>S(u.error)})}catch{}}function Rz(z,j,S,u){let k="quran-day-card";if(j)k+=" completed";if(S)k+=" today";let q=A("div",{className:k,id:S?"quran-today":void 0}),$=A("div",{className:"quran-day-info"});$.appendChild(A("div",{className:"quran-day-num"},`Day ${z.day} · Juz ${z.juz}`)),$.appendChild(A("div",{className:"quran-day-surah"},`${z.surahStart} ${z.ayahStart} – ${z.surahEnd} ${z.ayahEnd}`)),$.appendChild(A("div",{className:"quran-day-pages"},`Pages ${z.pages}`));let E=A("div",{className:"quran-checkbox"},j?"☑":"☐");return q.appendChild($),q.appendChild(E),q.addEventListener("click",()=>u(z.day)),q}var gz=[{day:1,juz:1,surahStart:"Al-Fatiha",ayahStart:1,surahEnd:"Al-Baqarah",ayahEnd:141,pages:"1–20"},{day:2,juz:2,surahStart:"Al-Baqarah",ayahStart:142,surahEnd:"Al-Baqarah",ayahEnd:252,pages:"21–40"},{day:3,juz:3,surahStart:"Al-Baqarah",ayahStart:253,surahEnd:"Al-Imran",ayahEnd:92,pages:"41–60"},{day:4,juz:4,surahStart:"Al-Imran",ayahStart:93,surahEnd:"An-Nisa",ayahEnd:23,pages:"61–80"},{day:5,juz:5,surahStart:"An-Nisa",ayahStart:24,surahEnd:"An-Nisa",ayahEnd:147,pages:"81–100"},{day:6,juz:6,surahStart:"An-Nisa",ayahStart:148,surahEnd:"Al-Ma'idah",ayahEnd:81,pages:"101–120"},{day:7,juz:7,surahStart:"Al-Ma'idah",ayahStart:82,surahEnd:"Al-An'am",ayahEnd:110,pages:"121–140"},{day:8,juz:8,surahStart:"Al-An'am",ayahStart:111,surahEnd:"Al-A'raf",ayahEnd:87,pages:"141–160"},{day:9,juz:9,surahStart:"Al-A'raf",ayahStart:88,surahEnd:"Al-Anfal",ayahEnd:40,pages:"161–180"},{day:10,juz:10,surahStart:"Al-Anfal",ayahStart:41,surahEnd:"At-Tawbah",ayahEnd:92,pages:"181–200"},{day:11,juz:11,surahStart:"At-Tawbah",ayahStart:93,surahEnd:"Hud",ayahEnd:5,pages:"201–220"},{day:12,juz:12,surahStart:"Hud",ayahStart:6,surahEnd:"Yusuf",ayahEnd:52,pages:"221–240"},{day:13,juz:13,surahStart:"Yusuf",ayahStart:53,surahEnd:"Ibrahim",ayahEnd:52,pages:"241–260"},{day:14,juz:14,surahStart:"Al-Hijr",ayahStart:1,surahEnd:"An-Nahl",ayahEnd:128,pages:"261–280"},{day:15,juz:15,surahStart:"Al-Isra",ayahStart:1,surahEnd:"Al-Kahf",ayahEnd:74,pages:"281–300"},{day:16,juz:16,surahStart:"Al-Kahf",ayahStart:75,surahEnd:"Ta-Ha",ayahEnd:135,pages:"301–320"},{day:17,juz:17,surahStart:"Al-Anbiya",ayahStart:1,surahEnd:"Al-Hajj",ayahEnd:78,pages:"321–340"},{day:18,juz:18,surahStart:"Al-Mu'minun",ayahStart:1,surahEnd:"Al-Furqan",ayahEnd:20,pages:"341–360"},{day:19,juz:19,surahStart:"Al-Furqan",ayahStart:21,surahEnd:"An-Naml",ayahEnd:55,pages:"361–380"},{day:20,juz:20,surahStart:"An-Naml",ayahStart:56,surahEnd:"Al-Ankabut",ayahEnd:45,pages:"381–400"},{day:21,juz:21,surahStart:"Al-Ankabut",ayahStart:46,surahEnd:"Al-Ahzab",ayahEnd:30,pages:"401–420"},{day:22,juz:22,surahStart:"Al-Ahzab",ayahStart:31,surahEnd:"Ya-Sin",ayahEnd:27,pages:"421–440"},{day:23,juz:23,surahStart:"Ya-Sin",ayahStart:28,surahEnd:"Az-Zumar",ayahEnd:31,pages:"441–460"},{day:24,juz:24,surahStart:"Az-Zumar",ayahStart:32,surahEnd:"Fussilat",ayahEnd:46,pages:"461–480"},{day:25,juz:25,surahStart:"Fussilat",ayahStart:47,surahEnd:"Al-Jathiyah",ayahEnd:37,pages:"481–500"},{day:26,juz:26,surahStart:"Al-Ahqaf",ayahStart:1,surahEnd:"Al-Hadid",ayahEnd:29,pages:"501–520"},{day:27,juz:27,surahStart:"Al-Mujadila",ayahStart:1,surahEnd:"At-Tahrim",ayahEnd:12,pages:"521–540"},{day:28,juz:28,surahStart:"Al-Mulk",ayahStart:1,surahEnd:"Al-Mursalat",ayahEnd:50,pages:"541–560"},{day:29,juz:29,surahStart:"An-Naba",ayahStart:1,surahEnd:"At-Takwir",ayahEnd:29,pages:"561–580"},{day:30,juz:30,surahStart:"Al-Infitar",ayahStart:1,surahEnd:"An-Nas",ayahEnd:6,pages:"581–604"}];var y="all",e=null;function K2(){let z=Z.getState();if(z.todayData?.isRamadan&&z.todayData.ramadanDay)return z.todayData.ramadanDay;if(z.todayData?.isRamadan)return z.todayData.hijriDay;return null}function x2(z,j){if(e)clearTimeout(e);let S=document.querySelector(".undo-toast");if(S)S.remove();let u=A("div",{className:"undo-toast show"});u.appendChild(A("span",null,z));let k=A("button",{className:"undo-btn"},"Undo");k.addEventListener("click",()=>{if(j(),u.remove(),e)clearTimeout(e)}),u.appendChild(k),document.body.appendChild(u),e=window.setTimeout(()=>{u.classList.remove("show"),setTimeout(()=>u.remove(),300)},4000)}async function r(z){let j=await D1(),S=new Set(j.completedDays),u=gz,k=K2(),q=document.createDocumentFragment(),$=A("div",{className:"quran-title-row"});if($.appendChild(A("h1",{className:"page-title"},"Quran Plan")),k){let F=A("button",{className:"calendar-action-btn"},"\uD83D\uDCCD Go to today");F.addEventListener("click",()=>{let x=z.querySelector("#quran-today");if(x)x.scrollIntoView({behavior:"smooth",block:"center"})}),$.appendChild(F)}q.appendChild($);let E=A("div",{className:"quran-progress"}),J=A("div",{className:"quran-progress-text"},`${S.size}/30 days complete`),N=A("div",{className:"quran-progress-bar"}),O=A("div",{className:"quran-progress-fill"});O.style.width=`${S.size/30*100}%`,N.appendChild(O),E.appendChild(J),E.appendChild(N),q.appendChild(E);let U=A("div",{className:"quran-filters"}),H=[{id:"all",label:"All"},{id:"pending",label:"Pending"},{id:"completed",label:"Completed"}];for(let F of H){let x=A("button",{className:`filter-pill${F.id===y?" active":""}`},F.label);x.addEventListener("click",()=>{y=F.id,r(z)}),U.appendChild(x)}q.appendChild(U);let X=u;if(y==="pending")X=u.filter((F)=>!S.has(F.day));else if(y==="completed")X=u.filter((F)=>S.has(F.day));for(let F of X){let x=F.day===k;q.appendChild(Rz(F,S.has(F.day),x,async(W)=>{let P=S.has(W);await P1(W),x2(P?`Day ${W} marked pending`:`Day ${W} completed`,async()=>{await P1(W),r(z)}),r(z)}))}if(X.length===0){let F=A("div",{className:"error-state"});F.appendChild(A("div",{className:"error-icon"},y==="completed"?"\uD83D\uDCD6":"✅")),F.appendChild(A("div",{className:"error-message"},y==="completed"?"No completed days yet.":"All days completed!")),q.appendChild(F)}let G=A("button",{className:"btn-reset"},"Reset Progress");G.addEventListener("click",async()=>{if(confirm("Are you sure you want to reset all Quran reading progress?"))await Lz(),r(z)}),q.appendChild(G),V(z,q)}async function G2(){w1();let z=r1();if(z.theme==="system"){let k=window.matchMedia("(prefers-color-scheme: dark)").matches;document.documentElement.setAttribute("data-theme",k?"dark":"light"),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",(q)=>{if(Z.getState().settings.theme==="system")document.documentElement.setAttribute("data-theme",q.matches?"dark":"light")})}else document.documentElement.setAttribute("data-theme",z.theme);let j={settings:z,currentMonthData:null,otherMonthData:null,todayData:null,nextPrayer:null,isOnline:navigator.onLine,isLoading:!0,error:null,methods:null};m1(j),g.init(),g.onChange((k)=>{Z.setState({isOnline:k})}),await e1();let S=document.getElementById("app"),u=document.createElement("main");u.setAttribute("role","main"),S.appendChild(Nz()),S.appendChild(u),S.appendChild(Ez()),l.onRouteChange((k)=>{vz(k,u)});try{let{current:k,other:q}=await qz(z);Z.setState({currentMonthData:k.data,otherMonthData:q?.data||null,isLoading:!1,error:k.source==="error"?k.error||"Failed to load data":null});let $=Qz();Z.setState({todayData:$})}catch(k){Z.setState({isLoading:!1,error:k.message||"Failed to load prayer times"})}if(k1().then((k)=>Z.setState({methods:k})).catch(()=>{}),l.init(),!window.location.hash||window.location.hash==="#/"||window.location.hash==="#")vz("today",u);if("serviceWorker"in navigator)navigator.serviceWorker.register("/sw.js").catch(()=>{})}function vz(z,j){switch(Hz(),z){case"today":B1(j);break;case"calendar":D(j);break;case"settings":Yz(j);break;case"duas":t(j);break;case"quran":r(j);break}}G2().catch(console.error);
