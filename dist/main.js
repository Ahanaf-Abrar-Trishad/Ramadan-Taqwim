var I1="@vercel/analytics",Y1="1.6.1",_1=()=>{if(window.va)return;window.va=function(...l){(window.vaq=window.vaq||[]).push(l)}};function ga(){return typeof window<"u"}function Da(){try{return"development"}catch(a){}return"production"}function v1(a="auto"){if(a==="auto"){window.vam=Da();return}window.vam=a}function B1(){return(ga()?window.vam:Da())||"production"}function Za(){return B1()==="development"}function g1(a){if(a.scriptSrc)return a.scriptSrc;if(Za())return"https://va.vercel-scripts.com/v1/script.debug.js";if(a.basePath)return`${a.basePath}/insights/script.js`;return"/_vercel/insights/script.js"}function Ra(a={debug:!0}){var l;if(!ga())return;if(v1(a.mode),_1(),a.beforeSend)(l=window.va)==null||l.call(window,"beforeSend",a.beforeSend);let z=g1(a);if(document.head.querySelector(`script[src*="${z}"]`))return;let u=document.createElement("script");if(u.src=z,u.defer=!0,u.dataset.sdkn=I1+(a.framework?`/${a.framework}`:""),u.dataset.sdkv=Y1,a.disableAutoTrack)u.dataset.disableAutoTrack="1";if(a.endpoint)u.dataset.endpoint=a.endpoint;else if(a.basePath)u.dataset.endpoint=`${a.basePath}/insights`;if(a.dsn)u.dataset.dsn=a.dsn;if(u.onerror=()=>{let S=Za()?"Please check if any ad blockers are enabled and try again.":"Be sure to enable Web Analytics for your project and deploy again. See https://vercel.com/docs/analytics/quickstart for more information.";console.log(`[Vercel Web Analytics] Failed to load script from ${z}. ${S}`)},Za()&&a.debug===!1)u.dataset.debug="false";document.head.appendChild(u)}class na{state;listeners=new Set;constructor(a){this.state=a}getState(){return this.state}setState(a){this.state={...this.state,...a},this.listeners.forEach((l)=>l(this.state))}subscribe(a){return this.listeners.add(a),()=>this.listeners.delete(a)}}var b;function Ta(a){return b=new na(a),b}var D1={"":"today",today:"today",calendar:"calendar",duas:"duas",quran:"quran",settings:"settings"};class Pa{listeners=new Set;current="today";init(){window.addEventListener("hashchange",()=>this.handleHash()),this.handleHash()}handleHash(){let a=window.location.hash.replace("#/","").replace("#",""),l=D1[a]||"today";if(l!==this.current)this.current=l,this.listeners.forEach((z)=>z(l))}navigate(a){window.location.hash=`#/${a==="today"?"":a}`}getCurrentRoute(){return this.current}onRouteChange(a){return this.listeners.add(a),()=>this.listeners.delete(a)}}var I=new Pa;var o={city:"dhaka",cityDisplay:"Dhaka",methodId:1,methodName:"University of Islamic Sciences, Karachi",school:1,theme:"dark",timeFormat:"12h",lastSaved:""};var Ca="Ramadan Taqwim",ha="https://api.aladhan.com/v1",fa="Bangladesh",ma=86400000,wa=1e4,n="ramadan-bd",T=1,Xa="ramadan-bd-settings",La=9;function Ma(){try{let a=localStorage.getItem(Xa);if(!a)return{...o};let l=JSON.parse(a);return{...o,...l}}catch{return{...o}}}function ca(a){a.lastSaved=new Date().toISOString(),localStorage.setItem(Xa,JSON.stringify(a))}function v(a,l,z,u,S){return`aladhan:${a}:${l}:${z}:${u}:${S}`}var t=null;function Va(){if(t)return Promise.resolve(t);return new Promise((a,l)=>{let z=indexedDB.open(n,T);z.onupgradeneeded=()=>{let u=z.result;if(!u.objectStoreNames.contains("monthTimings"))u.createObjectStore("monthTimings",{keyPath:"cacheKey"});if(!u.objectStoreNames.contains("duaFavorites"))u.createObjectStore("duaFavorites",{keyPath:"duaId"});if(!u.objectStoreNames.contains("quranProgress"))u.createObjectStore("quranProgress",{keyPath:"id"})},z.onsuccess=()=>{t=z.result,a(t)},z.onerror=()=>l(z.error)})}async function ia(a){try{let l=await Va();return new Promise((z,u)=>{let E=l.transaction("monthTimings","readonly").objectStore("monthTimings").get(a);E.onsuccess=()=>z(E.result||null),E.onerror=()=>u(E.error)})}catch{return null}}async function da(a){try{let l=await Va();return new Promise((z,u)=>{let S=l.transaction("monthTimings","readwrite");S.objectStore("monthTimings").put(a),S.oncomplete=()=>z(),S.onerror=()=>u(S.error)})}catch{}}function pa(a){let l=new Date(a.fetchedAt).getTime();return Date.now()-l<ma}async function ya(){try{await Va()}catch{console.warn("IndexedDB unavailable — using in-memory only")}}async function Fa(a){let l=null;for(let z=0;z<2;z++)try{let u=new AbortController,S=setTimeout(()=>u.abort(),wa),j=await fetch(a,{signal:u.signal});if(clearTimeout(S),!j.ok)throw Error(`HTTP ${j.status}: ${j.statusText}`);return await j.json()}catch(u){if(l=u,u.name!=="AbortError"&&!u.message?.includes("fetch"))throw u;if(z===0)await new Promise((S)=>setTimeout(S,1000))}throw l||Error("Fetch failed")}var R1=86400000,n1={2026:{startGregorian:"19-02-2026",hijriYear:1447,dayCount:30}};function ra(a){let[l,z,u]=a.split("-").map(Number);return Math.floor(Date.UTC(u,z-1,l)/R1)}function T1(a){let[,,l]=a.split("-").map(Number);return n1[l]||null}function P1(a){let l=T1(a.dateGregorian);if(!l)return a;let z=ra(a.dateGregorian),u=ra(l.startGregorian),S=z-u;if(S>=0&&S<l.dayCount){let j=S+1;return{...a,hijriMonth:La,hijriDay:j,hijriYear:l.hijriYear,hijriDisplay:`${j} Ramaḍān ${l.hijriYear}`,isRamadan:!0}}if(S===l.dayCount&&a.hijriMonth===10&&a.hijriDay>1){let j=a.hijriDay-1;return{...a,hijriDay:j,hijriYear:l.hijriYear,hijriDisplay:`${j} Shawwāl ${l.hijriYear}`,isRamadan:!1}}if(S===-1&&a.hijriMonth===La&&a.hijriDay===1)return{...a,hijriMonth:8,hijriDay:30,hijriYear:l.hijriYear,hijriDisplay:`30 Shaʿbān ${l.hijriYear}`,isRamadan:!1};return a}function e(a){return a.map(P1)}function B(a){return a.replace(/\s*\(.*\)$/,"").trim()}function C1(a){let l=a.timings,z=a.date.hijri,u=a.date.gregorian,S=B(l.Fajr||""),j=[...z.holidays||[],...z.adjustedHolidays||[]],E={Fajr:S,Sunrise:B(l.Sunrise||""),Dhuhr:B(l.Dhuhr||""),Asr:B(l.Asr||""),Maghrib:B(l.Maghrib||""),Isha:B(l.Isha||""),SehriEnds:S,SehriEndsLabel:"Fajr",Iftar:B(l.Maghrib||"")};return{dateGregorian:u.date,dateReadable:a.date.readable,timestamp:parseInt(a.date.timestamp,10),weekday:u.weekday.en,hijriDisplay:`${z.day} ${z.month.en} ${z.year}`,hijriMonth:z.month.number,hijriDay:parseInt(z.day,10),hijriYear:parseInt(z.year,10),isRamadan:z.month.number===9,ramadanDay:z.month.number===9?parseInt(z.day,10):null,holidays:j,prayers:E}}function sa(a,l){let z=e(a.map(C1));return{cacheKey:l,fetchedAt:new Date().toISOString(),days:z}}var aa=null;async function la(){if(aa)return aa;let a=await Fa(`${ha}/methods`);return aa=Object.values(a.data).filter((l)=>l.id!==99).map((l)=>({id:l.id,name:l.name})).sort((l,z)=>l.id-z.id),aa}async function oa(a){let{city:l,year:z,month:u,methodId:S,school:j}=a,E=new URL(`${ha}/calendarByCity/${z}/${u}`);E.searchParams.set("city",l),E.searchParams.set("country",fa),E.searchParams.set("method",String(S)),E.searchParams.set("school",String(j));let k=await Fa(E.toString()),q=v(l.toLowerCase(),S,j,z,u);return sa(k.data,q)}function za(){let a=new Date,l=String(a.getDate()).padStart(2,"0"),z=String(a.getMonth()+1).padStart(2,"0"),u=a.getFullYear();return`${l}-${z}-${u}`}function Q(){return new Date().getFullYear()}function W(){return new Date().getMonth()+1}function ta(a){return["","January","February","March","April","May","June","July","August","September","October","November","December"][a]||""}function ea(){return new Date().toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}function a1(a){return{...a,days:e(a.days)}}async function d(a,l,z){let u=l??Q(),S=z??W(),j=v(a.city,a.methodId,a.school,u,S),E=await ia(j);if(E){let k=a1(E);if(pa(E))return{data:k,source:"fresh-cache"};return f1(a,u,S),{data:k,source:"stale-cache"}}return ua(a,u,S)}async function ua(a,l,z){try{let u=await oa({city:a.cityDisplay,year:l,month:z,methodId:a.methodId,school:a.school}),S=a1(u);return await da(S),{data:S,source:"network"}}catch(u){return{data:null,source:"error",error:u.message}}}function f1(a,l,z){ua(a,l,z).catch(()=>{})}async function l1(a){let l=Q(),z=W(),u=await d(a,l,z),S=null;if(z===2)S=await d(a,l,3);else if(z===3)S=await d(a,l,2);return{current:u,other:S}}class z1{online=navigator.onLine;listeners=new Set;init(){window.addEventListener("online",()=>this.update(!0)),window.addEventListener("offline",()=>this.update(!1))}update(a){this.online=a,this.listeners.forEach((l)=>l(a))}isOnline(){return this.online}onChange(a){return this.listeners.add(a),()=>this.listeners.delete(a)}}var _=new z1;function A(a,l,...z){let u=document.createElement(a);if(l)for(let[S,j]of Object.entries(l))if(S==="className")u.className=j;else if(S==="textContent")u.textContent=j;else if(S==="innerHTML")u.innerHTML=j;else u.setAttribute(S,j);for(let S of z)if(typeof S==="string")u.appendChild(document.createTextNode(S));else u.appendChild(S);return u}function L(a,...l){a.innerHTML="";for(let z of l)a.appendChild(z)}var m1=[{route:"today",icon:"☪",label:"Today"},{route:"calendar",icon:"\uD83D\uDCC5",label:"Calendar"},{route:"duas",icon:"\uD83E\uDD32",label:"Duas"},{route:"quran",icon:"\uD83D\uDCD6",label:"Quran"},{route:"settings",icon:"⚙",label:"Settings"}];function u1(){let a=A("nav",{className:"nav-bar",role:"navigation","aria-label":"Main navigation"});function l(){a.innerHTML="";let z=I.getCurrentRoute();for(let u of m1){let S=A("button",{className:`nav-tab${u.route===z?" active":""}`,"aria-label":u.label,"aria-current":u.route===z?"page":""}),j=A("span",{className:"nav-icon","aria-hidden":"true"},u.icon),E=A("span",null,u.label);S.appendChild(j),S.appendChild(E),S.addEventListener("click",()=>I.navigate(u.route)),a.appendChild(S)}}return l(),I.onRouteChange(()=>l()),a}function A1(){let a=A("div",{className:"offline-banner",role:"alert"},"You are offline — showing cached data");function l(z){a.classList.toggle("show",!z)}return l(_.isOnline()),_.onChange(l),a}var P=["Fajr","Sunrise","Dhuhr","Asr","Maghrib","Isha"];function C(a){let[l,z]=a.split(":").map(Number);return l*60+z}function Aa(a){if(a<=0)return"0m 0s";let l=Math.floor(a/1000),z=Math.floor(l/3600),u=Math.floor(l%3600/60),S=l%60;if(z>0)return`${z}h ${u}m ${S}s`;if(u>0)return`${u}m ${S}s`;return`${S}s`}function w1(a){let[l,z]=a.split(":").map(Number),u=l>=12?"PM":"AM";return`${l%12||12}:${String(z).padStart(2,"0")} ${u}`}function h(a,l){if(l==="12h")return w1(a);return a}function Sa(a){let l=new Date,z=l.getHours()*60+l.getMinutes(),u=l.getHours()*3600000+l.getMinutes()*60000+l.getSeconds()*1000;for(let S of P){let j=a.prayers[S],E=C(j);if(E>z){let q=E*60000-u,N=P.indexOf(S)-1,J=N>=0?a.prayers[P[N]]:"00:00",$=C(J),U=E-$,X=z-$,x=U>0?Math.min(1,Math.max(0,X/U)):0;return{name:S,time:j,prevTime:J,remainingMs:q,remainingDisplay:Aa(q),progress:x}}}return null}function S1(a){let l=new Date,z=l.getHours()*60+l.getMinutes();return C(a)<=z}function j1(a,l){return l?.name===a}function ja(a){if(!a.isRamadan)return null;let l=new Date,z=l.getHours()*3600000+l.getMinutes()*60000+l.getSeconds()*1000,u=a.prayers.SehriEnds,S=a.prayers.Iftar,j=C(u)*60000,E=C(S)*60000;if(z<j){let k=j-z,q=j,N=q>0?Math.min(1,Math.max(0,z/q)):0;return{label:"Sehri Ends In",targetTime:u,startTime:"00:00",remainingMs:k,remainingDisplay:Aa(k),progress:N,type:"sehri"}}if(z<E){let k=E-z,q=E-j,N=z-j,J=q>0?Math.min(1,Math.max(0,N/q)):0;return{label:"Iftar In",targetTime:S,startTime:u,remainingMs:k,remainingDisplay:Aa(k),progress:J,type:"iftar"}}return null}function E1(a){let l=A("div",{className:"hero-container"}),z=b.getState().settings.timeFormat,u=A("div",{className:"hero-card"});u.appendChild(A("div",{className:"hero-label"},"Sehri Ends")),u.appendChild(A("div",{className:"hero-time"},h(a.SehriEnds,z))),u.appendChild(A("div",{className:"hero-sublabel"},"(Fajr)"));let S=A("div",{className:"hero-card"});return S.appendChild(A("div",{className:"hero-label"},"Iftar")),S.appendChild(A("div",{className:"hero-time"},h(a.Iftar,z))),S.appendChild(A("div",{className:"hero-sublabel"},"(Maghrib)")),l.appendChild(u),l.appendChild(S),l}function Ka(a,l,z){let u=A("section",{className:"countdown-hero","aria-live":"polite"}),S=b.getState().settings.timeFormat,j=z==="iftar"&&a,E=z==="next-prayer"&&l;if(j&&a){u.classList.add(a.type);let k=a.type==="sehri"?"\uD83C\uDF19":"\uD83C\uDF05",q=A("div",{className:"hero-cd-label"});q.innerHTML=`${k} <span class="hero-cd-type">${a.label}</span>`,u.appendChild(q),u.appendChild(A("div",{className:"hero-cd-time"},a.remainingDisplay));let N=A("div",{className:"hero-cd-bar-wrap"}),J=A("div",{className:"hero-cd-bar"}),$=A("div",{className:`hero-cd-bar-fill ${a.type}`});$.style.width=`${Math.round(a.progress*100)}%`,J.appendChild($),N.appendChild(J);let U=A("div",{className:"hero-cd-bar-labels"});U.appendChild(A("span",null,h(a.startTime,S))),U.appendChild(A("span",null,h(a.targetTime,S))),N.appendChild(U),u.appendChild(N)}else if(E&&l){u.classList.add("next-prayer");let k=A("div",{className:"hero-cd-label"});k.innerHTML=`\uD83D\uDD4C <span class="hero-cd-type">Next: ${l.name}</span>`,u.appendChild(k),u.appendChild(A("div",{className:"hero-cd-time"},l.remainingDisplay));let q=A("div",{className:"hero-cd-bar-wrap"}),N=A("div",{className:"hero-cd-bar"}),J=A("div",{className:"hero-cd-bar-fill gold"});J.style.width=`${Math.round(l.progress*100)}%`,N.appendChild(J),q.appendChild(N);let $=A("div",{className:"hero-cd-bar-labels"});$.appendChild(A("span",null,h(l.prevTime,S))),$.appendChild(A("span",null,h(l.time,S))),q.appendChild($),u.appendChild(q)}else if(a){u.classList.add(a.type);let k=a.type==="sehri"?"\uD83C\uDF19":"\uD83C\uDF05";u.appendChild(A("div",{className:"hero-cd-label"},`${k} ${a.label}`)),u.appendChild(A("div",{className:"hero-cd-time"},a.remainingDisplay))}else if(l)u.classList.add("next-prayer"),u.appendChild(A("div",{className:"hero-cd-label"},`\uD83D\uDD4C Next: ${l.name}`)),u.appendChild(A("div",{className:"hero-cd-time"},l.remainingDisplay));else u.appendChild(A("div",{className:"hero-cd-label"},"All prayers completed for today"));if(a&&l){let k=A("div",{className:"hero-cd-toggle"}),q=A("button",{className:`toggle-pill${z==="iftar"?" active":""}`},"Iftar"),N=A("button",{className:`toggle-pill${z==="next-prayer"?" active":""}`},"Next Prayer");k.appendChild(q),k.appendChild(N),u.appendChild(k)}return u}function k1(a,l,z,u){let S=b.getState().settings.timeFormat;if(u==="iftar"&&l){a.className=`countdown-hero ${l.type}`;let j=a.querySelector(".hero-cd-type");if(j)j.textContent=l.label;let E=a.querySelector(".hero-cd-time");if(E)E.textContent=l.remainingDisplay;let k=a.querySelector(".hero-cd-bar-fill");if(k)k.style.width=`${Math.round(l.progress*100)}%`,k.className=`hero-cd-bar-fill ${l.type}`;let q=a.querySelectorAll(".hero-cd-bar-labels span");if(q.length===2)q[0].textContent=h(l.startTime,S),q[1].textContent=h(l.targetTime,S)}else if(u==="next-prayer"&&z){a.className="countdown-hero next-prayer";let j=a.querySelector(".hero-cd-type");if(j)j.textContent=`Next: ${z.name}`;let E=a.querySelector(".hero-cd-time");if(E)E.textContent=z.remainingDisplay;let k=a.querySelector(".hero-cd-bar-fill");if(k)k.style.width=`${Math.round(z.progress*100)}%`,k.className="hero-cd-bar-fill gold";let q=a.querySelectorAll(".hero-cd-bar-labels span");if(q.length===2)q[0].textContent=h(z.prevTime,S),q[1].textContent=h(z.time,S)}else if(!l&&!z){let j=a.querySelector(".hero-cd-time");if(j)j.textContent="";let E=a.querySelector(".hero-cd-label");if(E)E.textContent="All prayers completed for today"}}function xa(a,l){let z=A("div",{className:"prayer-list"}),u=b.getState().settings.timeFormat;for(let S of P){let j=a.prayers[S],E=S1(j),k=j1(S,l),q=A("div",{className:`prayer-card${E&&!k?" past":""}${k?" now":""}`}),N=A("div",{className:"prayer-left"});if(N.appendChild(A("span",{className:"prayer-name"},S)),k)N.appendChild(A("span",{className:"prayer-now-badge"},"Now"));let J=A("span",{className:"prayer-time"},h(j,u));q.appendChild(N),q.appendChild(J),z.appendChild(q)}return z}function N1(a){let l=a.school===1?"Hanafi":"Shafi",z=`${a.cityDisplay} · ${a.methodName.split(",")[0]} · ${l}`;return A("div",{className:"transparency-footer"},z)}function p(){let a=A("div",null);a.appendChild(A("div",{className:"skeleton skeleton-line short",style:"height: 24px;"})),a.appendChild(A("div",{className:"skeleton skeleton-line",style:"height: 16px; width: 50%; margin-top: 8px;"}));let l=A("div",{className:"skeleton-hero"});l.appendChild(A("div",{className:"skeleton"})),l.appendChild(A("div",{className:"skeleton"})),a.appendChild(l),a.appendChild(A("div",{className:"skeleton skeleton-card",style:"height: 80px; margin-bottom: 16px;"}));for(let z=0;z<6;z++)a.appendChild(A("div",{className:"skeleton skeleton-card"}));return a}var g=null,f="iftar";function Qa(a){let l=b.getState();if(g)clearInterval(g),g=null;if(l.isLoading&&!l.todayData){L(a,p());return}if(l.error&&!l.todayData){let $=A("div",{className:"error-state"});$.appendChild(A("div",{className:"error-icon"},"⚠")),$.appendChild(A("div",{className:"error-message"},l.error));let U=A("button",{className:"btn-retry"},"Try Again");U.addEventListener("click",()=>{window.location.reload()}),$.appendChild(U),L(a,$);return}let z=l.todayData;if(!z){L(a,p());return}let u=l.settings,S=document.createDocumentFragment(),j=A("header",{className:"page-header"});j.appendChild(A("div",{className:"app-name"},`☪ ${Ca}`)),j.appendChild(A("div",{className:"hijri-date"},z.hijriDisplay)),j.appendChild(A("div",{className:"greg-date"},ea())),S.appendChild(j),S.appendChild(E1(z.prayers));let E=ja(z),k=Sa(z);if(!E)f="next-prayer";let q=Ka(E,k,f);if(q.querySelectorAll(".toggle-pill").forEach(($)=>{$.addEventListener("click",()=>{f=$.textContent==="Iftar"?"iftar":"next-prayer";let U=Ka(ja(z),Sa(z),f);U.querySelectorAll(".toggle-pill").forEach((X)=>{X.addEventListener("click",()=>{f=X.textContent==="Iftar"?"iftar":"next-prayer",Qa(a)})}),q.replaceWith(U)})}),S.appendChild(q),S.appendChild(xa(z,k)),z.isRamadan&&z.ramadanDay){let $=A("div",{className:"ramadan-counter"});$.innerHTML=`Day <strong>${z.ramadanDay}</strong> of Ramaḍān`,S.appendChild($)}else if(z.isRamadan){let $=A("div",{className:"ramadan-counter"});$.innerHTML=`Day <strong>${z.hijriDay}</strong> of Ramaḍān`,S.appendChild($)}S.appendChild(N1(u)),L(a,S);let J=a.querySelector(".countdown-hero");g=window.setInterval(()=>{let $=ja(z),U=Sa(z);if(J)k1(J,$,U,f);if(U?.name!==k?.name){let X=a.querySelector(".prayer-list");if(X){let x=xa(z,U);X.replaceWith(x)}}},1000)}function q1(){if(g)clearInterval(g),g=null}function $1(){let a=b.getState(),l=za();if(a.currentMonthData){let z=a.currentMonthData.days.find((u)=>u.dateGregorian===l);if(z)return z}if(a.otherMonthData){let z=a.otherMonthData.days.find((u)=>u.dateGregorian===l);if(z)return z}return null}function b1(a){let l=a.dateGregorian===za(),z=a.isRamadan,u=a.holidays.some((U)=>U.toLowerCase().includes("lailat")),S=a.holidays.some((U)=>U.toLowerCase().includes("eid")),j=b.getState().settings.timeFormat,E="day-row";if(l)E+=" today";if(!z)E+=" non-ramadan";let k=A("div",{className:E,id:l?"today-row":void 0}),q=A("div",{className:"day-row-header"});q.appendChild(A("span",{className:"day-row-date"},`${a.dateReadable} · ${a.weekday}`)),q.appendChild(A("span",{className:"day-row-hijri"},a.hijriDisplay)),k.appendChild(q);let N=A("div",{className:"day-row-times"}),J=A("span",{className:"day-row-iftar"});J.innerHTML=`Iftar <strong>${h(a.prayers.Iftar,j)}</strong>`;let $=A("span",{className:"day-row-sehri"});if($.innerHTML=`Sehri <strong>${h(a.prayers.SehriEnds,j)}</strong>`,N.appendChild(J),N.appendChild($),k.appendChild(N),l)k.appendChild(A("span",{className:"day-badge today-badge"},"TODAY"));if(u)k.appendChild(A("span",{className:"day-badge holiday-badge"},"⭐ Lailat-ul-Qadr"));if(S)k.appendChild(A("span",{className:"day-badge eid-badge"},"\uD83C\uDF89 Eid ul-Fitr"));return k}var Y=Q(),V=W();function m(a){let l=b.getState(),z=document.createDocumentFragment();z.appendChild(A("h1",{className:"page-title"},"Calendar"));let u=A("div",{className:"month-nav"}),S=A("button",{className:"month-nav-btn","aria-label":"Previous month"},"◀");S.addEventListener("click",()=>J1(-1,a));let j=A("span",{className:"month-nav-title"},`${ta(V)} ${Y}`),E=A("button",{className:"month-nav-btn","aria-label":"Next month"},"▶");E.addEventListener("click",()=>J1(1,a)),u.appendChild(S),u.appendChild(j),u.appendChild(E),z.appendChild(u);let k=Y===Q()&&V===W();if(!k){let N=A("div",{className:"calendar-actions"}),J=A("button",{className:"calendar-action-btn"},"\uD83D\uDCCD Jump to today");J.addEventListener("click",()=>{Y=Q(),V=W(),m(a),requestAnimationFrame(()=>{let U=a.querySelector("#today-row");if(U)U.scrollIntoView({behavior:"smooth",block:"center"})})});let $=A("button",{className:"calendar-action-btn"},"\uD83D\uDCC5 This month");$.addEventListener("click",()=>{Y=Q(),V=W(),m(a)}),N.appendChild(J),N.appendChild($),z.appendChild(N)}let q=M1();if(!q){if(l.isLoading)z.appendChild(p());else{let N=A("div",{className:"error-state"});N.appendChild(A("div",{className:"error-message"},"Loading calendar data...")),z.appendChild(N),c1(a)}L(a,z);return}for(let N of q.days)z.appendChild(b1(N));if(L(a,z),k)requestAnimationFrame(()=>{let N=a.querySelector("#today-row");if(N)N.scrollIntoView({behavior:"smooth",block:"center"})})}function M1(){let a=b.getState();if(a.currentMonthData){let l=a.currentMonthData.days[0];if(l){let[,z,u]=l.dateGregorian.split("-").map(Number);if(z===V&&u===Y)return a.currentMonthData}}if(a.otherMonthData){let l=a.otherMonthData.days[0];if(l){let[,z,u]=l.dateGregorian.split("-").map(Number);if(z===V&&u===Y)return a.otherMonthData}}return null}async function c1(a){let l=b.getState().settings;b.setState({isLoading:!0});let z=await d(l,Y,V);if(z.data)b.setState({otherMonthData:z.data,isLoading:!1});else b.setState({isLoading:!1,error:z.error||"Failed to load calendar"});m(a)}function J1(a,l){if(V+=a,V>12)V=1,Y++;if(V<1)V=12,Y--;m(l)}var Wa=[{name:"Dhaka",normalized:"dhaka"},{name:"Chittagong",normalized:"chittagong"},{name:"Khulna",normalized:"khulna"},{name:"Rajshahi",normalized:"rajshahi"},{name:"Sylhet",normalized:"sylhet"},{name:"Rangpur",normalized:"rangpur"},{name:"Barisal",normalized:"barisal"},{name:"Mymensingh",normalized:"mymensingh"},{name:"Comilla",normalized:"comilla"},{name:"Gazipur",normalized:"gazipur"},{name:"Narayanganj",normalized:"narayanganj"},{name:"Cox's Bazar",normalized:"coxs bazar"},{name:"Jessore",normalized:"jessore"},{name:"Bogra",normalized:"bogra"},{name:"Dinajpur",normalized:"dinajpur"},{name:"Tangail",normalized:"tangail"},{name:"Noakhali",normalized:"noakhali"},{name:"Brahmanbaria",normalized:"brahmanbaria"},{name:"Narsingdi",normalized:"narsingdi"},{name:"Faridpur",normalized:"faridpur"},{name:"Pabna",normalized:"pabna"},{name:"Jamalpur",normalized:"jamalpur"},{name:"Kushtia",normalized:"kushtia"},{name:"Habiganj",normalized:"habiganj"},{name:"Moulvibazar",normalized:"moulvibazar"},{name:"Sunamganj",normalized:"sunamganj"},{name:"Netrokona",normalized:"netrokona"},{name:"Sherpur",normalized:"sherpur"},{name:"Kishoreganj",normalized:"kishoreganj"},{name:"Manikganj",normalized:"manikganj"},{name:"Munshiganj",normalized:"munshiganj"},{name:"Madaripur",normalized:"madaripur"},{name:"Gopalganj",normalized:"gopalganj"},{name:"Shariatpur",normalized:"shariatpur"},{name:"Rajbari",normalized:"rajbari"},{name:"Satkhira",normalized:"satkhira"},{name:"Bagerhat",normalized:"bagerhat"},{name:"Narail",normalized:"narail"},{name:"Magura",normalized:"magura"},{name:"Jhenaidah",normalized:"jhenaidah"},{name:"Meherpur",normalized:"meherpur"},{name:"Chuadanga",normalized:"chuadanga"},{name:"Kurigram",normalized:"kurigram"},{name:"Lalmonirhat",normalized:"lalmonirhat"},{name:"Nilphamari",normalized:"nilphamari"},{name:"Gaibandha",normalized:"gaibandha"},{name:"Thakurgaon",normalized:"thakurgaon"},{name:"Panchagarh",normalized:"panchagarh"},{name:"Joypurhat",normalized:"joypurhat"},{name:"Naogaon",normalized:"naogaon"},{name:"Natore",normalized:"natore"},{name:"Nawabganj",normalized:"nawabganj"},{name:"Sirajganj",normalized:"sirajganj"},{name:"Pirojpur",normalized:"pirojpur"},{name:"Jhalokati",normalized:"jhalokati"},{name:"Barguna",normalized:"barguna"},{name:"Patuakhali",normalized:"patuakhali"},{name:"Bhola",normalized:"bhola"},{name:"Feni",normalized:"feni"},{name:"Lakshmipur",normalized:"lakshmipur"},{name:"Chandpur",normalized:"chandpur"},{name:"Bandarban",normalized:"bandarban"},{name:"Rangamati",normalized:"rangamati"},{name:"Khagrachari",normalized:"khagrachari"}];var H1=[1,3,5,2];async function U1(a){let l=b.getState(),z={...l.settings};if(!z.timeFormat)z.timeFormat="12h";if(!z.theme)z.theme="dark";let u=l.methods;if(!u)try{u=await la(),b.setState({methods:u})}catch{u=[{id:1,name:"University of Islamic Sciences, Karachi"},{id:3,name:"Muslim World League"},{id:5,name:"Egyptian General Authority of Survey"},{id:2,name:"Islamic Society of North America (ISNA)"}]}let S=document.createDocumentFragment();S.appendChild(A("h1",{className:"page-title"},"Settings"));let j=A("div",{className:"settings-form"}),E=A("div",{className:"form-group"});E.appendChild(A("label",{className:"form-label"},"City"));let k=A("select",{className:"form-select","aria-label":"Select city"});for(let H of Wa){let O=A("option",{value:H.name});if(O.textContent=H.name,H.normalized===z.city)O.selected=!0;k.appendChild(O)}k.addEventListener("change",()=>{let H=Wa.find((O)=>O.name===k.value);if(H)z.city=H.normalized,z.cityDisplay=H.name}),E.appendChild(k),j.appendChild(E);let q=A("div",{className:"form-group"});q.appendChild(A("label",{className:"form-label"},"Calculation Method"));let N=A("select",{className:"form-select","aria-label":"Select calculation method"}),J=u.filter((H)=>H1.includes(H.id)),$=u.filter((H)=>!H1.includes(H.id));for(let H of J){let O=A("option",{value:String(H.id)});if(O.textContent=H.id===1?`★ ${H.name} (Recommended)`:H.name,H.id===z.methodId)O.selected=!0;N.appendChild(O)}if($.length>0){let H=A("optgroup",{label:"Other methods"});for(let O of $){let K=A("option",{value:String(O.id)});if(K.textContent=O.name,O.id===z.methodId)K.selected=!0;H.appendChild(K)}N.appendChild(H)}N.addEventListener("change",()=>{let H=parseInt(N.value),O=u.find((K)=>K.id===H);if(O)z.methodId=H,z.methodName=O.name}),q.appendChild(N),q.appendChild(A("div",{className:"form-hint"},"★ Recommended for Bangladesh")),j.appendChild(q);let U=A("div",{className:"form-group"});U.appendChild(A("label",{className:"form-label"},"Asr Calculation"));let X=A("div",{className:"radio-group"}),x=A("label",{className:"radio-option"}),Z=A("input",{type:"radio",name:"school",value:"1"});if(z.school===1)Z.checked=!0;Z.addEventListener("change",()=>{z.school=1}),x.appendChild(Z),x.appendChild(document.createTextNode(" Hanafi (recommended)")),X.appendChild(x);let F=A("label",{className:"radio-option"}),G=A("input",{type:"radio",name:"school",value:"0"});if(z.school===0)G.checked=!0;G.addEventListener("change",()=>{z.school=0}),F.appendChild(G),F.appendChild(document.createTextNode(" Shafi")),X.appendChild(F),U.appendChild(X),j.appendChild(U);let i=A("div",{className:"form-group"});i.appendChild(A("label",{className:"form-label"},"Theme"));let va=A("div",{className:"radio-group"});for(let H of["dark","light","system"]){let O=A("label",{className:"radio-option"}),K=A("input",{type:"radio",name:"theme",value:H});if(z.theme===H)K.checked=!0;K.addEventListener("change",()=>{z.theme=H}),O.appendChild(K),O.appendChild(document.createTextNode(` ${H.charAt(0).toUpperCase()+H.slice(1)}`)),va.appendChild(O)}i.appendChild(va),j.appendChild(i);let qa=A("div",{className:"form-group"});qa.appendChild(A("label",{className:"form-label"},"Time Format"));let $a=A("div",{className:"radio-group radio-group-row"}),ba=A("label",{className:"radio-option"}),Ja=A("input",{type:"radio",name:"timeFormat",value:"12h"});if(z.timeFormat==="12h")Ja.checked=!0;Ja.addEventListener("change",()=>{z.timeFormat="12h"}),ba.appendChild(Ja),ba.appendChild(document.createTextNode(" 12-hour (4:52 AM)")),$a.appendChild(ba);let Ha=A("label",{className:"radio-option"}),Ua=A("input",{type:"radio",name:"timeFormat",value:"24h"});if(z.timeFormat==="24h")Ua.checked=!0;Ua.addEventListener("change",()=>{z.timeFormat="24h"}),Ha.appendChild(Ua),Ha.appendChild(document.createTextNode(" 24-hour (04:52)")),$a.appendChild(Ha),qa.appendChild($a),j.appendChild(qa);let R=A("button",{className:"btn-save"},"\uD83D\uDCBE Save Settings");if(!_.isOnline())R.disabled=!0,R.title="Connect to update";R.addEventListener("click",async()=>{R.disabled=!0,R.textContent="Saving...",d1(z.theme),ca(z);let H=Q(),O=W(),K=v(l.settings.city,l.settings.methodId,l.settings.school,H,O),x1=v(z.city,z.methodId,z.school,H,O);if(K!==x1){let s=await ua(z,H,O);if(s.data)b.setState({settings:z,currentMonthData:s.data,todayData:s.data.days.find((Q1)=>{let Oa=new Date,W1=String(Oa.getDate()).padStart(2,"0"),G1=String(Oa.getMonth()+1).padStart(2,"0");return Q1.dateGregorian===`${W1}-${G1}-${Oa.getFullYear()}`})||null});else b.setState({settings:z,error:s.error||null})}else b.setState({settings:z});p1("Settings saved"),I.navigate("today")}),j.appendChild(R),S.appendChild(j);let Ba=A("div",{className:"settings-footer"});Ba.innerHTML=`
    Data provided by <a href="https://aladhan.com" target="_blank" rel="noopener">AlAdhan.com</a><br>
    App version 1.1.0
  `,S.appendChild(Ba),L(a,S)}function d1(a){if(a==="system"){let l=window.matchMedia("(prefers-color-scheme: dark)").matches;document.documentElement.setAttribute("data-theme",l?"dark":"light")}else document.documentElement.setAttribute("data-theme",a)}function p1(a){let l=document.querySelector(".toast");if(!l)l=A("div",{className:"toast"}),document.body.appendChild(l);l.textContent=a,l.classList.add("show"),setTimeout(()=>l.classList.remove("show"),2000)}var Ea=null;function O1(){if(Ea)return Promise.resolve(Ea);return new Promise((a,l)=>{let z=indexedDB.open(n,T);z.onsuccess=()=>{Ea=z.result,a(Ea)},z.onerror=()=>l(z.error)})}async function Ga(){try{let a=await O1();return new Promise((l,z)=>{let j=a.transaction("duaFavorites","readonly").objectStore("duaFavorites").getAll();j.onsuccess=()=>{let E=(j.result||[]).map((k)=>k.duaId);l(new Set(E))},j.onerror=()=>z(j.error)})}catch{return new Set}}async function Z1(a){try{let l=await O1(),u=(await Ga()).has(a);return new Promise((S,j)=>{let E=l.transaction("duaFavorites","readwrite"),k=E.objectStore("duaFavorites");if(u)k.delete(a);else k.put({duaId:a});E.oncomplete=()=>S(!u),E.onerror=()=>j(E.error)})}catch{return!1}}function ka(a){let l=document.querySelector(".toast");if(!l)l=A("div",{className:"toast"}),document.body.appendChild(l);l.textContent=a,l.classList.add("show"),setTimeout(()=>l.classList.remove("show"),2000)}function h1(a,l,z){let u=A("div",{className:"dua-card"}),S=A("div",{className:"dua-card-header"});S.appendChild(A("span",{className:"dua-card-title"},a.titleEn)),u.appendChild(S),u.appendChild(A("div",{className:"dua-arabic",lang:"ar",dir:"rtl"},a.arabicText)),u.appendChild(A("div",{className:"dua-transliteration"},a.transliteration)),u.appendChild(A("div",{className:"dua-translation"},a.translationEn)),u.appendChild(A("div",{className:"dua-source"},`\uD83D\uDCD6 ${a.source}`));let j=A("div",{className:"dua-actions"}),E=A("button",{className:"dua-action-btn","aria-label":"Copy Arabic"},"\uD83D\uDCCB Arabic");E.addEventListener("click",async()=>{try{await navigator.clipboard.writeText(a.arabicText),ka("Arabic text copied")}catch{ka("Copy failed")}});let k=A("button",{className:"dua-action-btn","aria-label":"Copy Translation"},"\uD83D\uDCCB English");k.addEventListener("click",async()=>{try{await navigator.clipboard.writeText(a.translationEn),ka("Translation copied")}catch{ka("Copy failed")}});let q=A("button",{className:`dua-fav-btn${l?" active":""}`,"aria-label":l?"Remove from favorites":"Add to favorites"},l?"♥":"♡");return q.addEventListener("click",()=>z(a.id)),j.appendChild(E),j.appendChild(k),j.appendChild(q),u.appendChild(j),u}var X1=[{id:"iftar-1",titleEn:"Dua for Breaking Fast",arabicText:"اللَّهُمَّ إِنِّي لَكَ صُمْتُ وَبِكَ آمَنْتُ وَعَلَى رِزْقِكَ أَفْطَرْتُ",transliteration:"Allahumma inni laka sumtu wa bika aamantu wa 'ala rizqika aftartu",translationEn:"O Allah! I fasted for You and I believe in You and I break my fast with Your sustenance.",category:"iftar",source:"Abu Dawud 2358"},{id:"iftar-2",titleEn:"Dua When Breaking Fast",arabicText:"ذَهَبَ الظَّمَأُ وَابْتَلَّتِ الْعُرُوقُ وَثَبَتَ الْأَجْرُ إِنْ شَاءَ اللَّهُ",transliteration:"Dhahaba al-zama'u wabtallatil-'urooqu wa thabatal-ajru inshaa'Allah",translationEn:"The thirst has gone, the veins are moistened, and the reward is confirmed, if Allah wills.",category:"iftar",source:"Abu Dawud 2357"},{id:"sehri-1",titleEn:"Intention for Fasting (Niyyah)",arabicText:"وَبِصَوْمِ غَدٍ نَوَيْتُ مِنْ شَهْرِ رَمَضَانَ",transliteration:"Wa bisawmi ghadin nawaytu min shahri ramadan",translationEn:"I intend to keep the fast for tomorrow in the month of Ramadan.",category:"sehri",source:"Abu Dawud 2454"},{id:"sehri-2",titleEn:"Dua Before Eating Sehri",arabicText:"بِسْمِ اللَّهِ وَعَلَى بَرَكَةِ اللَّهِ",transliteration:"Bismillahi wa 'ala barakatillah",translationEn:"In the name of Allah and with the blessings of Allah.",category:"sehri",source:"General practice"},{id:"general-1",titleEn:"Dua for Forgiveness",arabicText:"رَبَّنَا اغْفِرْ لِي وَلِوَالِدَيَّ وَلِلْمُؤْمِنِينَ يَوْمَ يَقُومُ الْحِسَابُ",transliteration:"Rabbana-ghfir li wa li-walidayya wa lil-mu'mineena yawma yaqoomul-hisaab",translationEn:"Our Lord, forgive me and my parents and the believers the Day the account is established.",category:"general",source:"Quran 14:41"},{id:"general-2",titleEn:"Dua for Mercy",arabicText:"رَبِّ اغْفِرْ وَارْحَمْ وَأَنْتَ خَيْرُ الرَّاحِمِينَ",transliteration:"Rabbighfir warham wa anta khairur-raahimeen",translationEn:"My Lord, forgive and have mercy, and You are the best of the merciful.",category:"general",source:"Quran 23:118"},{id:"general-3",titleEn:"Dua of the Fasting Person",arabicText:"إِنَّ لِلصَّائِمِ عِنْدَ فِطْرِهِ لَدَعْوَةً مَا تُرَدُّ",transliteration:"Inna lis-saa'imi 'inda futrihi lada'watan maa turaddu",translationEn:"The fasting person has a supplication at the time of breaking fast that is not rejected.",category:"general",source:"Ibn Majah 1753"},{id:"general-4",titleEn:"Dua for Guidance",arabicText:"اللَّهُمَّ إِنِّي أَسْأَلُكَ الْهُدَى وَالتُّقَى وَالْعَفَافَ وَالْغِنَى",transliteration:"Allahumma inni as'alukal-huda wat-tuqa wal-'afaafa wal-ghina",translationEn:"O Allah, I ask You for guidance, piety, chastity and self-sufficiency.",category:"general",source:"Muslim 2721"},{id:"qadr-1",titleEn:"Dua for Laylatul Qadr",arabicText:"اللَّهُمَّ إِنَّكَ عَفُوٌّ تُحِبُّ الْعَفْوَ فَاعْفُ عَنِّي",transliteration:"Allahumma innaka 'afuwwun tuhibbul-'afwa fa'fu 'anni",translationEn:"O Allah, You are Pardoning and You love to pardon, so pardon me.",category:"laylatul-qadr",source:"Tirmidhi 3513"},{id:"qadr-2",titleEn:"Seeking the Night of Power",arabicText:"اللَّهُمَّ إِنِّي أَسْأَلُكَ مِنْ فَضْلِكَ وَرَحْمَتِكَ فَإِنَّهُ لَا يَمْلِكُهَا إِلَّا أَنْتَ",transliteration:"Allahumma inni as'aluka min fadlika wa rahmatika fa innahu laa yamlikuhaa illaa anta",translationEn:"O Allah, I ask You from Your bounty and mercy, for none possesses them except You.",category:"laylatul-qadr",source:"Al-Tabarani"}];var r1=[{id:"sehri",label:"Sehri"},{id:"iftar",label:"Iftar"},{id:"general",label:"General"},{id:"laylatul-qadr",label:"Laylatul Qadr"},{id:"favorites",label:"♥ Favorites"}],D="iftar",w="";async function y(a){let l=await Ga(),z=document.createDocumentFragment();z.appendChild(A("h1",{className:"page-title"},"Duas"));let u=A("div",{className:"dua-search-wrap"}),S=A("input",{className:"dua-search",type:"text",placeholder:"\uD83D\uDD0D Search duas...",value:w});S.addEventListener("input",()=>{w=S.value,y(a)}),u.appendChild(S),z.appendChild(u);let j=A("div",{className:"category-tabs-wrap"}),E=A("div",{className:"category-tabs",role:"tablist"});for(let N of r1){let J=A("button",{className:`category-tab${N.id===D?" active":""}`,role:"tab","aria-selected":N.id===D?"true":"false"},N.label);J.addEventListener("click",()=>{D=N.id,y(a)}),E.appendChild(J)}j.appendChild(E),z.appendChild(j);let k=X1,q;if(D==="favorites")q=k.filter((N)=>l.has(N.id));else q=k.filter((N)=>N.category===D);if(w.trim()){let N=w.toLowerCase();q=q.filter((J)=>J.titleEn.toLowerCase().includes(N)||J.transliteration.toLowerCase().includes(N)||J.translationEn.toLowerCase().includes(N))}if(q.length===0){let N=A("div",{className:"error-state"});N.appendChild(A("div",{className:"error-icon"},D==="favorites"?"♡":"\uD83E\uDD32")),N.appendChild(A("div",{className:"error-message"},w?"No duas match your search.":D==="favorites"?"No favorites yet. Tap the heart on any dua to save it.":"No duas in this category.")),z.appendChild(N)}else for(let N of q)z.appendChild(h1(N,l.has(N.id),async(J)=>{await Z1(J),y(a)}));if(L(a,z),w){let N=a.querySelector(".dua-search");if(N)N.focus(),N.setSelectionRange(N.value.length,N.value.length)}}var Na=null;function Ia(){if(Na)return Promise.resolve(Na);return new Promise((a,l)=>{let z=indexedDB.open(n,T);z.onsuccess=()=>{Na=z.result,a(Na)},z.onerror=()=>l(z.error)})}async function Ya(){try{let a=await Ia();return new Promise((l,z)=>{let j=a.transaction("quranProgress","readonly").objectStore("quranProgress").get("progress");j.onsuccess=()=>l(j.result||{id:"progress",completedDays:[],lastUpdated:""}),j.onerror=()=>z(j.error)})}catch{return{completedDays:[],lastUpdated:""}}}async function _a(a){let l=await Ya(),z=l.completedDays.indexOf(a);if(z>=0)l.completedDays.splice(z,1);else l.completedDays.push(a),l.completedDays.sort((u,S)=>u-S);l.lastUpdated=new Date().toISOString();try{let u=await Ia();await new Promise((S,j)=>{let E=u.transaction("quranProgress","readwrite");E.objectStore("quranProgress").put({id:"progress",...l}),E.oncomplete=()=>S(),E.onerror=()=>j(E.error)})}catch{}return l}async function L1(){try{let a=await Ia();await new Promise((l,z)=>{let u=a.transaction("quranProgress","readwrite");u.objectStore("quranProgress").put({id:"progress",completedDays:[],lastUpdated:new Date().toISOString()}),u.oncomplete=()=>l(),u.onerror=()=>z(u.error)})}catch{}}function V1(a,l,z,u){let S="quran-day-card";if(l)S+=" completed";if(z)S+=" today";let j=A("div",{className:S,id:z?"quran-today":void 0}),E=A("div",{className:"quran-day-info"});E.appendChild(A("div",{className:"quran-day-num"},`Day ${a.day} · Juz ${a.juz}`)),E.appendChild(A("div",{className:"quran-day-surah"},`${a.surahStart} ${a.ayahStart} – ${a.surahEnd} ${a.ayahEnd}`)),E.appendChild(A("div",{className:"quran-day-pages"},`Pages ${a.pages}`));let k=A("div",{className:"quran-checkbox"},l?"☑":"☐");return j.appendChild(E),j.appendChild(k),j.addEventListener("click",()=>u(a.day)),j}var F1=[{day:1,juz:1,surahStart:"Al-Fatiha",ayahStart:1,surahEnd:"Al-Baqarah",ayahEnd:141,pages:"1–20"},{day:2,juz:2,surahStart:"Al-Baqarah",ayahStart:142,surahEnd:"Al-Baqarah",ayahEnd:252,pages:"21–40"},{day:3,juz:3,surahStart:"Al-Baqarah",ayahStart:253,surahEnd:"Al-Imran",ayahEnd:92,pages:"41–60"},{day:4,juz:4,surahStart:"Al-Imran",ayahStart:93,surahEnd:"An-Nisa",ayahEnd:23,pages:"61–80"},{day:5,juz:5,surahStart:"An-Nisa",ayahStart:24,surahEnd:"An-Nisa",ayahEnd:147,pages:"81–100"},{day:6,juz:6,surahStart:"An-Nisa",ayahStart:148,surahEnd:"Al-Ma'idah",ayahEnd:81,pages:"101–120"},{day:7,juz:7,surahStart:"Al-Ma'idah",ayahStart:82,surahEnd:"Al-An'am",ayahEnd:110,pages:"121–140"},{day:8,juz:8,surahStart:"Al-An'am",ayahStart:111,surahEnd:"Al-A'raf",ayahEnd:87,pages:"141–160"},{day:9,juz:9,surahStart:"Al-A'raf",ayahStart:88,surahEnd:"Al-Anfal",ayahEnd:40,pages:"161–180"},{day:10,juz:10,surahStart:"Al-Anfal",ayahStart:41,surahEnd:"At-Tawbah",ayahEnd:92,pages:"181–200"},{day:11,juz:11,surahStart:"At-Tawbah",ayahStart:93,surahEnd:"Hud",ayahEnd:5,pages:"201–220"},{day:12,juz:12,surahStart:"Hud",ayahStart:6,surahEnd:"Yusuf",ayahEnd:52,pages:"221–240"},{day:13,juz:13,surahStart:"Yusuf",ayahStart:53,surahEnd:"Ibrahim",ayahEnd:52,pages:"241–260"},{day:14,juz:14,surahStart:"Al-Hijr",ayahStart:1,surahEnd:"An-Nahl",ayahEnd:128,pages:"261–280"},{day:15,juz:15,surahStart:"Al-Isra",ayahStart:1,surahEnd:"Al-Kahf",ayahEnd:74,pages:"281–300"},{day:16,juz:16,surahStart:"Al-Kahf",ayahStart:75,surahEnd:"Ta-Ha",ayahEnd:135,pages:"301–320"},{day:17,juz:17,surahStart:"Al-Anbiya",ayahStart:1,surahEnd:"Al-Hajj",ayahEnd:78,pages:"321–340"},{day:18,juz:18,surahStart:"Al-Mu'minun",ayahStart:1,surahEnd:"Al-Furqan",ayahEnd:20,pages:"341–360"},{day:19,juz:19,surahStart:"Al-Furqan",ayahStart:21,surahEnd:"An-Naml",ayahEnd:55,pages:"361–380"},{day:20,juz:20,surahStart:"An-Naml",ayahStart:56,surahEnd:"Al-Ankabut",ayahEnd:45,pages:"381–400"},{day:21,juz:21,surahStart:"Al-Ankabut",ayahStart:46,surahEnd:"Al-Ahzab",ayahEnd:30,pages:"401–420"},{day:22,juz:22,surahStart:"Al-Ahzab",ayahStart:31,surahEnd:"Ya-Sin",ayahEnd:27,pages:"421–440"},{day:23,juz:23,surahStart:"Ya-Sin",ayahStart:28,surahEnd:"Az-Zumar",ayahEnd:31,pages:"441–460"},{day:24,juz:24,surahStart:"Az-Zumar",ayahStart:32,surahEnd:"Fussilat",ayahEnd:46,pages:"461–480"},{day:25,juz:25,surahStart:"Fussilat",ayahStart:47,surahEnd:"Al-Jathiyah",ayahEnd:37,pages:"481–500"},{day:26,juz:26,surahStart:"Al-Ahqaf",ayahStart:1,surahEnd:"Al-Hadid",ayahEnd:29,pages:"501–520"},{day:27,juz:27,surahStart:"Al-Mujadila",ayahStart:1,surahEnd:"At-Tahrim",ayahEnd:12,pages:"521–540"},{day:28,juz:28,surahStart:"Al-Mulk",ayahStart:1,surahEnd:"Al-Mursalat",ayahEnd:50,pages:"541–560"},{day:29,juz:29,surahStart:"An-Naba",ayahStart:1,surahEnd:"At-Takwir",ayahEnd:29,pages:"561–580"},{day:30,juz:30,surahStart:"Al-Infitar",ayahStart:1,surahEnd:"An-Nas",ayahEnd:6,pages:"581–604"}];var M="all",r=null;function o1(){let a=b.getState();if(a.todayData?.isRamadan&&a.todayData.ramadanDay)return a.todayData.ramadanDay;if(a.todayData?.isRamadan)return a.todayData.hijriDay;return null}function t1(a,l){if(r)clearTimeout(r);let z=document.querySelector(".undo-toast");if(z)z.remove();let u=A("div",{className:"undo-toast show"});u.appendChild(A("span",null,a));let S=A("button",{className:"undo-btn"},"Undo");S.addEventListener("click",()=>{if(l(),u.remove(),r)clearTimeout(r)}),u.appendChild(S),document.body.appendChild(u),r=window.setTimeout(()=>{u.classList.remove("show"),setTimeout(()=>u.remove(),300)},4000)}async function c(a){let l=await Ya(),z=new Set(l.completedDays),u=F1,S=o1(),j=document.createDocumentFragment(),E=A("div",{className:"quran-title-row"});if(E.appendChild(A("h1",{className:"page-title"},"Quran Plan")),S){let Z=A("button",{className:"calendar-action-btn"},"\uD83D\uDCCD Go to today");Z.addEventListener("click",()=>{let F=a.querySelector("#quran-today");if(F)F.scrollIntoView({behavior:"smooth",block:"center"})}),E.appendChild(Z)}j.appendChild(E);let k=A("div",{className:"quran-progress"}),q=A("div",{className:"quran-progress-text"},`${z.size}/30 days complete`),N=A("div",{className:"quran-progress-bar"}),J=A("div",{className:"quran-progress-fill"});J.style.width=`${z.size/30*100}%`,N.appendChild(J),k.appendChild(q),k.appendChild(N),j.appendChild(k);let $=A("div",{className:"quran-filters"}),U=[{id:"all",label:"All"},{id:"pending",label:"Pending"},{id:"completed",label:"Completed"}];for(let Z of U){let F=A("button",{className:`filter-pill${Z.id===M?" active":""}`},Z.label);F.addEventListener("click",()=>{M=Z.id,c(a)}),$.appendChild(F)}j.appendChild($);let X=u;if(M==="pending")X=u.filter((Z)=>!z.has(Z.day));else if(M==="completed")X=u.filter((Z)=>z.has(Z.day));for(let Z of X){let F=Z.day===S;j.appendChild(V1(Z,z.has(Z.day),F,async(G)=>{let i=z.has(G);await _a(G),t1(i?`Day ${G} marked pending`:`Day ${G} completed`,async()=>{await _a(G),c(a)}),c(a)}))}if(X.length===0){let Z=A("div",{className:"error-state"});Z.appendChild(A("div",{className:"error-icon"},M==="completed"?"\uD83D\uDCD6":"✅")),Z.appendChild(A("div",{className:"error-message"},M==="completed"?"No completed days yet.":"All days completed!")),j.appendChild(Z)}let x=A("button",{className:"btn-reset"},"Reset Progress");x.addEventListener("click",async()=>{if(confirm("Are you sure you want to reset all Quran reading progress?"))await L1(),c(a)}),j.appendChild(x),L(a,j)}async function e1(){Ra();let a=Ma();if(a.theme==="system"){let S=window.matchMedia("(prefers-color-scheme: dark)").matches;document.documentElement.setAttribute("data-theme",S?"dark":"light"),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",(j)=>{if(b.getState().settings.theme==="system")document.documentElement.setAttribute("data-theme",j.matches?"dark":"light")})}else document.documentElement.setAttribute("data-theme",a.theme);let l={settings:a,currentMonthData:null,otherMonthData:null,todayData:null,nextPrayer:null,isOnline:navigator.onLine,isLoading:!0,error:null,methods:null};Ta(l),_.init(),_.onChange((S)=>{b.setState({isOnline:S})}),await ya();let z=document.getElementById("app"),u=document.createElement("main");u.setAttribute("role","main"),z.appendChild(A1()),z.appendChild(u),z.appendChild(u1()),I.onRouteChange((S)=>{K1(S,u)});try{let{current:S,other:j}=await l1(a);b.setState({currentMonthData:S.data,otherMonthData:j?.data||null,isLoading:!1,error:S.source==="error"?S.error||"Failed to load data":null});let E=$1();b.setState({todayData:E})}catch(S){b.setState({isLoading:!1,error:S.message||"Failed to load prayer times"})}if(la().then((S)=>b.setState({methods:S})).catch(()=>{}),I.init(),!window.location.hash||window.location.hash==="#/"||window.location.hash==="#")K1("today",u);if("serviceWorker"in navigator)navigator.serviceWorker.register("/sw.js").catch(()=>{})}function K1(a,l){switch(q1(),a){case"today":Qa(l);break;case"calendar":m(l);break;case"settings":U1(l);break;case"duas":y(l);break;case"quran":c(l);break}}e1().catch(console.error);
